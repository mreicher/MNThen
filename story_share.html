<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <title>Minnesota Then | Share Your Story</title>
  <link rel="shortcut icon" type="image/jpg" href="images/mnthenfav.ico" />
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css">
  <style>
    body {
      font-family: 'Roboto', sans-serif;
      background-color: #f8f9fa;
    }
    .hero {
      background-image: url('images/header.jpg');
      background-size: cover;
      background-position: center;
      height: 300px;
      display: flex;
      align-items: center;
      justify-content: center;
      color: white;
      text-shadow: 2px 2px 4px rgba(0,0,0,0.5);
    }
    .content {
      background-color: white;
      border-radius: 8px;
      box-shadow: 0 4px 6px rgba(0,0,0,0.1);
      padding: 2rem;
      margin-top: -50px;
    }
    .headline {
      color: #007bff;
      margin-bottom: 1.5rem;
    }
    .form-control:focus {
      border-color: #007bff;
      box-shadow: 0 0 0 0.2rem rgba(0,123,255,.25);
    }
    .btn-primary {
      background-color: #007bff;
      border-color: #007bff;
    }
    .btn-primary:hover {
      background-color: #0056b3;
      border-color: #0056b3;
    }
    .community-guidelines {
      background-color: #e9ecef;
      border-radius: 8px;
      padding: 1.5rem;
      margin-top: 2rem;
    }
    #wordCount {
      font-size: 0.9rem;
      color: #6c757d;
    }
  </style>
</head>

<body>
  <header>
    <nav class="navbar navbar-expand-md navbar-light bg-light">
      <div class="container">
        <a class="navbar-brand" href="/index.html">
          <img src="images/logo.png" alt="Minnesota Then Logo" height="30">
          Minnesota Then
        </a>
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNav">
          <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarNav">
          <ul class="navbar-nav ml-auto">
            <li class="nav-item">
              <a class="nav-link" href="/index.html">Home</a>
            </li>
            <li class="nav-item active">
              <a class="nav-link" href="#">Share Your Story</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="/about.html">About</a>
            </li>
          </ul>
        </div>
      </div>
    </nav>
  </header>

  <main>
    <div class="hero">
      <h1 class="display-4">Share Your Minnesota Story</h1>
    </div>

    <div class="container content">
      <h2 class="headline text-center">Contribute to Minnesota's Rich History</h2>
      <div class="intro mb-4">
        <p>Minnesota Then is collecting stories about what life was like in Minnesota's past. We want to hear your unique perspectives and experiences to share with current and future generations. Whether it's a story passed down through your family, an event you experienced yourself, or peer-reviewed formal research, we welcome a wide range of topics and time periods.</p>
        <p>From pioneer days to the 21st century, small tales to historic moments, ordinary lives to famous Minnesotans - we want to hear your Minnesota story.</p>
      </div>

      <ul class="nav nav-tabs mb-4" id="storyTabs" role="tablist">
        <li class="nav-item">
          <a class="nav-link active" id="personal-tab" data-toggle="tab" href="#personal" role="tab">Personal/Family History</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" id="research-tab" data-toggle="tab" href="#research" role="tab">Researched Story</a>
        </li>
      </ul>

      <div class="tab-content" id="storyTabContent">
        <div class="tab-pane fade show active" id="personal" role="tabpanel">
          <p>Share a story passed down through your family or an event you experienced yourself. These personal accounts help bring history to life.</p>
        </div>
        <div class="tab-pane fade" id="research" role="tabpanel">
          <p>Submit a well-researched historical story about Minnesota. Please include at least three credible sources with your submission.</p>
        </div>
      </div>

      <form id="storyForm" class="mt-4" action="https://formsubmit.co/mattreicher@protonmail.com" method="POST" onsubmit="return validateForm()">
        <div class="form-group">
          <label for="fullName"><i class="fas fa-user"></i> Full Name</label>
          <input type="text" class="form-control" id="fullName" name="fullName" required>
        </div>

        <div class="form-group">
          <label for="email"><i class="fas fa-envelope"></i> Email</label>
          <input type="email" class="form-control" id="email" name="email" required>
        </div>

        <div class="form-group">
          <label for="website"><i class="fas fa-globe"></i> Website (optional)</label>
          <input type="url" class="form-control" id="website" name="website">
        </div>

        <div class="form-group">
          <label for="storyText"><i class="fas fa-book-open"></i> Your Story (300 - 500 words)</label>
          <textarea class="form-control" id="storyText" name="storyText" rows="10" required></textarea>
          <small id="wordCount" class="form-text text-muted">Word count: 0</small>
        </div>

        <div id="sourcesGroup" class="form-group d-none">
          <label for="sources"><i class="fas fa-quote-left"></i> Sources (at least 3)</label>
          <textarea class="form-control" id="sources" name="sources" rows="5"></textarea>
        </div>

        <div class="form-group form-check">
          <input type="checkbox" class="form-check-input" id="notRobot" required>
          <label class="form-check-label" for="notRobot">I'm not a robot</label>
        </div>

        <div class="text-center">
          <button type="submit" class="btn btn-primary btn-lg">Submit Story</button>
          <a href="index.html" class="btn btn-secondary btn-lg ml-2">Return to Main Page</a>
        </div>

        <input type="hidden" name="_captcha" value="false">
        <input type="hidden" name="_next" value="https://www.mnthen.com/thankyou/ty_story.html">
      </form>

      <div class="community-guidelines mt-5">
        <h3><i class="fas fa-users"></i> Community Guidelines</h3>
        <ul class="list-unstyled">
          <li><i class="fas fa-check text-success"></i> Be respectful and considerate of others in your storytelling.</li>
          <li><i class="fas fa-check text-success"></i> Ensure your story is factual and verifiable.</li>
          <li><i class="fas fa-check text-success"></i> Avoid sharing sensitive personal information about living individuals without their consent.</li>
          <li><i class="fas fa-check text-success"></i> If including images, ensure you have the right to share them.</li>
          <li><i class="fas fa-check text-success"></i> Be open to feedback and potential edits to your story.</li>
        </ul>
      </div>
    </div>
  </main>

  <footer class="bg-light mt-5 py-3">
    <div class="container text-center">
      <p class="m-0">&copy; 2023 Minnesota Then. All Rights Reserved.</p>
    </div>
  </footer>

  <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.5.3/dist/umd/popper.min.js"></script>
  <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
  <script>
    function countWords(str) {
      return str.trim().split(/\s+/).length;
    }

    function updateWordCount() {
      const text = document.getElementById('storyText').value;
      const wordCount = countWords(text);
      document.getElementById('wordCount').textContent = `Word count: ${wordCount}`;
    }

    function validateForm() {
      const wordCount = countWords(document.getElementById('storyText').value);
      if (wordCount < 300 || wordCount > 500) {
        alert('Your story must be between 300 and 500 words.');
        return false;
      }

      const isResearchTab = document.getElementById('research-tab').classList.contains('active');
      if (isResearchTab) {
        const sources = document.getElementById('sources').value.trim();
        if (sources === '') {
          alert('Please provide at least three sources for your researched story.');
          return false;
        }
      }

      return true;
    }

    document.getElementById('storyText').addEventListener('input', updateWordCount);

    document.getElementById('storyTabs').addEventListener('shown.bs.tab', function (e) {
      const isResearchTab = e.target.id === 'research-tab';
      document.getElementById('sourcesGroup').classList.toggle('d-none', !isResearchTab);
    });
  </script>
</body>

</html>
