<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <link rel="stylesheet" href="https://www.mnthen.com/css/mnthen_header.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">
</head>

<style>
.mnthen-dropdown-btn, .mnthen-mobile-menu {
  cursor: pointer;
  touch-action: manipulation;
  -webkit-tap-highlight-color: transparent;
}

.mnthen-dropdown-content {
  -webkit-overflow-scrolling: touch;
  display: none;
  position: absolute;
  background: #fff;
  min-width: 200px;
  box-shadow: 0 2px 5px rgba(0,0,0,0.2);
  z-index: 1000;
}

.mnthen-dropdown-content.active {
  display: block;
}

@media (max-width: 768px) {
  .mnthen-nav {
    display: none;
  }
  
  .mnthen-nav.active {
    display: block;
    position: absolute;
    top: 60px;
    left: 0;
    right: 0;
    background: #fff;
  }
  
  .mnthen-dropdown-content {
    position: static;
    box-shadow: none;
    padding-left: 20px;
  }
}
    </style>
    
<body>
<header class="mnthen-header">
  <div class="mnthen-header-container">
    <a href="/" class="mnthen-logo">Minnesota Then</a>
    
    <button class="mnthen-mobile-menu" aria-label="Toggle menu">
      <span></span>
      <span></span>
      <span></span>
    </button>
    
    <nav class="mnthen-nav">
      <ul class="mnthen-nav-list">
        <li class="mnthen-nav-item">
          <button class="mnthen-dropdown-btn">
            About
            <svg class="mnthen-dropdown-arrow" viewBox="0 0 24 24" width="16" height="16">
              <path d="M7 10l5 5 5-5z"/>
            </svg>
          </button>
          <div class="mnthen-dropdown-content">
            <a href="https://mnthen.com/mission.html">Our Mission</a>
            <a href="https://mnthen.com/blog/creator/matt_reicher.html">Staff</a>
            <a href="https://mnthen.com/contact">Contact</a>
          </div>
        </li>
        <li class="mnthen-nav-item">
          <button class="mnthen-dropdown-btn">
            Multimedia
            <svg class="mnthen-dropdown-arrow" viewBox="0 0 24 24" width="16" height="16">
              <path d="M7 10l5 5 5-5z"/>
            </svg>
          </button>
          <div class="mnthen-dropdown-content">
            <a href="https://mnthen.com/blog.html">Blog</a>
            <a href="/youtube">YouTube</a>
            <a href="https://mnthen.com/podcast.html">Podcast</a>
          </div>
        </li>
        <li class="mnthen-nav-item">
          <button class="mnthen-dropdown-btn">
            Resources
            <svg class="mnthen-dropdown-arrow" viewBox="0 0 24 24" width="16" height="16">
              <path d="M7 10l5 5 5-5z"/>
            </svg>
          </button>
          <div class="mnthen-dropdown-content">
            <a href="https://mnthen.com/faq.html">Help Center</a>
            <a href="https://mnthen.com/upcoming_events.html">Upcoming Events</a>
            <a href="https://mnthen.com/resources.html">Research Tools</a>
          </div>
        </li>
        <li class="mnthen-nav-item">
          <button class="mnthen-dropdown-btn">
            Contribute
            <svg class="mnthen-dropdown-arrow" viewBox="0 0 24 24" width="16" height="16">
              <path d="M7 10l5 5 5-5z"/>
            </svg>
          </button>
          <div class="mnthen-dropdown-content">
            <a href="https://mnthen.com/donate.html">Donate</a>
            <a href="#">Join Our Patreon</a>
            <a href="https://mnthen.com/markers.html">Community Markers</a>
          </div>
        </li>
      </ul>
    </nav>
  </div>
</header>
    
<script>
document.addEventListener('DOMContentLoaded', function () {
  // Mobile menu functionality
  const mobileMenu = document.querySelector('.mnthen-mobile-menu');
  const nav = document.querySelector('.mnthen-nav');

  mobileMenu?.addEventListener('click', function (e) {
    e.stopPropagation();
    this.classList.toggle('active');
    nav.classList.toggle('active');
  });

  // Enhanced dropdown functionality for both click and touch
  const dropdownBtns = document.querySelectorAll('.mnthen-dropdown-btn');
  const handleDropdown = function (e) {
    e.stopPropagation();
    e.preventDefault();
    const dropdownContent = this.nextElementSibling;

    // Close other dropdowns
    document.querySelectorAll('.mnthen-dropdown-content').forEach(dropdown => {
      if (dropdown !== dropdownContent) {
        dropdown.classList.remove('active');
      }
    });

    // Toggle the clicked dropdown
    dropdownContent.classList.toggle('active');
  };

  dropdownBtns.forEach(btn => {
    btn.addEventListener('click', handleDropdown);
    btn.addEventListener('touchstart', handleDropdown, { passive: false });
  });

  // Close dropdowns and mobile menu on outside click/touch
  const handleOutsideClick = function (e) {
    // Close dropdowns if clicked outside
    if (!e.target.closest('.mnthen-dropdown-content') && !e.target.closest('.mnthen-dropdown-btn')) {
      document.querySelectorAll('.mnthen-dropdown-content').forEach(dropdown => {
        dropdown.classList.remove('active');
      });
    }

    // Close mobile menu if clicked outside
    if (!e.target.closest('.mnthen-nav') && !e.target.closest('.mnthen-mobile-menu')) {
      if (nav) nav.classList.remove('active');
      if (mobileMenu) mobileMenu.classList.remove('active');
    }
  };

  document.addEventListener('click', handleOutsideClick);
  document.addEventListener('touchend', handleOutsideClick);

  // Handle window resize
  const mobileBreakpoint = 768;
  window.addEventListener('resize', function () {
    if (window.innerWidth > mobileBreakpoint) {
      // Close mobile menu and dropdowns on desktop view
      if (nav) nav.classList.remove('active');
      if (mobileMenu) mobileMenu.classList.remove('active');
      document.querySelectorAll('.mnthen-dropdown-content').forEach(dropdown => {
        dropdown.classList.remove('active');
      });
    }
  });
});
</script>
</body>
</html>
