<!DOCTYPE html>
<html lang="en">
<head>

  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
  <meta name="keywords" content="Minnesota, history, walking tours, interactive, landmarks, neighborhoods">
  <title>Minnesota Then | Blpg</title>
<link rel="shortcut icon" type="image/x-icon" href="https://www.mnthen.com/images/mnthenfav.ico">

        <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">
  
        <link rel="stylesheet" href="https://www.mnthen.com/css/dropdown.css">

    <!-- Bootstrap 5.3.2 CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
  
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css">
    
  <style>
input[type="search"]::-webkit-search-cancel-button {
  -webkit-appearance: none;
  appearance: none;
}
    
html, body {
  height: 100%;
  margin: 0;
  padding: 0;
}

body {
    background: #f5f7fa;
  font-family: system-ui, -apple-system, sans-serif;
  display: flex;
  flex-direction: column;
  min-height: 100vh;
}

main {
  flex: 1 0 auto;
}
    
.mnt-clear-button {
    display: none;
}

.mnt-search-input:not(:placeholder-shown) ~ .mnt-clear-button {
    display: block;
}

.mnt-search-input {
    padding-right: 5rem !important;
}
    
.mnt-primary-nav {
    position: fixed;
    top: 70px;
    left: 0;
    right: 0;
    background: white;
    z-index: 1030;
    border-bottom: 1px solid rgba(0,0,0,0.1);
    padding: 0.5rem 0;
}

.container-fluid {
    max-width: 1400px;
    margin: 0 auto;
}

.navbar-nav {
    display: flex;
    gap: 1rem;
    align-items: center;
    margin: 0;
    padding: 0;
}

.btn-outline-secondary:hover {
    background-color: #1a3c6e;
    border: none;
    color: white;
}

.navbar .btn {
  min-width: 100px;
  transition: all 0.3s ease;
  transform: translateY(0);
}

.navbar .btn:hover {
  transform: translateY(-2px);
  box-shadow: 0 4px 8px rgba(0, 0, 0, 0.025);
}

.navbar .btn:active {
  transform: translateY(0);
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.025);
}

.nav-item {
    position: relative;
}

.text-secondary.fw-medium {
    color: #6c757d;
    margin-right: 1rem;
}

.mnt-nav-link {
    color: #333;
    font-weight: 500;
    font-size: 1rem;
    padding: 0.5rem 1rem;
    text-decoration: none;
    transition: all 0.2s ease-in-out;
    position: relative;
}

.nav-link-underline {
    position: absolute;
    bottom: -2px;
    left: 0;
    width: 0;
    height: 2px;
    background-color: #007bff;
    transition: width 0.2s ease-in-out;
}

.mnt-nav-link:hover .nav-link-underline {
    width: 100%;
}

.mnt-search-form {
    margin-left: auto;
    width: 300px;
}

.mnt-search-wrapper {
    width: 100%;
    position: relative;
}

.mnt-search-input {
    width: 100%;
    padding: 0.625rem 2.5rem 0.625rem 1rem;
    border: 1px solid rgba(0,0,0,0.1);
    border-radius: 50px;
    background-color: #f8f9fa;
    transition: all 0.2s ease-in-out;
}

.mnt-search-input:focus {
    outline: none;
    box-shadow: 0 0 0 2px rgba(0,123,255,0.25);
    background-color: white;
}

.mnt-search-button {
   position: absolute;
   right: 0.75rem;
   top: 50%;
   transform: translateY(-50%);
   background: none;
   border: none;
   padding: 0;
   color: #6c757d;
   transition: color 0.3s ease;
   cursor: pointer;
   outline: none;
}

.mnt-search-button:hover {
   color: #007bff;
}

.mnt-search-button:focus {
   outline: none;
   box-shadow: none;
}

main {
    margin-top: calc(70px + 60px);
    position: relative;
    z-index: 1;
}

@media (max-width: 991.98px) {
    .navbar-nav {
        display: none;
    }
    
    .mnt-search-form {
        width: 100%;
        margin-top: 1rem;
    }
}

.d-flex {
    display: flex;
}

.align-items-center {
    align-items: center;
}

.justify-content-center {
    justify-content: center;
}

.position-relative {
    position: relative;
}

.text-center {
    text-align: center;
}

.carousel-item img {
  height: 400px;
  object-fit: cover;
}

.carousel-caption {
  background: rgba(0, 0, 0, 0.7);
  left: 0;
  right: 0;
  bottom: 0;
  padding: 1rem;
  text-align: left;
}

.carousel-control-prev,
.carousel-control-next {
  width: 10%;
  opacity: 0.8;
}

.carousel-control-prev-icon,
.carousel-control-next-icon {
  background-color: rgba(0, 0, 0, 0.5);
  border-radius: 50%;
  padding: 15px;
}

.carousel-indicators {
    visibility: hidden;
    height: 0;
    margin: 0;
    padding: 0;
}

.card {
  height: 100%;
}

.card-title {
  color: #2c3e50;
  font-size: 1.5rem;
  border-bottom: 2px solid #e9ecef;
}

.article-item {
  display: flex;
  gap: 1rem;
  padding-bottom: 1rem;
  margin-bottom: 1rem;
  border-bottom: 1px solid #dee2e6;
}

.article-item:last-child {
  border-bottom: none;
  margin-bottom: 0;
}

.article-image {
  width: 120px;
  height: 120px;
  object-fit: cover;
  border-radius: 0.5rem;
}

.article-content {
  flex: 1;
}

.article-content h5 {
  font-size: 1.1rem;
  margin-bottom: 0.5rem;
}

.article-content h5 a {
  color: #2c3e50;
  text-decoration: none;
  transition: color 0.2s;
}

.article-content h5 a:hover {
  color: #0056b3;
}

.text-muted {
  color: #6c757d;
  font-size: 1.1rem;
  line-height: 1.4;
}

.shadow {
  box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
}

.shadow-sm {
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.05);
}

.rounded {
  border-radius: 0.5rem;
}

@media (max-width: 991.98px) {
  .carousel-item img {
    height: 300px;
  }

  .article-image {
    width: 100px;
    height: 100px;
  }

  .article-content h5 {
    font-size: 1rem;
  }

  .text-muted {
    font-size: 1.1rem;
  }
}

@media (max-width: 575.98px) {
  .carousel-item img {
    height: 250px;
  }

  .article-image {
    width: 80px;
    height: 80px;
  }

  .article-content h5 {
    font-size: 0.95rem;
  }

  .card-title {
    font-size: 1.25rem;
  }

  .text-muted {
    font-size: 1rem;
  }

  .article-item {
    gap: 0.75rem;
    padding-bottom: 0.75rem;
    margin-bottom: 0.75rem;
  }
}

.carousel-container,
.recent-articles-container {
  height: 500px;
}

.carousel {
  height: 100%;
}

.carousel-inner {
  height: 100%;
}

.carousel-item {
  height: 100%;
}

.carousel-item img {
  height: 100%;
  width: 100%;
  object-fit: cover;
}

.carousel-caption {
  background: rgba(0, 0, 0, 0.6);
  left: 0;
  right: 0;
  bottom: 0;
  padding: 20px;
}

.card {
  height: 100%;
}

.card-body {
  display: flex;
  flex-direction: column;
  height: 100%;
  padding: 1.5rem;
}

.card-title {
  font-size: 1.25rem;
  margin-bottom: 1.5rem;
  padding-bottom: 0.75rem;
}

.recent-articles {
  flex: 1;
  display: flex;
  flex-direction: column;
}

.article-item {
  display: flex;
  gap: 1rem;
  margin-bottom: 1.25rem;
}

.article-image {
  width: 80px;
  height: 80px;
  object-fit: cover;
  border-radius: 12px;
  flex-shrink: 0;
}

.article-content {
  flex: 1;
}

.article-content h5 {
  font-size: 1rem;
  margin-bottom: 0.5rem;
}

.article-content p {
  font-size: 0.9rem;
  line-height: 1.4;
  color: #666;
  margin-bottom: 0;
}

.read-more-link {
  margin-top: auto;
  text-align: right;
  padding-top: 1rem;
}

.read-more-link a {
  color: #0d6efd;
  text-decoration: none;
  font-size: 1rem;
  font-weight: 500;
  transition: all 0.3s ease;
}

.read-more-link a:hover {
  text-decoration: underline;
  transform: translateX(5px);
}

@media (max-width: 768px) {
  .carousel-container,
  .recent-articles-container {
    height: 400px;
  }

  .article-image {
    width: 70px;
    height: 70px;
  }
}

.section-title {
  text-align: center;
}

#today-date {
  text-align: center;
  font-size: 18px;
  font-weight: bold;
  margin-top: 10px;
  margin-bottom: 15px;
}

.today-in-history {
  background-color: #d3d3d3;
  padding: 60px 0;
  position: relative;
}

.today-in-history::before {
  content: "";
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  height: 8px;
  background-color: #0077b6;
}

.today-in-history .container-fluid {
  width: 90%;
  max-width: 1200px;
  margin: 0 auto;
  padding: 0 15px;
}

.today-in-history .section-title {
  font-size: 1.75rem;
  font-weight: 600;
  color: #333;
  margin-bottom: 10px;
  text-transform: uppercase;
  text-align: center;
  letter-spacing: 1px;
}

.today-in-history #today-in-history-content {
  background-color: #fff;
  padding: 30px;
  border-radius: 10px;
  box-shadow: 0 2px 10px rgba(0, 0, 0, 0.025);
  height: 250px;
}

.today-in-history #today-in-history-content p {
  font-size: 1.125rem;
  line-height: 1.5;
  margin-bottom: 10px;
}

.today-in-history #today-in-history-content p strong {
  font-weight: 700;
  color: #d9534f;
}

.img-fluid {
  display: block;
  margin: 0 auto;
}

#today-date {
  text-align: center;
  font-size: 18px;
  font-weight: bold;
  margin-bottom: 20px;
}

.spotlight-grid {
  display: grid;
  grid-template-columns: repeat(2, 1fr);
  gap: 1.25rem;
}

.spotlight-item {
  display: flex;
  flex-direction: column;
}

.spotlight-item img {
  width: 100%;
  height: 200px;
  object-fit: cover;
  border-radius: 12px;
  margin-bottom: 0.5rem;
}

.spotlight-item h5 {
  font-size: 1rem;
  margin: 0;
  line-height: 1.3;
}

.history-hub-grid {
  display: grid;
  grid-template-columns: repeat(2, 1fr);
  gap: 1.25rem;
}

.history-hub-item {
  display: flex;
  flex-direction: column;
}

.history-hub-item img {
  width: 100%;
  height: 225px;
  object-fit: cover;
  border-radius: 12px;
  margin-bottom: 0.5rem;
}

.history-hub-item h5 {
  font-size: 0.9rem;
  margin-bottom: 0.5rem;
  line-height: 1.3;
}

.history-hub-item p {
  font-size: .9rem;
  color: #666;
  margin: 0;
  line-height: 1.4;
}

.read-more-link {
  color: #0d6efd;
  text-decoration: none;
  font-size: 1rem;
  font-weight: 500;
}

.read-more-link:hover {
  text-decoration: underline;
}

@media (max-width: 768px) {
  .spotlight-grid,
  .history-hub-grid {
    gap: 1rem;
  }

  .spotlight-item img {
    height: 200px;
  }

  .history-hub-item img {
    height: 200px;
  }
}

@media (max-width: 576px) {
  .spotlight-grid,
  .history-hub-grid {
    grid-template-columns: 1fr;
  }
}

.btn {
  transition: all 0.3s ease;
  transform: translateY(0);
}

.btn:hover {
  transform: translateY(-2px);
  box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
}

.btn:active {
  transform: translateY(0);
  box-shadow:
    </style>
  
</head>
<body>
<!-- header -->
<div id="header-placeholder"></div>
             
<div class="flex-grow-1">
  <main class="main-content">
    <nav class="mnt-primary-nav navbar navbar-expand-lg py-3">
      <div class="container-fluid px-4">    
        <div class="navbar-collapse" id="mntMainNavigation">
          <ul class="navbar-nav me-auto align-items-center d-none d-lg-flex">
            <li class="nav-item d-none d-lg-block px-4">
              <span class="text-secondary fw-medium">Main Categories:</span>
            </li>
            <li class="nav-item d-flex align-items-center justify-content-center me-2">
              <a class="btn btn-outline-secondary rounded-pill px-3 py-2 w-100" style="min-width: 100px;" href="https://mnthen.com/results.html?query=all">
                All
              </a>
            </li>
            <li class="nav-item d-flex align-items-center justify-content-center me-2">
              <a class="btn btn-outline-secondary rounded-pill px-3 py-2 w-100" style="min-width: 100px;" href="https://mnthen.com/results.html?query=person">
                Person
              </a>
            </li>
            <li class="nav-item d-flex align-items-center justify-content-center me-2">
              <a class="btn btn-outline-secondary rounded-pill px-3 py-2 w-100" style="min-width: 100px;" href="https://mnthen.com/results.html?query=place">
                Place
              </a>
            </li>
            <li class="nav-item d-flex align-items-center justify-content-center me-2">
              <a class="btn btn-outline-secondary rounded-pill px-3 py-2 w-100" style="min-width: 100px;" href="https://mnthen.com/results.html?query=event">
                Event
              </a>
            </li>
          </ul>

<form class="mnt-search-form d-flex" id="searchForm">
  <div class="mnt-search-wrapper position-relative">
    <input 
      type="search" 
      id="searchInput" 
      class="mnt-search-input form-control rounded-pill px-4 py-2 border-0 shadow-sm" 
      placeholder="Search Articles ..." 
      aria-label="Search">
    <button 
      type="button" 
      id="clearSearchBtn"
      class="mnt-clear-button btn position-absolute top-50 translate-middle-y end-0 pe-5 me-5 p-0"
    >
      <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" 
        stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
        <line x1="18" y1="6" x2="6" y2="18"></line>
        <line x1="6" y1="6" x2="18" y2="18"></line>
      </svg>
    </button>
    <button 
      id="searchBtn"
      class="mnt-search-button btn position-absolute top-50 translate-middle-y end-0 p-0" 
      type="button">
      <svg class="mnt-search-icon" width="18" height="18" viewBox="0 0 24 24" fill="none" 
        stroke="currentColor" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round">
        <circle cx="11" cy="11" r="8"></circle>
        <line x1="21" y1="21" x2="16.65" y2="16.65"></line>
      </svg>
    </button>
  </div>
</form>

           </div>
       </div>
     </nav>

    <br>
     <div class="container py-4" style="margin-top: 2rem;">
       <div class="row g-4 mb-3">
         <div class="col-lg-6">
           <div class="carousel-container position-relative">
             <div id="mainCarousel" class="carousel slide shadow rounded h-100" data-bs-ride="carousel" data-bs-interval="10000">
           <div class="carousel-indicators"> 
               </div>
               
               <div class="carousel-inner" id="carouselInner">
               </div>
               
               <button class="carousel-control-prev" type="button" data-bs-target="#mainCarousel" data-bs-slide="prev">
                 <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                 <span class="visually-hidden">Previous</span>
               </button>
               <button class="carousel-control-next" type="button" data-bs-target="#mainCarousel" data-bs-slide="next">
                 <span class="carousel-control-next-icon" aria-hidden="true"></span>
                 <span class="visually-hidden">Next</span>
               </button>
             </div>
           </div>
         </div>
         
         <div class="col-lg-6">
           <div class="card shadow-sm h-100">
             <div class="card-body d-flex flex-column">
               <h3 class="card-title border-bottom pb-2 mb-3">Recent Articles</h3>
               <div class="recent-articles flex-grow-1" id="relatedArticles">
               </div>
               <div class="read-more-link mt-2 text-end">
                 <a href="https://mnthen.com/results.html?query=all" class="text-decoration-none">
                   Read More <span aria-hidden="true">&gt;</span>
                 </a>
               </div>
             </div>
           </div>
         </div>
       </div>
     </div>

     <div class="container py-3">
       <div class="row g-4">
         <div class="col-lg-6">
           <div class="card shadow-sm h-100">
             <div class="card-body">
               <div class="d-flex justify-content-between border-bottom align-items-center pb-2 mb-3">
                 <h3 class="card-title mb-0">Spotlight: St. Paul</h3>
                 <a href="https://mnthen.com/results.html?query=saint%20paul" class="read-more-link">Read More &gt;</a>
               </div>
               <div class="spotlight-grid" id="spotlightGrid">
               </div>
             </div>
           </div>
         </div>

         <div class="col-lg-6">
  <div class="card shadow-sm h-100">
    <div class="card-body">
      <h3 class="card-title border-bottom pb-2 mb-3">History Hub</h3>
      <p class="text-muted">History Hub is where you'll find a collection of stories grouped by specific topics, making it easy to explore Minnesota's past once subject at a time.</p>
      <div class="history-hub-grid" id="historyHubGrid">
      </div>
    </div>
  </div>
</div>
         
         <!--
         <div class="col-lg-6">
           <div class="card shadow-sm h-100">
             <div class="card-body">
               <h3 class="card-title border-bottom pb-2 mb-3">History Hub</h3>
               <div class="history-hub-grid" id="historyHubGrid">
               </div>
             </div>
           </div>
         </div>
         -->
       </div>
     </div>

       <br>
       
     <div class="today-in-history" style="background-color: #E6ECF5; padding: 40px 0; margin-top: 2rem;">
       <div class="container-fluid">
         <div class="row justify-content-center">
           <div class="col-md-4">
             <img src="/images/otd_blog.png" alt="Historical Image" class="img-fluid">
           </div>
           <div class="col-md-8">
             <h2 class="section-title">Today in Minnesota History</h2>
             <div id="today-date"></div>
             <div id="today-in-history-content">
             </div>
           </div>
         </div>
       </div>
     </div>
   </main>
 </div>
  
<div class="container-fluid p-0">
<div id="footer-placeholder"></div>
</div>
</div>

<!-- Keep only these essential scripts in this order -->
<script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.8/dist/umd/popper.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
<script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-app.js"></script>
<script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-database.js"></script>


<script>
document.addEventListener('DOMContentLoaded', function() {
 const firebaseConfig = {
   apiKey: "AIzaSyBDUAF3qJGhLYQJPHyWwY0JzonN5l8ERzE",
   authDomain: "mnthen-3151d.firebaseapp.com", 
   projectId: "mnthen-3151d",
   storageBucket: "mnthen-3151d.appspot.com",
   messagingSenderId: "416231360428",
   appId: "1:416231360428:web:36f69cc231be2d84a8dc09"
 };

 if (typeof firebase !== 'undefined') {
   firebase.initializeApp(firebaseConfig);
 }

 const spotlightData = {
   topic: "St. Paul",
   articles: [
     {
       image: "https://mnthen.com/tour/hamm/gallery/mansion/hamm_mansion5.jpg",
       title: "Theodore Hamm Mansion (c. 1886 - 1954)",
       url: "https://mnthen.com/blog/place/stp_hamm_mansion.html"
     },
     {
       image: "https://mnthen.com/images/exhibit/hamms_bear.jpg", 
       title: "Hamm's Bear (1953 - 1999)",
       url: "https://mnthen.com/blog/people/hamms_bear.html"
     },
     {
       image: "https://mnthen.com/images/prom1.jpg",
       title: "Prom Ballroom (1941 - 1987)", 
       url: "https://mnthen.com/blog/place/prom.html"
     },
     {
       image: "https://mnthen.com/images/bones.jpg",
       title: "Michael Allen 'Bones' Hartzell (1947 - 2018)",
       url: "https://mnthen.com/blog/people/bones.html"
     },
     {
       image: "https://mnthen.com/images/exhibit/caprath.jpg",
       title: "State Capitol Rathskeller",
       url: "https://mnthen.com/blog/place/caprath.html"
     },
     {
       image: "https://mnthen.com/images/gangster/clifford/clifford1.jpg",
       title: "Clifford, Nina (1851 - 1929)",
       url: "https://mnthen.com/blog/people/clifford.html"
     }
   ]
 };

 const historyHubData = [
   {
     image: "https://mnthen.com/images/merriam_house.jpg",
     title: "Grand Homes",
     description: "Read about the state's historic mansions, homes, and the lives within.",
     url: "https://mnthen.com/results.html?query=mansion"
   },
   {
     image: "https://mnthen.com/images/gangster_bremer_kidnap1.jpg",
     title: "Notorious Gangsters", 
     description: "Uncover the stories of infamous public enemies, their exploits, and last legacies.",
     url: "https://mnthen.com/results.html?query=gangster"
   },
   {
     image: "https://mnthen.com/images/weckman.jpg",
     title: "Interesting Minnesotans",
     description: "Learn about interesting Minnesotans whose contributions positively impacted their communities.",
     url: "https://mnthen.com/results.html?query=person"
   },
   {
     image: "https://mnthen.com/images/matthews.jpg",
     title: "Historical True Crime",
     description: "Explore captivating Minnesota true crime cases, uncovering unsolved mysteries and chilling historical events.",
     url: "https://mnthen.com/results.html?query=true+crime"
   }
 ];

 const articleData = {
   carouselItems: [
     {
       image: "https://mnthen.com/tour/hamm/gallery/mansion/hamm_mansion5.jpg",
       title: "Hamm Mansion (c. 1886 - 1954)",
       url: "https://mnthen.com/blog/place/stp_hamm_mansion.html"
     },
     {
       image: "https://mnthen.com/locations/gallery/mpls/premium/mpls_grain_belt_1.jpg",
       title: "Grain Belt Beer Sign",
       url: "https://mnthen.com/blog/place/mpls_grain_belt.html"  
     },
     {
       image: "https://mnthen.com/images/fire_1893.jpg",
       title: "Great Northeast Minneapolis Fire (1893)",
       url: "https://mnthen.com/blog/event/NE_fire_1893.html"
     }
   ],
   relatedArticles: [
     {
       image: "https://mnthen.com/images/fire_1893.jpg",
       title: "Great Northeast Minneapolis Fire (1893)",
       url: "https://mnthen.com/blog/event/NE_fire_1893.html",
       blurb: "A devastating fire that changed the face of Northeast Minneapolis forever."
     },
     {
       image: "https://mnthen.com/images/nyes.jpg", 
       title: "Nye's Polonaise (1950 - 2016)",
       url: "https://mnthen.com/blog/place/nyes.html",
       blurb: "The beloved Minneapolis institution known for its Polish food and unique atmosphere."
     },
     {
       image: "https://mnthen.com/images/northfield.jpg",
       title: "Northfield Bank Raid (September 7, 1876)", 
       url: "https://mnthen.com/blog/event/northfield.html",
       blurb: "In 1876, the infamous James-Younger gang's bold Northfield bank raid unraveled disastrously."
     }
   ]
 };

 function initializeTodayInHistory() {
   const today = new Date();
   const month = (today.getMonth() + 1).toString().padStart(2, '0');
   const date = today.getDate().toString().padStart(2, '0');
   const dateElement = document.getElementById('today-date');
   const contentDiv = document.getElementById('today-in-history-content');

   if (dateElement) {
     const options = { month: 'long', day: 'numeric' };
     dateElement.textContent = today.toLocaleDateString('en-US', options);
   }

   if (contentDiv && typeof firebase !== 'undefined') {
     const formattedDate = `${month}-${date}`;
     const historicalEventRef = firebase.database().ref('date-info/' + formattedDate);
     
     historicalEventRef.once('value')
       .then((snapshot) => {
         const historicalEvents = snapshot.val();
         
         if (historicalEvents) {
           const sortedKeys = Object.keys(historicalEvents).sort();
           const htmlStrings = sortedKeys.map(key => {
             const event = historicalEvents[key];
             return `<p><strong>${event.year}:</strong> ${event.snippet}</p>`;
           });
           contentDiv.innerHTML = htmlStrings.join('');
         } else {
           contentDiv.innerHTML = `<p>No historical events found for this date.</p>`;
         }
       })
       .catch((error) => {
         console.error('Error fetching historical events:', error);
         contentDiv.innerHTML = '<p>An error occurred while fetching data.</p>';
       });
   }
 }

 function initializeSpotlight() {
   const spotlightGrid = document.getElementById('spotlightGrid');
   if (!spotlightGrid) return;

   const spotlightHTML = spotlightData.articles.map(article => `
     <div class="spotlight-item">
       <a href="${article.url}" class="text-decoration-none">
         <img src="${article.image}" alt="${article.title}">
         <h5 class="text-dark">${article.title}</h5>
       </a>
     </div>
   `).join('');
   
   spotlightGrid.innerHTML = spotlightHTML;
 }

 function initializeHistoryHub() {
   const historyHubGrid = document.getElementById('historyHubGrid');
   if (!historyHubGrid) return;

   const hubHTML = historyHubData.map(item => `
     <div class="history-hub-item">
       <a href="${item.url}" class="text-decoration-none">
         <img src="${item.image}" alt="${item.title}">
         <h5 class="text-dark">${item.title}</h5>
       </a>
       <p>${item.description}</p>
     </div>
   `).join('');
   
   historyHubGrid.innerHTML = hubHTML;
 }

 function initializeArticleCarousel() {
   const carouselInner = document.getElementById('carouselInner');
   const indicatorsContainer = document.querySelector('.carousel-indicators');
   
   if (!carouselInner || !indicatorsContainer) return;

   const carouselHTML = articleData.carouselItems.map((item, index) => `
     <div class="carousel-item ${index === 0 ? 'active' : ''}">
       <a href="${item.url}">
         <img src="${item.image}" class="d-block w-100" alt="${item.title}">
         <div class="carousel-caption">
           <h5>${item.title}</h5>
         </div>
       </a>
     </div>
   `).join('');

   const indicatorsHTML = articleData.carouselItems.map((_, index) => `
     <button type="button" 
             data-bs-target="#mainCarousel" 
             data-bs-slide-to="${index}" 
             ${index === 0 ? 'class="active" aria-current="true"' : ''}
             aria-label="Slide ${index + 1}">
     </button>
   `).join('');

   carouselInner.innerHTML = carouselHTML;
   indicatorsContainer.innerHTML = indicatorsHTML;

   if (typeof bootstrap !== 'undefined') {
     new bootstrap.Carousel(document.getElementById('mainCarousel'), {
       interval: 10000,
       wrap: true,
       touch: true
     });
   }
 }

 function setupSearch() {
   const searchInput = document.getElementById('searchInput');
   const clearSearchBtn = document.getElementById('clearSearchBtn');
   const searchForm = document.getElementById('searchForm');
   const searchBtn = document.getElementById('searchBtn');

   if (clearSearchBtn) {
     clearSearchBtn.addEventListener('click', () => {
       if (searchInput) {
         searchInput.value = '';
         searchInput.focus();
       }
     });
   }

   if (searchForm && searchInput && searchBtn) {
     searchBtn.addEventListener('click', (e) => {
       e.preventDefault();
       handleSearch();
     });

     searchInput.addEventListener('keyup', (e) => {
       if (e.key === 'Enter') {
         handleSearch();
       }
     });
   }
 }

 function handleSearch() {
   const searchInput = document.getElementById('searchInput');
   const query = searchInput?.value.trim();
   if (query) {
     window.location.href = `https://mnthen.com/results.html?query=${encodeURIComponent(query)}`;
   }
 }

 function initializeRelatedArticles() {
   const relatedArticlesContainer = document.getElementById('relatedArticles');
   if (!relatedArticlesContainer) return;

   const articlesHTML = articleData.relatedArticles.map(article => `
     <div class="article-item">
       <img src="${article.image}" class="article-image" alt="${article.title}">
       <div class="article-content">
         <h5><a href="${article.url}" class="text-decoration-none text-dark">${article.title}</a></h5>
         <p>${article.blurb}</p>
       </div>
     </div>
   `).join('');
   
   relatedArticlesContainer.innerHTML = articlesHTML;
 }

 function initializeTooltips() {
   if (typeof bootstrap === 'undefined') return;
   
   const tooltipTriggerList = [].slice.call(document.querySelectorAll('[data-bs-toggle="tooltip"]'));
   tooltipTriggerList.map(function (tooltipTriggerEl) {
     return new bootstrap.Tooltip(tooltipTriggerEl);
   });
 }

function initializeNavigation() {
  const mobileMenuBtn = document.querySelector('.mnthen-mobile-menu');
  const mainNav = document.querySelector('.mnthen-nav');
  const dropdownBtns = document.querySelectorAll('.mnthen-dropdown-btn');
  let isMenuOpen = false;

  if (mobileMenuBtn && mainNav) {
    // Mobile menu toggle
    mobileMenuBtn.addEventListener('click', function(e) {
      e.stopPropagation();
      isMenuOpen = !isMenuOpen;
      this.classList.toggle('active');
      mainNav.classList.toggle('active');
    });

    // Handle dropdown buttons
    dropdownBtns.forEach(btn => {
      btn.addEventListener('click', function(e) {
        e.preventDefault();
        e.stopPropagation();
        
        // Close other dropdowns
        dropdownBtns.forEach(otherBtn => {
          if (otherBtn !== btn) {
            otherBtn.classList.remove('active');
            otherBtn.nextElementSibling?.classList.remove('active');
          }
        });
        
        this.classList.toggle('active');
        const dropdownContent = this.nextElementSibling;
        if (dropdownContent) {
          dropdownContent.classList.toggle('active');
        }
      });
    });

    // Close menu when clicking outside
    document.addEventListener('click', function(e) {
      if (isMenuOpen && !e.target.closest('.mnthen-nav') && !e.target.closest('.mnthen-mobile-menu')) {
        mainNav.classList.remove('active');
        mobileMenuBtn.classList.remove('active');
        isMenuOpen = false;
      }
    });

    // Handle window resize
    window.addEventListener('resize', function() {
      if (window.innerWidth > 768) {
        mainNav.classList.remove('active');
        mobileMenuBtn.classList.remove('active');
        isMenuOpen = false;
        
        dropdownBtns.forEach(btn => {
          btn.classList.remove('active');
          btn.nextElementSibling?.classList.remove('active');
        });
      }
    });
  }
}

 Promise.all([
   fetch('/section/header.html').then(response => response.text()),
   fetch('/section/footer.html').then(response => response.text())
 ])
 .then(([headerData, footerData]) => {
   const headerPlaceholder = document.getElementById('header-placeholder');
   const footerPlaceholder = document.getElementById('footer-placeholder');
   
   if (headerPlaceholder) headerPlaceholder.innerHTML = headerData;
   if (footerPlaceholder) footerPlaceholder.innerHTML = footerData;

   setTimeout(initializeNavigation, 0);
 })
 .catch(error => {
   console.error('Error loading content:', error);
   const headerPlaceholder = document.getElementById('header-placeholder');
   if (headerPlaceholder) {
     headerPlaceholder.innerHTML = '<p>Error loading content. Please refresh the page.</p>';
   }
 });

 initializeTodayInHistory();
 initializeSpotlight();
 initializeHistoryHub(); 
 initializeArticleCarousel();
 initializeRelatedArticles();
 initializeTooltips();
 setupSearch();
});

window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'G-0M8KR45LDB');
</script>

<script async src="https://www.googletagmanager.com/gtag/js?id=G-0M8KR45LDB"></script>
  
</body>
</html>
