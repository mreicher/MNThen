<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, viewport-fit=cover">
  <meta name="description" content="Minnesota Then - Museum Without Walls. Explore Minnesota's history with our interactive map and safety guidelines.">
  <title>Minnesota Then - Museum Without Walls (Safety Agreement)</title>

  <!-- Preload fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">

  <!-- Favicon -->
  <link rel="shortcut icon" type="image/x-icon" href="https://www.mnthen.com/images/mnthenfav.ico">
  
  <!-- Bootstrap -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css">
  
  <!-- Font Awesome -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css">
  
  <style>
  :root {
    --primary-blue: #0D47A1;
    --dark-blue: #1e40af;
    --light-blue: #3b82f6;
    --text-dark: #1f2937;
    --text-medium: #374151;
    --text-light: #6b7280;
    --white: #ffffff;
    --gray-50: #f9fafb;
    --gray-100: #f3f4f6;
    --gray-200: #e5e7eb;
    --shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
    --shadow-lg: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
    --shadow-xl: 0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04);
  }

  * {
    box-sizing: border-box;
    margin: 0;
    padding: 0;
  }

  body {
    font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
    line-height: 1.6;
    color: #333;
    background-color: #fff;
    overflow-x: hidden;
  }

  /* Hero Section - matching home page */
  .hero {
    position: relative;
    min-height: 100vh;
    background-color: var(--primary-blue);
    overflow: hidden;
    display: flex;
    align-items: center;
    justify-content: center;
  }

  .hero-image {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    z-index: 0;
  }

  .hero-image img {
    width: 100%;
    height: 100%;
    object-fit: cover;
  }

  .overlay {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: linear-gradient(135deg, rgba(13, 71, 161, 0.35), rgba(30, 64, 175, 0.25));
    z-index: 1;
  }

  .hero-content {
    position: relative;
    z-index: 2;
    width: 100%;
    max-width: 1200px;
    padding: 2rem;
    margin: 0 auto;
  }

  /* Content Card - matching home page style */
  .agreement-card {
    background: transparent;
    border-radius: 0;
    box-shadow: none;
    overflow: visible;
    max-width: 800px;
    margin: 0 auto;
  }

  .card-header {
    background: transparent;
    color: white;
    padding: 1.5rem 2rem 1rem;
    text-align: center;
  }

  .card-header h1 {
    font-size: 2.25rem;
    font-weight: 700;
    margin-bottom: 0.5rem;
    line-height: 1.2;
    text-shadow: 0 2px 10px rgba(0, 0, 0, 0.3);
  }

  .card-header p {
    font-size: 1.0625rem;
    opacity: 0.95;
    margin: 0;
    text-shadow: 0 2px 8px rgba(0, 0, 0, 0.3);
  }

  .card-body {
    padding: 1.5rem 2rem;
    background: transparent;
  }

  .agreement-text {
    color: white;
    font-size: 1.0625rem;
    line-height: 1.6;
    margin-bottom: 1rem;
    text-shadow: 0 2px 8px rgba(0, 0, 0, 0.4);
  }

  .safety-highlights {
    background: transparent;
    border-left: none;
    padding: 1rem 0;
    margin: 1.25rem 0;
    border-radius: 0;
  }

  .safety-highlights h3 {
    color: white;
    font-size: 1.125rem;
    font-weight: 600;
    margin-bottom: 0.75rem;
    text-shadow: 0 2px 8px rgba(0, 0, 0, 0.4);
  }

  .safety-highlights h3 i {
    display: none;
  }

  .safety-list {
    list-style: none;
    padding: 0;
    margin: 0;
  }

  .safety-list li {
    padding: 0.5rem 0;
    padding-left: 1.5rem;
    display: flex;
    align-items: flex-start;
    color: white;
    font-size: 1rem;
    position: relative;
    text-shadow: 0 2px 8px rgba(0, 0, 0, 0.4);
    line-height: 1.5;
  }

  .safety-list li::before {
    content: "â€¢";
    position: absolute;
    left: 0;
    color: white;
    font-weight: bold;
    font-size: 1.5rem;
    line-height: 1;
  }

  .safety-list li i {
    display: none;
  }

  /* Buttons - matching home page style */
  .button-group {
    display: flex;
    gap: 1rem;
    margin-top: 1.25rem;
    flex-wrap: wrap;
  }

  .btn-primary-custom {
    background: rgba(255, 255, 255, 0.95);
    color: var(--primary-blue);
    padding: 0.875rem 2rem;
    font-size: 1.0625rem;
    font-weight: 600;
    border: none;
    border-radius: 50px;
    cursor: pointer;
    text-decoration: none;
    text-align: center;
    flex: 1;
    min-width: 200px;
    transition: all 0.3s ease;
    box-shadow: 0 4px 20px rgba(0, 0, 0, 0.3);
    display: inline-flex;
    align-items: center;
    justify-content: center;
  }

  .btn-primary-custom:hover {
    transform: translateY(-3px);
    background: white;
    box-shadow: 0 6px 30px rgba(0, 0, 0, 0.4);
    color: var(--primary-blue);
  }

  .btn-secondary-custom {
    background: rgba(255, 255, 255, 0.15);
    color: white;
    padding: 0.875rem 2rem;
    font-size: 1.0625rem;
    font-weight: 600;
    border: 2px solid rgba(255, 255, 255, 0.5);
    border-radius: 50px;
    cursor: pointer;
    text-decoration: none;
    text-align: center;
    flex: 1;
    min-width: 200px;
    transition: all 0.3s ease;
    display: inline-flex;
    align-items: center;
    justify-content: center;
    backdrop-filter: blur(10px);
    -webkit-backdrop-filter: blur(10px);
  }

  .btn-secondary-custom:hover {
    transform: translateY(-3px);
    box-shadow: 0 6px 20px rgba(0, 0, 0, 0.3);
    background: rgba(255, 255, 255, 0.25);
    color: white;
    border-color: rgba(255, 255, 255, 0.7);
  }

  /* Info Section */
  .info-section {
    background: transparent;
    padding: 1.25rem 2rem 1.5rem;
    margin-top: 1rem;
    border-top: none;
    border-radius: 0;
  }

  .info-section h2 {
    font-size: 0.9375rem;
    color: white;
    text-transform: uppercase;
    letter-spacing: 0.05em;
    margin-bottom: 1rem;
    text-align: center;
    font-weight: 600;
    text-shadow: 0 2px 8px rgba(0, 0, 0, 0.4);
  }

  .info-buttons {
    display: flex;
    gap: 1rem;
    justify-content: center;
    flex-wrap: wrap;
  }

  .info-btn {
    background: rgba(255, 255, 255, 0.15);
    border: 2px solid rgba(255, 255, 255, 0.4);
    color: white;
    padding: 0.75rem 1.5rem;
    border-radius: 50px;
    cursor: pointer;
    font-size: 1rem;
    font-weight: 600;
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
    transition: all 0.3s ease;
    font-family: inherit;
    display: inline-flex;
    align-items: center;
    justify-content: center;
    backdrop-filter: blur(10px);
    -webkit-backdrop-filter: blur(10px);
  }

  .info-btn:hover {
    transform: translateY(-2px);
    background: rgba(255, 255, 255, 0.25);
    box-shadow: 0 6px 20px rgba(0, 0, 0, 0.3);
    border-color: rgba(255, 255, 255, 0.6);
  }

  .info-btn i {
    display: none;
  }

  /* Modal Styles - matching home page */
  .modal-overlay {
    display: none;
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: rgba(0, 0, 0, 0.7);
    backdrop-filter: blur(4px);
    z-index: 1050;
    align-items: center;
    justify-content: center;
    padding: 1rem;
  }

  .modal-overlay.show {
    display: flex;
  }

  .modal-content-custom {
    background: white;
    border-radius: 16px;
    padding: 2.5rem 2rem;
    width: 100%;
    max-width: 700px;
    max-height: 90vh;
    overflow-y: auto;
    position: relative;
    box-shadow: var(--shadow-xl);
    animation: modalSlideIn 0.3s ease;
  }

  @keyframes modalSlideIn {
    from {
      opacity: 0;
      transform: translateY(-20px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }

  .modal-close {
    position: absolute;
    top: 1.25rem;
    right: 1.25rem;
    background: var(--gray-100);
    border: none;
    font-size: 1.5rem;
    cursor: pointer;
    color: var(--text-dark);
    width: 40px;
    height: 40px;
    display: flex;
    align-items: center;
    justify-content: center;
    border-radius: 50%;
    transition: all 0.2s;
    line-height: 1;
  }

  .modal-close:hover {
    background: var(--gray-200);
    transform: rotate(90deg);
  }

  .modal-title {
    font-size: 2rem;
    color: var(--primary-blue);
    margin-bottom: 1.5rem;
    font-weight: 700;
    padding-right: 3rem;
    line-height: 1.2;
  }

  .modal-text {
    color: var(--text-medium);
    line-height: 1.8;
    margin-bottom: 1.5rem;
    font-size: 1.0625rem;
  }

  .modal-content-custom h3 {
    color: var(--text-dark);
    font-size: 1.375rem;
    font-weight: 600;
    margin-top: 2rem;
    margin-bottom: 1rem;
  }

  .modal-content-custom h3:first-of-type {
    margin-top: 0;
  }

  /* Color Grid */
  .color-grid {
    display: grid;
    gap: 0.75rem;
    margin-top: 1.25rem;
  }

  .color-item {
    display: flex;
    align-items: center;
    padding: 0.5rem 0;
    background: transparent;
    border-radius: 0;
    font-size: 1.0625rem;
    border-left: none;
    transition: none;
  }

  .color-item:hover {
    background: transparent;
    box-shadow: none;
  }

  .color-dot {
    width: 24px;
    height: 24px;
    border-radius: 50%;
    margin-right: 1rem;
    border: 3px solid white;
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
    flex-shrink: 0;
  }

  /* Guidelines */
  .guidelines-grid {
    display: grid;
    gap: 0.75rem;
    margin-top: 1.25rem;
  }

  .guideline-card {
    background: transparent;
    border-radius: 0;
    padding: 0.5rem 0;
    display: flex;
    align-items: flex-start;
    border-left: none;
    transition: none;
  }

  .guideline-card:hover {
    background: transparent;
    box-shadow: none;
  }

  .guideline-icon {
    color: var(--primary-blue);
    margin-right: 0.75rem;
    font-weight: bold;
    flex-shrink: 0;
    font-size: 1.125rem;
  }

  .guideline-text {
    font-size: 1.0625rem;
    line-height: 1.6;
    color: var(--text-medium);
  }

  /* Desktop Banner */
  .desktop-banner {
    display: none;
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    background: linear-gradient(135deg, #ff9800, #f57c00);
    color: white;
    text-align: center;
    padding: 1rem 1.5rem;
    font-weight: 600;
    font-size: 1rem;
    z-index: 9999;
    box-shadow: var(--shadow-lg);
  }

  .desktop-banner a {
    color: white;
    text-decoration: underline;
    margin-left: 0.75rem;
    font-weight: 700;
  }

  .desktop-banner a:hover {
    opacity: 0.9;
  }

  #desktopHelpSection {
    display: none;
  }

  #desktopHelpSection .guideline-card {
    border-left: none;
    background: transparent;
  }

  #desktopHelpSection .guideline-icon {
    color: #ff9800;
  }

  /* Scrollbar */
  .modal-content-custom {
    scrollbar-width: thin;
    scrollbar-color: var(--gray-300) var(--gray-100);
  }

  .modal-content-custom::-webkit-scrollbar {
    width: 8px;
  }

  .modal-content-custom::-webkit-scrollbar-track {
    background: var(--gray-100);
  }

  .modal-content-custom::-webkit-scrollbar-thumb {
    background: var(--gray-300);
    border-radius: 4px;
  }

  /* Responsive */
  @media (max-width: 768px) {
    .hero {
      min-height: 100vh;
      padding: 0;
    }

    .hero-content {
      padding: 1rem;
    }

    .card-header {
      padding: 1.25rem 1.5rem 0.75rem;
    }

    .card-header h1 {
      font-size: 1.875rem;
    }

    .card-header p {
      font-size: 1rem;
    }

    .card-body {
      padding: 1.25rem 1.5rem;
    }

    .agreement-text {
      font-size: 1rem;
      line-height: 1.6;
      margin-bottom: 0.875rem;
    }

    .safety-highlights {
      padding: 0.75rem 0;
      margin: 1rem 0;
    }

    .safety-highlights h3 {
      font-size: 1.0625rem;
      margin-bottom: 0.625rem;
    }

    .safety-list li {
      font-size: 0.9375rem;
      padding: 0.375rem 0;
    }

    .button-group {
      flex-direction: column;
      gap: 0.75rem;
      margin-top: 1rem;
    }

    .btn-primary-custom,
    .btn-secondary-custom {
      width: 100%;
      min-width: auto;
      padding: 0.875rem 1.5rem;
      font-size: 1rem;
    }

    .info-section {
      padding: 1rem 1.5rem 1.25rem;
      margin-top: 0.75rem;
    }

    .info-section h2 {
      font-size: 0.875rem;
      margin-bottom: 0.875rem;
    }

    .info-btn {
      font-size: 0.9375rem;
      padding: 0.75rem 1.25rem;
    }

    .modal-content-custom {
      padding: 2rem 1.5rem;
    }

    .modal-title {
      font-size: 1.75rem;
    }
  }

  @media (max-width: 480px) {
    .hero {
      min-height: 100vh;
      padding: 0;
    }

    .hero-content {
      padding: 0.75rem;
    }

    .card-header {
      padding: 1rem 1.25rem 0.5rem;
    }

    .card-header h1 {
      font-size: 1.625rem;
      line-height: 1.3;
    }

    .card-header p {
      font-size: 0.9375rem;
    }

    .card-body {
      padding: 1rem 1.25rem;
    }

    .agreement-text {
      font-size: 0.9375rem;
      line-height: 1.6;
      margin-bottom: 0.75rem;
    }

    .safety-highlights {
      padding: 0.625rem 0;
      margin: 0.875rem 0;
    }

    .safety-highlights h3 {
      font-size: 1rem;
      margin-bottom: 0.5rem;
    }

    .safety-list li {
      font-size: 0.875rem;
      padding: 0.3125rem 0;
      line-height: 1.4;
    }

    .button-group {
      gap: 0.625rem;
      margin-top: 0.875rem;
    }

    .info-section {
      padding: 0.875rem 1.25rem 1rem;
      margin-top: 0.625rem;
    }

    .info-buttons {
      flex-direction: column;
      gap: 0.625rem;
    }

    .info-btn {
      width: 100%;
      padding: 0.75rem 1rem;
      font-size: 0.9375rem;
    }

    .btn-primary-custom,
    .btn-secondary-custom {
      padding: 0.875rem 1.25rem;
      font-size: 0.9375rem;
    }
  }

  @media (max-width: 360px) {
    .card-header h1 {
      font-size: 1.5rem;
    }

    .card-header p {
      font-size: 0.875rem;
    }

    .card-body {
      padding: 0.875rem 1rem;
    }

    .info-section {
      padding: 0.75rem 1rem 0.875rem;
    }

    .agreement-text {
      font-size: 0.875rem;
    }

    .safety-list li {
      font-size: 0.8125rem;
    }
  }

  /* Landscape orientation - make even more compact */
  @media (max-height: 700px) and (orientation: landscape) {
    .card-header {
      padding: 0.75rem 1.5rem 0.5rem;
    }

    .card-header h1 {
      font-size: 1.5rem;
      margin-bottom: 0.25rem;
    }

    .card-header p {
      font-size: 0.9375rem;
    }

    .card-body {
      padding: 0.875rem 1.5rem;
    }

    .agreement-text {
      font-size: 0.9375rem;
      line-height: 1.5;
      margin-bottom: 0.625rem;
    }

    .safety-highlights {
      padding: 0.5rem 0;
      margin: 0.75rem 0;
    }

    .safety-highlights h3 {
      font-size: 0.9375rem;
      margin-bottom: 0.5rem;
    }

    .safety-list li {
      font-size: 0.875rem;
      padding: 0.25rem 0;
    }

    .button-group {
      margin-top: 0.75rem;
      gap: 0.5rem;
    }

    .btn-primary-custom,
    .btn-secondary-custom {
      padding: 0.625rem 1.5rem;
      font-size: 0.9375rem;
    }

    .info-section {
      padding: 0.75rem 1.5rem 0.875rem;
      margin-top: 0.5rem;
    }

    .info-section h2 {
      font-size: 0.8125rem;
      margin-bottom: 0.625rem;
    }

    .info-btn {
      padding: 0.625rem 1.25rem;
      font-size: 0.875rem;
    }
  }

  /* Animations */
  @keyframes fadeIn {
    from {
      opacity: 0;
      transform: translateY(20px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }

  .agreement-card {
    animation: fadeIn 0.6s ease;
  }

  /* Focus styles for accessibility */
  button:focus-visible,
  a:focus-visible {
    outline: 3px solid var(--light-blue);
    outline-offset: 3px;
  }

  /* Reduced motion */
  @media (prefers-reduced-motion: reduce) {
    *,
    *::before,
    *::after {
      animation-duration: 0.01ms !important;
      animation-iteration-count: 1 !important;
      transition-duration: 0.01ms !important;
    }
  }
  </style>
</head>

<body>
  <!-- Desktop Warning Banner -->
  <div class="desktop-banner" id="desktopBanner" role="alert">
    This app is designed for mobile devices. Some features may not work on desktop.
    <a href="#!" id="dismissBanner">Dismiss</a>
  </div>

  <!-- Hero Section -->
  <section class="hero">
    <div class="hero-image">
      <img src="https://www.mnthen.com/images/bg/welcome_bg.jpg" alt="Minnesota historical landscape" loading="eager">
    </div>
    <div class="overlay"></div>
    
    <div class="hero-content">
      <!-- Agreement Card -->
      <div class="agreement-card">
        <!-- Card Header -->
        <div class="card-header">
          <h1>Welcome to the Museum Without Walls</h1>
          <p>Please review our safety agreement before entering</p>
        </div>

        <!-- Card Body -->
        <div class="card-body">
          <p class="agreement-text">
            I understand this app needs my location to provide location-based historical content. I will never access the Museum Without Walls platform during activities requiring my full attention for safety, including driving, biking, or operating machinery.
          </p>

          <div class="safety-highlights">
            <h3>
              <i class="fas fa-shield-alt"></i>
              Key Safety Commitments
            </h3>
            <ul class="safety-list">
              <li>
                <span>Stay alert to traffic, pedestrians, and my surroundings at all times</span>
              </li>
              <li>
                <span>Respect private property and obey all posted signs and restricted areas</span>
              </li>
              <li>
                <span>Never use this app while driving or engaging in activities requiring full attention</span>
              </li>
              <li>
                <span>Supervise any minors in my care while using this application</span>
              </li>
            </ul>
          </div>

          <p class="agreement-text">
            By agreeing to these terms, I confirm my commitment to using this app responsibly and acknowledge that I use it at my own risk.
          </p>

          <!-- Action Buttons -->
          <div class="button-group">
            <a href="/map.html" class="btn-primary-custom">
              I Agree - Enter Museum
            </a>
            <a href="/index.html" class="btn-secondary-custom">
              Exit
            </a>
          </div>
        </div>

        <!-- Info Section -->
        <div class="info-section">
          <h2>Learn More About the Museum</h2>
          <div class="info-buttons">
            <button class="info-btn" id="colorKeyBtn">
              <i class="fas fa-palette"></i>
              Color Key
            </button>
            <button class="info-btn" id="helpBtn">
              <i class="fas fa-question-circle"></i>
              Help Guide
            </button>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Color Key Modal -->
  <div class="modal-overlay" id="colorModal" role="dialog" aria-hidden="true" aria-modal="true" aria-labelledby="colorModalTitle">
    <div class="modal-content-custom">
      <button class="modal-close" id="closeColorModal" aria-label="Close modal">&times;</button>
      <h2 class="modal-title" id="colorModalTitle">Marker Color Key</h2>
      <p class="modal-text">Each marker color represents a different category of historical significance. Use this guide to identify the type of content at each location:</p>
      
      <div class="color-grid">
        <div class="color-item" style="border-left-color: #0f2bab;">
          <div class="color-dot" style="background-color: #0f2bab;"></div>
          <div><strong>Blue</strong> - Lost Landmarks</div>
        </div>
        
        <div class="color-item" style="border-left-color: #FF0000;">
          <div class="color-dot" style="background-color: #FF0000;"></div>
          <div><strong>Dark Red</strong> - Fascinating Events</div>
        </div>
        
        <div class="color-item" style="border-left-color: #008000;">
          <div class="color-dot" style="background-color: #008000;"></div>
          <div><strong>Green</strong> - Gangsters</div>
        </div>
        
        <div class="color-item" style="border-left-color: #FFA500;">
          <div class="color-dot" style="background-color: #FFA500;"></div>
          <div><strong>Orange</strong> - Amazing People</div>
        </div>
        
        <div class="color-item" style="border-left-color: #800080;">
          <div class="color-dot" style="background-color: #800080;"></div>
          <div><strong>Purple</strong> - Incredible Places</div>
        </div>
      </div>
    </div>
  </div>

  <!-- Help Modal -->
  <div class="modal-overlay" id="helpModal" role="dialog" aria-hidden="true" aria-modal="true" aria-labelledby="helpModalTitle">
    <div class="modal-content-custom">
      <button class="modal-close" id="closeHelpModal" aria-label="Close modal">&times;</button>
      <h2 class="modal-title" id="helpModalTitle">Help Guide</h2>
      
      <h3>Getting Started</h3>
      <p class="modal-text">Click "I Agree - Enter Museum" to accept the safety terms and access our interactive map featuring historical markers across Minnesota. Your location will be used to unlock content when you visit marked sites.</p>
      
      <h3>Using the Interactive Map</h3>
      <p class="modal-text">Our GIS-powered map displays historical markers throughout Minnesota. Each marker is color-coded by category (see Color Key for details). Tap any marker to preview basic information, then visit the location to unlock the full multimedia exhibit.</p>
      
      <h3>Exploring Historical Sites</h3>
      <p class="modal-text">When you physically arrive at a marked location, tap the marker again to access detailed historical information including archival photos, audio narration, and interactive elements. The app uses your device's GPS to verify you're at the site.</p>

      <!-- Desktop Warning -->
      <div id="desktopHelpSection">
        <h3>Desktop Users - Important Notice</h3>
        <div class="guideline-card">
          <div class="guideline-icon"><i class="fas fa-exclamation-triangle"></i></div>
          <div class="guideline-text">
            This app is optimized for <strong>mobile phones and tablets</strong>. Location-based check-in, automatic map following, and audio cues rely on mobile sensors and may not function properly on desktop browsers. For the complete Museum Without Walls experience, please access this site on a mobile device.
          </div>
        </div>
      </div>
      
      <h3>Safety Guidelines</h3>
      <div class="guidelines-grid">
        <div class="guideline-card">
          <div class="guideline-icon"><i class="fas fa-check"></i></div>
          <div class="guideline-text">Stay aware of your surroundings, traffic, and pedestrians at all times</div>
        </div>
        <div class="guideline-card">
          <div class="guideline-icon"><i class="fas fa-check"></i></div>
          <div class="guideline-text">Respect private property and obey all posted signs and warnings</div>
        </div>
        <div class="guideline-card">
          <div class="guideline-icon"><i class="fas fa-check"></i></div>
          <div class="guideline-text">Never use the app while driving or operating any vehicle</div>
        </div>
        <div class="guideline-card">
          <div class="guideline-icon"><i class="fas fa-check"></i></div>
          <div class="guideline-text">Follow all local laws, regulations, and park rules</div>
        </div>
        <div class="guideline-card">
          <div class="guideline-icon"><i class="fas fa-check"></i></div>
          <div class="guideline-text">Supervise children and ensure they understand safety rules</div>
        </div>
      </div>

      <h3>Need More Help?</h3>
      <p class="modal-text">Visit our <a href="https://mnthen.com/faq.html" target="_blank" rel="noopener noreferrer" style="color: var(--primary-blue); font-weight: 600;">Help Center</a> for detailed tutorials, troubleshooting tips, and answers to frequently asked questions.</p>
    </div>
  </div>

  <script>
    (function() {
      'use strict';

      // Cache DOM elements
      const elements = {
        colorKeyBtn: document.getElementById('colorKeyBtn'),
        helpBtn: document.getElementById('helpBtn'),
        colorModal: document.getElementById('colorModal'),
        helpModal: document.getElementById('helpModal'),
        closeColorModal: document.getElementById('closeColorModal'),
        closeHelpModal: document.getElementById('closeHelpModal'),
        desktopBanner: document.getElementById('desktopBanner'),
        dismissBanner: document.getElementById('dismissBanner'),
        desktopHelpSection: document.getElementById('desktopHelpSection')
      };

      // Modal management
      function openModal(modal) {
        if (!modal) return;
        modal.classList.add('show');
        modal.setAttribute('aria-hidden', 'false');
        document.body.style.overflow = 'hidden';
        
        // Focus the close button for accessibility
        const closeBtn = modal.querySelector('.modal-close');
        if (closeBtn) {
          setTimeout(() => closeBtn.focus(), 100);
        }
      }

      function closeModal(modal) {
        if (!modal) return;
        modal.classList.remove('show');
        modal.setAttribute('aria-hidden', 'true');
        document.body.style.overflow = '';
      }

      function closeAllModals() {
        closeModal(elements.colorModal);
        closeModal(elements.helpModal);
      }

      // Initialize event listeners
      try {
        // Color Key Modal
        if (elements.colorKeyBtn) {
          elements.colorKeyBtn.addEventListener('click', () => openModal(elements.colorModal));
        }
        
        if (elements.closeColorModal) {
          elements.closeColorModal.addEventListener('click', () => closeModal(elements.colorModal));
        }

        // Help Modal
        if (elements.helpBtn) {
          elements.helpBtn.addEventListener('click', () => openModal(elements.helpModal));
        }
        
        if (elements.closeHelpModal) {
          elements.closeHelpModal.addEventListener('click', () => closeModal(elements.helpModal));
        }

        // Close on backdrop click
        [elements.colorModal, elements.helpModal].forEach(modal => {
          if (modal) {
            modal.addEventListener('click', (e) => {
              if (e.target === modal) {
                closeModal(modal);
              }
            });
          }
        });

        // Close with Escape key
        document.addEventListener('keydown', (e) => {
          if (e.key === 'Escape') {
            closeAllModals();
          }
        });

        // Desktop detection and banner
        const isDesktop = !(/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent));
        
        if (isDesktop) {
          if (elements.desktopBanner) {
            elements.desktopBanner.style.display = 'block';
          }
          if (elements.desktopHelpSection) {
            elements.desktopHelpSection.style.display = 'block';
          }
        }

        // Dismiss banner
        if (elements.dismissBanner) {
          elements.dismissBanner.addEventListener('click', (e) => {
            e.preventDefault();
            if (elements.desktopBanner) {
              elements.desktopBanner.style.display = 'none';
            }
          });
        }

        // Prevent body scroll when modal is open
        const preventScroll = (e) => {
          if (elements.colorModal?.classList.contains('show') || 
              elements.helpModal?.classList.contains('show')) {
            if (!e.target.closest('.modal-content-custom')) {
              e.preventDefault();
            }
          }
        };

        document.addEventListener('touchmove', preventScroll, { passive: false });
        document.addEventListener('wheel', preventScroll, { passive: false });

      } catch (error) {
        console.error('Error initializing:', error);
      }

    })();
  </script>

  <!-- Bootstrap Bundle (for any potential future enhancements) -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js" defer></script>
</body>
</html>
