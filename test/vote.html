<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
  <title>Minnesota Then | Resources</title>
  
  <link rel="shortcut icon" type="image/x-icon" href="https://www.mnthen.com/images/mnthenfav.ico">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css">

  <!-- Custom Styles -->
  <link rel="stylesheet" href="https://www.mnthen.com/css/mnthen_faq.css">
  <link rel="stylesheet" href="https://www.mnthen.com/css/mnthen_header.css">
  <link rel="stylesheet" href="https://www.mnthen.com/css/mnthen_footer.css">
  <link rel="stylesheet" href="https://www.mnthen.com/css/dropdown.css">

  <style>
    /* Hero Section Styles */
    .hero-section {
      background-image: linear-gradient(rgba(0, 0, 0, 0.6), rgba(0, 0, 0, 0.6)), url('https://images.unsplash.com/photo-1594805090321-50a3e5f8aacd?ixlib=rb-1.2.1&auto=format&fit=crop&w=1920&q=80');
      background-size: cover;
      background-position: center;
      color: white;
      padding: 120px 0 80px;
      margin-top: 70px;
      position: relative;
    }

    .hero-content {
      max-width: 800px;
      margin: 0 auto;
      text-align: center;
    }

    .hero-title {
      font-size: 3rem;
      font-weight: 700;
      margin-bottom: 1rem;
    }

    .hero-subtitle {
      font-size: 1.5rem;
      margin-bottom: 2rem;
      opacity: 0.9;
    }

    .hero-btn {
      background-color: #e63946;
      color: white;
      border: none;
      padding: 12px 30px;
      border-radius: 30px;
      font-weight: 600;
      transition: all 0.3s ease;
      text-decoration: none;
      display: inline-block;
    }

    .hero-btn:hover {
      background-color: #c1121f;
      transform: translateY(-2px);
      color: white;
    }

    /* Resource Cards Styles */
    .resource-section {
      padding: 80px 0;
      background-color: #f8f9fa;
    }

    .section-title {
      font-size: 2.2rem;
      font-weight: 700;
      margin-bottom: 1.5rem;
      color: #1d3557;
      position: relative;
      display: inline-block;
    }

    .section-title:after {
      content: '';
      position: absolute;
      bottom: -10px;
      left: 0;
      width: 80px;
      height: 4px;
      background-color: #e63946;
    }

    .section-lead {
      font-size: 1.2rem;
      color: #6c757d;
      max-width: 800px;
      margin-bottom: 3rem;
    }

    .resource-card {
      border: none;
      border-radius: 12px;
      overflow: hidden;
      box-shadow: 0 5px 15px rgba(0, 0, 0, 0.05);
      transition: all 0.3s ease;
      height: 100%;
    }

    .resource-card:hover {
      transform: translateY(-5px);
      box-shadow: 0 15px 30px rgba(0, 0, 0, 0.1);
    }

    .resource-card .card-body {
      padding: 1.8rem;
    }

    .resource-card .card-title {
      font-weight: 700;
      margin-bottom: 1rem;
      color: #1d3557;
    }

    .resource-card .card-text {
      color: #6c757d;
    }

    .resource-tag {
      display: inline-block;
      background-color: #f1faee;
      color: #1d3557;
      padding: 5px 12px;
      border-radius: 20px;
      font-size: 0.85rem;
      font-weight: 600;
    }

    .visit-website {
      display: inline-block;
      background-color: #457b9d;
      color: white;
      padding: 8px 20px;
      border-radius: 5px;
      text-decoration: none;
      font-weight: 600;
      transition: all 0.3s ease;
    }

    .visit-website:hover {
      background-color: #1d3557;
      color: white;
    }

    /* Collections Management Styles */
    .collections-section {
      padding: 80px 0;
      background-color: white;
    }

    .collection-filters {
      margin-bottom: 30px;
      display: flex;
      flex-wrap: wrap;
      gap: 10px;
    }

    .filter-btn {
      background-color: #f1faee;
      color: #1d3557;
      border: none;
      padding: 8px 20px;
      border-radius: 30px;
      font-weight: 600;
      transition: all 0.3s ease;
    }

    .filter-btn.active {
      background-color: #1d3557;
      color: white;
    }

    .filter-btn:hover {
      background-color: #a8dadc;
    }

    .collection-grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
      gap: 25px;
    }

    .collection-item {
      border-radius: 12px;
      overflow: hidden;
      box-shadow: 0 5px 15px rgba(0, 0, 0, 0.05);
      transition: all 0.3s ease;
      cursor: pointer;
      position: relative;
    }

    .collection-item:hover {
      transform: translateY(-5px);
      box-shadow: 0 15px 30px rgba(0, 0, 0, 0.1);
    }

    .collection-img {
      width: 100%;
      height: 200px;
      object-fit: cover;
    }

    .collection-info {
      padding: 20px;
    }

    .collection-title {
      font-weight: 700;
      margin-bottom: 5px;
      color: #1d3557;
    }

    .collection-meta {
      color: #6c757d;
      font-size: 0.9rem;
      margin-bottom: 15px;
    }

    .collection-desc {
      color: #6c757d;
      font-size: 0.95rem;
      margin-bottom: 15px;
      display: -webkit-box;
      -webkit-line-clamp: 3;
      -webkit-box-orient: vertical;
      overflow: hidden;
    }

    .view-details-btn {
      display: inline-block;
      background-color: #457b9d;
      color: white;
      padding: 8px 20px;
      border-radius: 5px;
      text-decoration: none;
      font-weight: 600;
      transition: all 0.3s ease;
    }

    .view-details-btn:hover {
      background-color: #1d3557;
      color: white;
    }

    /* Modal Styles */
    .collection-modal {
      display: none;
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background-color: rgba(0, 0, 0, 0.7);
      z-index: 1000;
      overflow-y: auto;
    }

    .modal-content {
      background-color: white;
      margin: 50px auto;
      max-width: 800px;
      border-radius: 12px;
      overflow: hidden;
      position: relative;
    }

    .modal-header {
      position: relative;
      height: 300px;
    }

    .modal-header-img {
      width: 100%;
      height: 100%;
      object-fit: cover;
    }

    .modal-close {
      position: absolute;
      top: 15px;
      right: 15px;
      background-color: rgba(0, 0, 0, 0.5);
      color: white;
      width: 40px;
      height: 40px;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      cursor: pointer;
      transition: all 0.3s ease;
      border: none;
      font-size: 1.2rem;
    }

    .modal-close:hover {
      background-color: rgba(0, 0, 0, 0.8);
    }

    .modal-body {
      padding: 30px;
    }

    .modal-title {
      font-size: 2rem;
      font-weight: 700;
      margin-bottom: 10px;
      color: #1d3557;
    }

    .modal-meta {
      display: flex;
      gap: 20px;
      margin-bottom: 20px;
      color: #6c757d;
    }

    .modal-meta-item {
      display: flex;
      align-items: center;
      gap: 5px;
    }

    .modal-desc {
      margin-bottom: 30px;
      line-height: 1.7;
      color: #495057;
    }

    .modal-footer {
      padding: 0 30px 30px;
      display: flex;
      justify-content: space-between;
    }

    .modal-btn {
      display: inline-block;
      padding: 10px 25px;
      border-radius: 5px;
      font-weight: 600;
      text-decoration: none;
      transition: all 0.3s ease;
    }

    .primary-btn {
      background-color: #e63946;
      color: white;
    }

    .primary-btn:hover {
      background-color: #c1121f;
      color: white;
    }

    .secondary-btn {
      background-color: #f1faee;
      color: #1d3557;
    }

    .secondary-btn:hover {
      background-color: #a8dadc;
      color: #1d3557;
    }

    /* Loading Spinner */
    .spinner-container {
      display: flex;
      justify-content: center;
      align-items: center;
      height: 200px;
    }

    .spinner {
      width: 50px;
      height: 50px;
      border: 5px solid #f3f3f3;
      border-top: 5px solid #457b9d;
      border-radius: 50%;
      animation: spin 1s linear infinite;
    }

    @keyframes spin {
      0% { transform: rotate(0deg); }
      100% { transform: rotate(360deg); }
    }

    /* Responsive Adjustments */
    @media (max-width: 768px) {
      .hero-title {
        font-size: 2.2rem;
      }
      
      .hero-subtitle {
        font-size: 1.2rem;
      }
      
      .collection-grid {
        grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
      }
      
      .modal-content {
        margin: 20px;
      }
      
      .modal-header {
        height: 200px;
      }
    }
  </style>
</head>

<body>
<!-- Header -->
<header class="mnthen-header">
  <div class="mnthen-header-container">
    <a href="/" class="mnthen-logo">
      <img src="https://www.mnthen.com/images/logo.webp" alt="Minnesota Then Logo" class="mnthen-logo-img" /> 
      Minnesota Then
    </a>
    
    <button class="mnthen-mobile-menu" aria-label="Toggle menu">
      <span></span>
      <span></span>
      <span></span>
    </button>
    
    <nav class="mnthen-nav">
      <ul class="mnthen-nav-list">
        <li class="mnthen-nav-item">
          <button class="mnthen-dropdown-btn">
            About
            <svg class="mnthen-dropdown-arrow" viewBox="0 0 24 24" width="16" height="16">
              <path d="M7 10l5 5 5-5z"/>
            </svg>
          </button>
          <div class="mnthen-dropdown-content">
            <a href="https://mnthen.com/mission.html">Mission</a>
            <a href="https://mnthen.com/blog/creator/matt_reicher.html">Our Team</a>
            <a href="https://mnthen.com/contact">Contact</a>
          </div>
        </li>
        <li class="mnthen-nav-item">
          <button class="mnthen-dropdown-btn">
            Multimedia
            <svg class="mnthen-dropdown-arrow" viewBox="0 0 24 24" width="16" height="16">
              <path d="M7 10l5 5 5-5z"/>
            </svg>
          </button>
          <div class="mnthen-dropdown-content">
            <a href="https://mnthen.com/blog.html">Blog</a>
            <a href="https://www.youtube.com/@mnthen" target="_blank">YouTube</a>
            <a href="https://mnthen.com/podcast.html">Podcast</a>
          </div>
        </li>
        <li class="mnthen-nav-item">
          <button class="mnthen-dropdown-btn">
            Resources
            <svg class="mnthen-dropdown-arrow" viewBox="0 0 24 24" width="16" height="16">
              <path d="M7 10l5 5 5-5z"/>
            </svg>
          </button>
          <div class="mnthen-dropdown-content">
            <a href="https://mnthen.com/faq.html">Help Center</a>
            <a href="https://mnthen.com/upcoming_events.html">Upcoming Events</a>
            <a href="https://mnthen.com/resources.html">Research Tools</a>
          </div>
        </li>
        <li class="mnthen-nav-item">
          <button class="mnthen-dropdown-btn">
            Interact
            <svg class="mnthen-dropdown-arrow" viewBox="0 0 24 24" width="16" height="16">
              <path d="M7 10l5 5 5-5z"/>
            </svg>
          </button>
          <div class="mnthen-dropdown-content">
            <a href="https://www.patreon.com/mnthen" target="_blank">Join Our Patreon</a>
            <a href="https://mnthen.com/markers.html">Share Your Story</a>
            <a href="https://mnthen.com/trivia.html">Play Trivia Games</a> 
          </div>
        </li>
        <li class="mnthen-nav-item">
          <a href="https://mnthen.com/donate.html" class="mnthen-donate-btn">Donate</a>
        </li>
      </ul>
    </nav>
  </div>
</header>

<!-- Hero Section -->
<section class="hero-section">
  <div class="container">
    <div class="hero-content">
      <h1 class="hero-title">Minnesota's Historical Resources</h1>
      <p class="hero-subtitle">Discover our curated collection of research tools, archives, and historical artifacts</p>
      <a href="#collections" class="hero-btn">Explore Collections</a>
    </div>
  </div>
</section>

<!-- Resource Section -->
<section class="resource-section">
  <div class="container">
    <div class="row">
      <div class="col-12">
        <h2 class="section-title">Research Resources</h2>
        <p class="section-lead">
          A collection of essential Minnesota history resources to help enhance your research and exploration of our state's rich heritage.
        </p>
      </div>
    </div>
    
    <div class="row" id="resources-container">
      <!-- Resources will be dynamically added here -->
      <div class="spinner-container">
        <div class="spinner"></div>
      </div>
    </div>
  </div>
</section>

<!-- Collections Management Section -->
<section class="collections-section" id="collections">
  <div class="container">
    <div class="row">
      <div class="col-12">
        <h2 class="section-title">Historical Collections</h2>
        <p class="section-lead">
          Browse our digital archive of historical artifacts, documents, and photographs from Minnesota's past.
        </p>
        
        <div class="collection-filters">
          <button class="filter-btn active" data-filter="all">All Items</button>
          <button class="filter-btn" data-filter="photographs">Photographs</button>
          <button class="filter-btn" data-filter="documents">Documents</button>
          <button class="filter-btn" data-filter="artifacts">Artifacts</button>
          <button class="filter-btn" data-filter="maps">Maps</button>
        </div>
        
        <div class="collection-grid" id="collection-grid">
          <!-- Collection items will be dynamically added here -->
          <div class="spinner-container">
            <div class="spinner"></div>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>

<!-- Collection Item Modal -->
<div class="collection-modal" id="collection-modal">
  <div class="modal-content">
    <div class="modal-header">
      <img src="/placeholder.svg" alt="" class="modal-header-img" id="modal-img">
      <button class="modal-close" id="modal-close">
        <i class="fas fa-times"></i>
      </button>
    </div>
    <div class="modal-body">
      <h2 class="modal-title" id="modal-title"></h2>
      <div class="modal-meta">
        <div class="modal-meta-item">
          <i class="fas fa-calendar-alt"></i>
          <span id="modal-date"></span>
        </div>
        <div class="modal-meta-item">
          <i class="fas fa-tag"></i>
          <span id="modal-category"></span>
        </div>
      </div>
      <div class="modal-desc" id="modal-desc"></div>
    </div>
    <div class="modal-footer">
      <a href="#" class="modal-btn secondary-btn" id="modal-back">Back to Collections</a>
      <a href="#" class="modal-btn primary-btn" id="modal-source" target="_blank">View Source</a>
    </div>
  </div>
</div>

<!-- Footer -->
<footer class="footer bg-primary py-5"> 
  <div class="container">
      <div class="row g-4 mb-4">
          <div class="col-lg-3 col-md-6 pt-3">
              <h3 class="footer-brand mb-3">
                  <span class="text-white">Minnesota</span>
                  <span class="text-navy">Then</span>
              </h3>
          </div>
          <div class="col-lg-2 col-md-6">
              <h5 class="text-white mb-3">Who We Are</h5>
              <ul class="list-unstyled footer-links">
                  <li><a href="/about.html">About Us</a></li>
                  <li><a href="/privacy_terms.html">ToS & Privacy</a></li>
              </ul>
          </div>
          <div class="col-lg-2 col-md-6">
              <h5 class="text-white mb-3">What We Do</h5>
              <ul class="list-unstyled footer-links">
                  <li><a href="https://mnthen.com/blog.html">Blog</a></li>
                  <li><a href="https://www.mnthen.com/article/thesis_project.pdf">Thesis Project</a></li>
                  <li><a href="/upcoming_events.html">Upcoming Events</a></li>
              </ul>
          </div>
          <div class="col-lg-2 col-md-6">
              <h5 class="text-white mb-3">Resources</h5>
              <ul class="list-unstyled footer-links">
                  <li><a href="https://www.mnthen.com/works.html">Learn the App</a></li>
                  <li><a href="/faq.html">Help Center</a></li>
                  <li><a href="/resources.html">Research Tools</a></li>
              </ul>
          </div>
          <div class="col-lg-3 col-md-6 pt-3">
              <p class="tagline">Every Step Tells a Story</p>
          </div>
      </div>
      <hr class="footer-divider">
      <div class="row align-items-center">
        <div class="col-md-4 text-center text-md-start">
            <small style="color: white;">&copy; 2025 Minnesota Then. All rights reserved</small>
        </div>
        <div class="col-md-8">
            <div class="social-icons text-center text-md-end">
                <span class="me-2" style="color: white;">Connect:</span>
                <a href="https://www.facebook.com/profile.php?id=100090355652945" target="_blank" class="text-white">
                    <i class="fab fa-facebook-f"></i>
                </a>
                <span class="mx-2 text-white">|</span>
                <a href="https://bsky.app/profile/mnthen.bsky.social" target="_blank" class="text-white">
                    <i class="fa-brands fa-bluesky"></i>
                </a>
                <span class="mx-2 text-white">|</span>
                <a href="https://www.linkedin.com/company/minnesota-then" target="_blank" class="text-white">
                    <i class="fab fa-linkedin-in"></i>
                </a>
            </div>
        </div>
      </div>
  </div>
</footer>

<!-- Firebase SDK -->
<script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-firestore-compat.js"></script>

<!-- Bootstrap JS -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>

<script>
document.addEventListener('DOMContentLoaded', function() {
  // Initialize Firebase
  const firebaseConfig = {
    apiKey: "AIzaSyDummyKeyForDemoPurposes",
    authDomain: "mnthen-resources.firebaseapp.com",
    projectId: "mnthen-resources",
    storageBucket: "mnthen-resources.appspot.com",
    messagingSenderId: "123456789012",
    appId: "1:123456789012:web:abcdef1234567890"
  };
  
  // Initialize Firebase (in a real implementation, you would use your actual Firebase credentials)
  // For demo purposes, we'll use mock data instead of actual Firebase
  // firebase.initializeApp(firebaseConfig);
  // const db = firebase.firestore();
  
  // Resources data
  const resources = [
    {
      name: 'Minnesota Historical Society',
      type: 'General History',
      link: 'https://www.mnhs.org/edonline',
      description: 'Online resource center offering access to primary and secondary sources on historical topics, including lesson plans, activities, and interactive tools for educators and students.',
      icon: 'fa-landmark'
    },
    {
      name: 'Mr. Tredinnick\'s Social Studies Class',
      type: 'General History',
      link: 'https://www.mrtredinnick.com/minnesota-history.html',
      description: 'Comprehensive Minnesota history curriculum designed for a rigorous upper-level high school course, featuring detailed lesson plans and primary source materials.',
      icon: 'fa-school'
    },
    {
      name: 'MNHS Digital Newspaper Hub',
      type: 'General History',
      link: 'https://newspapers.mnhs.org/jsp/browse.jsp',
      description: 'Geographically and culturally diverse newspapers published between 1849 and today, offering a window into daily life, politics, and events throughout Minnesota\'s history.',
      icon: 'fa-newspaper'
    },
    {
      name: 'Minnesota Genealogical Society',
      type: 'Genealogy',
      link: 'https://mngs.org/Minnesota-Resources',
      description: 'Access genealogical records, family trees, and research assistance for Minnesota ancestry, with specialized collections for various ethnic groups that settled in the state.',
      icon: 'fa-tree'
    },
    {
      name: 'MNopedia',
      type: 'General History',
      link: 'https://mnopedia.org/',
      description: 'An online encyclopedia about Minnesota developed by the Minnesota Historical Society (MNHS) and its partners, featuring peer-reviewed articles on people, places, events, and topics from prehistory to the present.',
      icon: 'fa-book'
    },
    {
      name: 'Minnesota Digital Library',
      type: 'General History',
      link: 'https://www.mndigital.org/',
      description: 'Digitized photographs, documents, and manuscripts preserving state history, with over 250,000 items from more than 190 cultural heritage organizations across Minnesota.',
      icon: 'fa-photo-film'
    },
    {
      name: 'Minnesota Indian Affairs Council',
      type: 'Native American History',
      link: 'https://mn.gov/indianaffairs/',
      description: 'Learn about Native American tribes, culture, and government initiatives in Minnesota, including educational resources and policy information related to the 11 federally recognized tribal nations in the state.',
      icon: 'fa-users'
    },
    {
      name: 'Minnesota State Archives',
      type: 'Government Records',
      link: 'https://www.mnhs.org/collections/statearchives',
      description: 'Official repository for Minnesota government records of enduring value, including documents from state agencies, the legislature, courts, and local governments dating back to territorial days.',
      icon: 'fa-folder-open'
    },
    {
      name: 'Minnesota Population Center',
      type: 'Demographic Data',
      link: 'https://pop.umn.edu/',
      description: 'Research center at the University of Minnesota providing historical census data, demographic information, and population statistics for Minnesota and beyond.',
      icon: 'fa-chart-line'
    }
  ];

  // Collection items data (mock data that would normally come from Firebase)
  const collectionItems = [
    {
      id: 'photo001',
      title: 'Minneapolis Flour Mills, 1880',
      category: 'photographs',
      date: '1880',
      description: 'Historic photograph showing the Minneapolis flour mills along the Mississippi River. These mills were crucial to the city\'s early economic development, making Minneapolis the flour milling capital of the world from 1880 to 1930. The image shows the massive stone and brick mill buildings with water wheels powered by St. Anthony Falls.',
      image: 'https://images.unsplash.com/photo-1588466585717-f8041aec7875?ixlib=rb-1.2.1&auto=format&fit=crop&w=1200&q=80',
      source: 'https://www.mnhs.org/millcity'
    },
    {
      id: 'doc001',
      title: 'Minnesota State Constitution, 1858',
      category: 'documents',
      date: '1858',
      description: 'Digital reproduction of Minnesota\'s original state constitution, adopted upon statehood in 1858. This foundational document established the structure of state government and outlined the rights of citizens. The constitution was written during a contentious period, with Republicans and Democrats drafting separate versions that were eventually reconciled.',
      image: 'https://images.unsplash.com/photo-1589829545856-d10d557cf95f?ixlib=rb-1.2.1&auto=format&fit=crop&w=1200&q=80',
      source: 'https://www.mnhs.org/collections'
    },
    {
      id: 'art001',
      title: 'Dakota Beaded Moccasins, c.1900',
      category: 'artifacts',
      date: 'c.1900',
      description: 'Pair of Dakota beaded moccasins from the early 20th century, featuring intricate floral beadwork patterns in vibrant colors. These moccasins represent traditional Dakota craftsmanship and artistic expression. The beadwork uses glass beads that were traded items, showing the cultural exchange and adaptation that occurred during this period.',
      image: 'https://images.unsplash.com/photo-1584917865442-de89df76afd3?ixlib=rb-1.2.1&auto=format&fit=crop&w=1200&q=80',
      source: 'https://www.mnhs.org/nativeamerican'
    },
    {
      id: 'map001',
      title: 'Nicollet\'s Map of the Upper Mississippi, 1843',
      category: 'maps',
      date: '1843',
      description: 'Joseph Nicollet\'s detailed map of the Upper Mississippi region, published in 1843. This groundbreaking cartographic work was the first accurate scientific survey of the area between the Mississippi and Missouri Rivers. Nicollet\'s map included Native American village locations, geological features, and vegetation patterns that influenced settlement patterns.',
      image: 'https://images.unsplash.com/photo-1582728350683-b2b4c1eee5f6?ixlib=rb-1.2.1&auto=format&fit=crop&w=1200&q=80',
      source: 'https://www.mnhs.org/maps'
    },
    {
      id: 'photo002',
      title: 'Iron Range Miners, 1910',
      category: 'photographs',
      date: '1910',
      description: 'Photograph depicting miners at work in Minnesota\'s Iron Range, circa 1910. The image shows the harsh working conditions in the open pit mines that supplied much of America\'s iron ore during the industrial revolution. Many of these miners were immigrants from Finland, Italy, and Eastern European countries who came seeking economic opportunity.',
      image: 'https://images.unsplash.com/photo-1569503689347-a5dbdaca7c69?ixlib=rb-1.2.1&auto=format&fit=crop&w=1200&q=80',
      source: 'https://www.mnhs.org/ironrange'
    },
    {
      id: 'doc002',
      title: 'Treaty of Traverse des Sioux, 1851',
      category: 'documents',
      date: '1851',
      description: 'Digital copy of the 1851 Treaty of Traverse des Sioux, a significant agreement between the U.S. government and the Dakota people. This treaty opened 24 million acres of Dakota land for white settlement in exchange for money and goods. The treaty\'s implementation was marked by broken promises and led to increasing tensions that eventually erupted in the U.S.-Dakota War of 1862.',
      image: 'https://images.unsplash.com/photo-1585828292920-638a2a78cb38?ixlib=rb-1.2.1&auto=format&fit=crop&w=1200&q=80',
      source: 'https://www.mnhs.org/treaties'
    },
    {
      id: 'art002',
      title: 'Scandinavian Immigrant Trunk, 1880s',
      category: 'artifacts',
      date: '1880s',
      description: 'Wooden immigrant trunk brought by a Swedish family to Minnesota in the 1880s. These trunks typically contained all of a family\'s possessions as they made the journey to America. This particular trunk features traditional Scandinavian rosemaling (decorative painting) and the family\'s initials. It represents the massive wave of Nordic immigration to Minnesota in the late 19th century.',
      image: 'https://images.unsplash.com/photo-1519340241574-2cec6aef0c01?ixlib=rb-1.2.1&auto=format&fit=crop&w=1200&q=80',
      source: 'https://www.mnhs.org/immigrants'
    },
    {
      id: 'map002',
      title: 'Minnesota Railroad Map, 1874',
      category: 'maps',
      date: '1874',
      description: 'Detailed railroad map of Minnesota from 1874, showing the rapid expansion of rail lines that transformed the state\'s economy and settlement patterns. The map illustrates how railroads connected agricultural areas to markets and facilitated the growth of towns along their routes. This transportation revolution was crucial to Minnesota\'s development as an agricultural and industrial powerhouse.',
      image: 'https://images.unsplash.com/photo-1576502200916-3808e07386a5?ixlib=rb-1.2.1&auto=format&fit=crop&w=1200&q=80',
      source: 'https://www.mnhs.org/railroads'
    },
    {
      id: 'photo003',
      title: 'Rondo Neighborhood, St. Paul, 1950s',
      category: 'photographs',
      date: '1950s',
      description: 'Photograph of the vibrant Rondo neighborhood in St. Paul before it was divided by the construction of Interstate 94. Rondo was the heart of St. Paul\'s African American community for much of the 20th century. This image captures the thriving businesses, homes, and community spaces that were later displaced by highway construction, a significant example of how infrastructure projects disproportionately impacted communities of color.',
      image: 'https://images.unsplash.com/photo-1525909002-1b05e0c869d8?ixlib=rb-1.2.1&auto=format&fit=crop&w=1200&q=80',
      source: 'https://www.mnhs.org/rondo'
    },
    {
      id: 'art003',
      title: 'Ojibwe Birch Bark Canoe, c.1920',
      category: 'artifacts',
      date: 'c.1920',
      description: 'Traditional Ojibwe birch bark canoe constructed using ancient techniques passed down through generations. This lightweight yet durable watercraft was perfectly adapted to Minnesota\'s lakes and rivers, allowing for efficient travel and transportation of goods. The canoe represents the ingenuity of Ojibwe technology and their deep understanding of the natural environment.',
      image: 'https://images.unsplash.com/photo-1544124094-8aea0374da93?ixlib=rb-1.2.1&auto=format&fit=crop&w=1200&q=80',
      source: 'https://www.mnhs.org/nativeamerican'
    },
    {
      id: 'doc003',
      title: 'Women\'s Suffrage Petition, 1919',
      category: 'documents',
      date: '1919',
      description: 'Petition from Minnesota women\'s suffrage organizations to the state legislature in support of the 19th Amendment. This document represents the culmination of decades of activism by Minnesota women fighting for the right to vote. Minnesota was the 15th state to ratify the 19th Amendment, which was finally adopted nationally in 1920, granting women the right to vote throughout the United States.',
      image: 'https://images.unsplash.com/photo-1541101767792-f9b2b1c4f127?ixlib=rb-1.2.1&auto=format&fit=crop&w=1200&q=80',
      source: 'https://www.mnhs.org/suffrage'
    }
  ];

  // Initialize navigation
  initializeNavigation();
  
  // Initialize resources section
  initializeResources();
  
  // Initialize collections section
  initializeCollections();
  
  // Initialize modal functionality
  initializeModal();

  // Navigation functionality
  function initializeNavigation() {
    const mobileMenuBtn = document.querySelector('.mnthen-mobile-menu');
    const mainNav = document.querySelector('.mnthen-nav');
    const dropdownBtns = document.querySelectorAll('.mnthen-dropdown-btn');

    if (mobileMenuBtn && mainNav) {
      // Mobile menu toggle
      mobileMenuBtn.addEventListener('click', function(e) {
        e.stopPropagation();
        this.classList.toggle('active');
        mainNav.classList.toggle('active');
      });

      // Dropdown functionality
      dropdownBtns.forEach(btn => {
        ['click', 'touchstart'].forEach(eventType => {
          btn.addEventListener(eventType, function(e) {
            e.preventDefault();
            e.stopPropagation();
            
            // Close other dropdowns
            dropdownBtns.forEach(otherBtn => {
              if (otherBtn !== btn) {
                otherBtn.classList.remove('active');
                otherBtn.nextElementSibling?.classList.remove('active');
              }
            });
            
            // Toggle current dropdown
            this.classList.toggle('active');
            const dropdownContent = this.nextElementSibling;
            if (dropdownContent) {
              dropdownContent.classList.toggle('active');
            }
          });
        });
      });

      // Close dropdowns when clicking/touching outside
      ['click', 'touchstart'].forEach(eventType => {
        document.addEventListener(eventType, function(e) {
          const isClickInsideNav = e.target.closest('.mnthen-nav');
          const isClickInsideMenu = e.target.closest('.mnthen-mobile-menu');
          
          if (!isClickInsideNav && !isClickInsideMenu) {
            mainNav.classList.remove('active');
            mobileMenuBtn.classList.remove('active');
            
            dropdownBtns.forEach(btn => {
              btn.classList.remove('active');
              btn.nextElementSibling?.classList.remove('active');
            });
          }
        });
      });

      // Handle window resize
      window.addEventListener('resize', function() {
        if (window.innerWidth > 768) {
          mainNav.classList.remove('active');
          mobileMenuBtn.classList.remove('active');
          
          dropdownBtns.forEach(btn => {
            btn.classList.remove('active');
            btn.nextElementSibling?.classList.remove('active');
          });
        }
      });
    }
  }

  // Initialize resources section
  function initializeResources() {
    const resourcesContainer = document.getElementById('resources-container');
    
    // Simulate loading delay (would be a real Firebase fetch in production)
    setTimeout(() => {
      // Clear loading spinner
      resourcesContainer.innerHTML = '';
      
      // Group resources by type
      const groupedResources = resources.reduce((acc, resource) => {
        if (!acc[resource.type]) {
          acc[resource.type] = [];
        }
        acc[resource.type].push(resource);
        return acc;
      }, {});

      // Generate HTML for each type and its corresponding resources
      for (const [type, typeResources] of Object.entries(groupedResources)) {
        let typeHtml = `
          <div class="col-12 mb-4">
            <h3 class="section-title">${type}</h3>
          </div>
        `;

        typeResources.forEach(resource => {
          typeHtml += `
            <div class="col-md-6 col-lg-4 mb-4">
              <div class="resource-card">
                <div class="card-body d-flex flex-column">
                  <div class="card-content">
                    <h5 class="card-title">
                      <i class="fas ${resource.icon}" style="margin-right: 10px; color: #457b9d;"></i>
                      ${resource.name}
                    </h5>
                    <p class="card-text">${resource.description}</p>
                  </div>
                  <div class="mt-auto">
                    <p class="resource-tag"><i class="fas fa-tag" style="margin-right: 5px;"></i>${resource.type}</p>
                    <div class="mt-3 text-center">
                      <a href="${resource.link}" target="_blank" rel="noopener noreferrer" class="visit-website">
                        <i class="fas fa-external-link-alt" style="margin-right: 5px;"></i>Visit Website
                      </a>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          `;
        });

        resourcesContainer.innerHTML += typeHtml;
      }
    }, 1000);
  }

  // Initialize collections section
  function initializeCollections() {
    const collectionGrid = document.getElementById('collection-grid');
    const filterButtons = document.querySelectorAll('.filter-btn');
    
    // Simulate loading delay (would be a real Firebase fetch in production)
    setTimeout(() => {
      // Clear loading spinner
      collectionGrid.innerHTML = '';
      
      // Display all collection items initially
      displayCollectionItems('all');
      
      // Add event listeners to filter buttons
      filterButtons.forEach(button => {
        button.addEventListener('click', function() {
          // Remove active class from all buttons
          filterButtons.forEach(btn => btn.classList.remove('active'));
          
          // Add active class to clicked button
          this.classList.add('active');
          
          // Get filter value
          const filter = this.getAttribute('data-filter');
          
          // Display filtered items
          displayCollectionItems(filter);
        });
      });
    }, 1500);
    
    // Function to display collection items based on filter
    function displayCollectionItems(filter) {
      // Clear collection grid
      collectionGrid.innerHTML = '';
      
      // Filter items
      const filteredItems = filter === 'all' 
        ? collectionItems 
        : collectionItems.filter(item => item.category === filter);
      
      // Display message if no items found
      if (filteredItems.length === 0) {
        collectionGrid.innerHTML = `
          <div class="col-12 text-center">
            <p>No items found in this category.</p>
          </div>
        `;
        return;
      }
      
      // Generate HTML for each item
      filteredItems.forEach(item => {
        const itemElement = document.createElement('div');
        itemElement.className = 'collection-item';
        itemElement.setAttribute('data-id', item.id);
        
        itemElement.innerHTML = `
          <img src="${item.image}" alt="${item.title}" class="collection-img">
          <div class="collection-info">
            <h3 class="collection-title">${item.title}</h3>
            <p class="collection-meta">
              <i class="fas fa-calendar-alt" style="margin-right: 5px;"></i>${item.date}
            </p>
            <p class="collection-desc">${item.description}</p>
            <button class="view-details-btn">View Details</button>
          </div>
        `;
        
        // Add click event to open modal
        itemElement.addEventListener('click', function() {
          openModal(item.id);
        });
        
        collectionGrid.appendChild(itemElement);
      });
    }
  }

  // Initialize modal functionality
  function initializeModal() {
    const modal = document.getElementById('collection-modal');
    const closeBtn = document.getElementById('modal-close');
    const backBtn = document.getElementById('modal-back');
    
    // Close modal when clicking close button
    closeBtn.addEventListener('click', closeModal);
    
    // Close modal when clicking back button
    backBtn.addEventListener('click', closeModal);
    
    // Close modal when clicking outside modal content
    modal.addEventListener('click', function(e) {
      if (e.target === modal) {
        closeModal();
      }
    });
    
    // Close modal when pressing Escape key
    document.addEventListener('keydown', function(e) {
      if (e.key === 'Escape') {
        closeModal();
      }
    });
  }

  // Function to open modal with item details
  function openModal(itemId) {
    const item = collectionItems.find(item => item.id === itemId);
    
    if (!item) return;
    
    // Set modal content
    document.getElementById('modal-img').src = item.image;
    document.getElementById('modal-img').alt = item.title;
    document.getElementById('modal-title').textContent = item.title;
    document.getElementById('modal-date').textContent = item.date;
    document.getElementById('modal-category').textContent = item.category.charAt(0).toUpperCase() + item.category.slice(1);
    document.getElementById('modal-desc').textContent = item.description;
    document.getElementById('modal-source').href = item.source;
    
    // Show modal
    document.getElementById('collection-modal').style.display = 'block';
    
    // Prevent body scrolling
    document.body.style.overflow = 'hidden';
  }

  // Function to close modal
  function closeModal() {
    document.getElementById('collection-modal').style.display = 'none';
    
    // Restore body scrolling
    document.body.style.overflow = '';
  }
});
</script>
</body>
</html>
