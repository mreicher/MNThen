<!DOCTYPE html>
<html lang="en">
<head>
  <!-- Basic Meta Tags -->
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, viewport-fit=cover">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">

  <!-- Title -->
  <title>Minnesota Then - Our Mission</title>

  <!-- Favicon -->
  <link rel="shortcut icon" type="image/x-icon" href="https://www.mnthen.com/images/mnthenfav.ico">

  <!-- Preload Critical Assets -->
  <link rel="preload" href="https://www.mnthen.com/css/mnthen_header.css" as="style" onload="this.onload=null;this.rel='stylesheet'">
  <noscript><link rel="stylesheet" href="https://www.mnthen.com/css/mnthen_header.css"></noscript>
  <link rel="preconnect" href="https://cdn.jsdelivr.net">
  <link rel="preconnect" href="https://cdnjs.cloudflare.com">
  <link rel="preload" href="https://www.mnthen.com/images/logo.webp" as="image">

  <!-- Fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">

  <!-- Bootstrap CSS -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">

  <!-- Font Awesome CSS -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css">

  <!-- Site Stylesheets -->
  <link rel="stylesheet" href="https://www.mnthen.com/css/dropdown.css">
  <link rel="stylesheet" href="https://www.mnthen.com/css/mnthen_mission.css">
  <link rel="stylesheet" href="https://www.mnthen.com/css/mnthen_header.css">
  <link rel="stylesheet" href="https://www.mnthen.com/css/mnthen_footer.css">
  <link rel="stylesheet" href="https://www.mnthen.com/css/mnthen_article_fab.css"> 

  <style>
    /* Base styles */
    :root {
      --primary: #0D47A1;
      --secondary: #E53935;
      --light: #f8f9fa;
      --dark: #212529;
    }
    
    body {
      font-family: 'Inter', sans-serif;
      color: var(--dark);
      background-color: #fafafa;
      line-height: 1.6;
      padding-top: 75px; /* Offset for fixed header */
    }
    
    /* Typography */
    h1, h2, h3, h4, h5, h6 {
      font-weight: 700;
      line-height: 1.2;
    }
    
    /* Hero section */
    .hero-section {
      background-color: var(--primary);
      color: white;
      text-align: center;
      padding: 5rem 0 3rem;
      position: relative;
      overflow: hidden;
    }
    
    .hero-title {
      font-size: 3rem;
      margin-bottom: 1rem;
      font-weight: 800;
    }
    
    .hero-subtitle {
      font-size: 1.25rem;
      max-width: 700px;
      margin: 0 auto;
      opacity: 0.9;
    }
    
    /* Section styles */
    section {
      padding: 4rem 0;
      position: relative;
    }
    
    .section-title {
      color: var(--primary);
      font-size: 2rem;
      font-weight: 700;
      margin-bottom: 2rem;
      text-align: center;
      position: relative;
    }
    
    .section-title:after {
      content: '';
      display: block;
      width: 80px;
      height: 4px;
      background: var(--primary);
      margin: 1rem auto 0;
      border-radius: 2px;
    }
    
    .section-divider {
      height: 1px;
      background: linear-gradient(to right, transparent, rgba(0,0,0,0.1), transparent);
      margin: 0;
      border: 0;
    }
    
    /* Statement cards */
    .statements-section {
      background-color: white;
    }
    
    .statements-container {
      max-width: 1100px;
      margin: 0 auto;
      padding: 0 1.5rem;
      display: flex;
      flex-wrap: wrap;
      gap: 2rem;
      justify-content: center;
    }
    
    .statement-card {
      background-color: white;
      border-radius: 12px;
      box-shadow: 0 4px 20px rgba(0,0,0,0.08);
      overflow: hidden;
      flex: 1 1 400px;
      max-width: 500px;
      text-align: center;
      transition: transform 0.3s ease, box-shadow 0.3s ease;
      border: 1px solid rgba(13, 71, 161, 0.1);
    }
    
    .statement-card:hover {
      transform: translateY(-5px);
      box-shadow: 0 8px 25px rgba(0,0,0,0.12);
    }
    
    .statement-header {
      background-color: var(--primary);
      padding: 1.5rem;
      position: relative;
    }
    
    .statement-header h3 {
      color: white;
      font-size: 1.75rem;
      font-weight: 700;
      margin-bottom: 0;
      position: relative;
      z-index: 1;
    }
    
    .statement-body {
      padding: 2rem;
    }
    
    .statement-body p {
      font-size: 1.1rem;
      line-height: 1.7;
      color: #333;
      font-weight: 500;
    }
    
    /* Why It Matters section */
    .why-it-matters {
      background-color: var(--light);
    }
    
    .why-it-matters-content {
      max-width: 800px;
      margin: 0 auto;
      padding: 0 1.5rem;
      text-align: center;
    }
    
    .why-it-matters-content p {
      font-size: 1.2rem;
      line-height: 1.7;
      color: #444;
    }
    
    /* Principles section */
    .principles-section {
      background-color: white;
    }
    
    .principles-grid {
      display: grid;
      grid-template-columns: repeat(2, 1fr);
      gap: 1.5rem;
      max-width: 900px;
      margin: 0 auto;
      padding: 0 1.5rem;
    }
    
    .principle-card {
      background-color: white;
      padding: 2rem;
      text-align: center;
      border-radius: 12px;
      box-shadow: 0 4px 15px rgba(0,0,0,0.05);
      transition: transform 0.3s ease, box-shadow 0.3s ease;
      border: 1px solid rgba(0,0,0,0.05);
    }
    
    .principle-card:hover {
      transform: translateY(-5px);
      box-shadow: 0 8px 25px rgba(0,0,0,0.1);
    }
    
    .principle-card i {
      font-size: 2.5rem;
      margin-bottom: 1.25rem;
      background: linear-gradient(135deg, var(--primary), #1565C0);
      -webkit-background-clip: text;
      background-clip: text;
      -webkit-text-fill-color: transparent;
    }
    
    .principle-card h4 {
      font-size: 1.25rem;
      margin-bottom: 1rem;
      font-weight: 700;
      color: var(--primary);
    }
    
    .principle-card p {
      font-size: 1rem;
      line-height: 1.6;
      color: #666;
    }
    
    /* Impact section */
    .impact-section {
      background-color: var(--primary);
      color: white;
      position: relative;
      overflow: hidden;
    }
    
    .impact-section:before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: url('https://www.mnthen.com/images/pattern.png') repeat;
      opacity: 0.05;
      pointer-events: none;
    }
    
    .impact-container {
      max-width: 1100px;
      margin: 0 auto;
      padding: 0 1.5rem;
      display: flex;
      flex-wrap: wrap;
      align-items: center;
      gap: 3rem;
      position: relative;
    }
    
    .impact-image {
      flex: 0 0 300px;
      position: relative;
      z-index: 1;
    }
    
    .impact-image img {
      width: 100%;
      height: 300px;
      border-radius: 50%;
      object-fit: cover;
      box-shadow: 0 8px 30px rgba(0,0,0,0.3);
      border: 5px solid rgba(255,255,255,0.2);
    }
    
    .impact-content {
      flex: 1 1 500px;
      position: relative;
      z-index: 1;
    }
    
    .impact-content h2 {
      color: white;
      font-size: 2rem;
      font-weight: 700;
      margin-bottom: 1.5rem;
    }
    
    .impact-content p {
      font-size: 1.1rem;
      line-height: 1.7;
      color: rgba(255,255,255,0.9);
    }
    
    /* Our Approach section - Updated with better step numbers */
    .approach-section {
      background-color: var(--light);
    }
    
    .approach-container {
      max-width: 1100px;
      margin: 0 auto;
      padding: 0 1.5rem;
    }
    
    .approach-grid {
      display: grid;
      grid-template-columns: repeat(2, 1fr);
      gap: 2rem;
      max-width: 900px;
      margin: 2rem auto 0;
    }
    
    .approach-step {
      position: relative;
      padding: 2rem 2rem 2rem 5rem;
      background-color: white;
      border-radius: 12px;
      box-shadow: 0 4px 15px rgba(0,0,0,0.05);
      transition: transform 0.3s ease, box-shadow 0.3s ease;
      border: 1px solid rgba(0,0,0,0.05);
      min-height: 180px;
    }
    
    .approach-step:hover {
      transform: translateY(-5px);
      box-shadow: 0 8px 25px rgba(0,0,0,0.1);
    }
    
    .step-number {
      position: absolute;
      left: 1.5rem;
      top: 1.5rem;
      display: flex;
      align-items: center;
      justify-content: center;
      width: 50px;
      height: 50px;
      background: linear-gradient(135deg, var(--primary), #1565C0);
      color: white;
      border-radius: 50%;
      font-weight: bold;
      font-size: 1.5rem;
      box-shadow: 0 3px 10px rgba(13, 71, 161, 0.3);
    }
    
    .approach-step h3 {
      font-size: 1.25rem;
      font-weight: 700;
      margin-bottom: 0.75rem;
      color: var(--primary);
    }
    
    .approach-step p {
      font-size: 1rem;
      line-height: 1.6;
      color: #555;
    }
    
    /* FAB (Floating Action Button) */
    .mnthen-fab {
      position: fixed;
      bottom: 2rem;
      right: 2rem;
      width: 56px;
      height: 56px;
      border-radius: 50%;
      background-color: var(--primary);
      color: white;
      display: flex;
      align-items: center;
      justify-content: center;
      box-shadow: 0 4px 12px rgba(0,0,0,0.2);
      transition: all 0.3s ease;
      z-index: 1000;
      text-decoration: none;
    }
    
    .mnthen-fab:hover {
      transform: translateY(-3px) scale(1.05);
      box-shadow: 0 6px 16px rgba(0,0,0,0.3);
      color: white;
    }
    
    .mnthen-fab i {
      font-size: 1.5rem;
    }
    
    .mnthen-fab-tooltip {
      position: absolute;
      right: calc(100% + 15px);
      top: 50%;
      transform: translateY(-50%);
      background-color: var(--dark);
      color: white;
      padding: 0.5rem 1rem;
      border-radius: 4px;
      font-size: 0.875rem;
      white-space: nowrap;
      opacity: 0;
      pointer-events: none;
      transition: opacity 0.3s ease;
    }
    
    .mnthen-fab:hover .mnthen-fab-tooltip {
      opacity: 1;
    }
    
    /* Animations */
    @keyframes fadeInUp {
      from {
        opacity: 0;
        transform: translateY(20px);
      }
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }
    
    .fade-in {
      opacity: 0;
      animation: fadeInUp 0.6s ease forwards;
    }
    
    .delay-1 {
      animation-delay: 0.1s;
    }
    
    .delay-2 {
      animation-delay: 0.2s;
    }
    
    .delay-3 {
      animation-delay: 0.3s;
    }
    
    /* Responsive adjustments */
    @media (max-width: 992px) {
      .hero-title {
        font-size: 2.5rem;
      }
      
      .impact-image {
        flex: 0 0 250px;
      }
      
      .impact-image img {
        width: 250px;
        height: 250px;
      }
    }
    
    @media (max-width: 768px) {
      .hero-title {
        font-size: 2rem;
      }
      
      .hero-subtitle {
        font-size: 1.1rem;
      }
      
      section {
        padding: 3rem 0;
      }
      
      .section-title {
        font-size: 1.75rem;
      }
      
      .statement-header {
        padding: 1.25rem;
      }
      
      .statement-header h3 {
        font-size: 1.5rem;
      }
      
      .statement-body {
        padding: 1.5rem;
      }
      
      .statement-body p,
      .why-it-matters-content p {
        font-size: 1rem;
      }
      
      /* Make principles 1x4 on mobile */
      .principles-grid {
        grid-template-columns: 1fr;
      }
      
      /* Make approach 1x4 on mobile */
      .approach-grid {
        grid-template-columns: 1fr;
      }
      
      /* Improved impact section mobile layout */
      .impact-container {
        flex-direction: column;
        text-align: center;
        gap: 2rem;
      }
      
      .impact-image {
        flex: 0 0 auto;
        margin: 0 auto;
      }
      
      .impact-image img {
        width: 220px;
        height: 220px;
      }
      
      .impact-content {
        flex: 1 1 auto;
        text-align: center;
      }
      
      .impact-content h2 {
        text-align: center;
        font-size: 1.75rem;
      }
      
      .impact-content p {
        font-size: 1rem;
      }
    }
    
    @media (max-width: 576px) {
      .hero-title {
        font-size: 1.75rem;
      }
      
      .hero-subtitle {
        font-size: 1rem;
      }
      
      section {
        padding: 2.5rem 0;
      }
      
      .section-title {
        font-size: 1.5rem;
      }
      
      .statement-header h3 {
        font-size: 1.35rem;
      }
      
      .principle-card i {
        font-size: 2rem;
      }
      
      .approach-step {
        padding: 1.5rem 1.5rem 1.5rem 4.5rem;
        min-height: auto;
      }
      
      .step-number {
        left: 1.25rem;
        top: 1.25rem;
        width: 40px;
        height: 40px;
        font-size: 1.25rem;
      }
      
      .approach-step h3 {
        font-size: 1.2rem;
      }
      
      .impact-image img {
        width: 180px;
        height: 180px;
      }
      
      .statements-container {
        gap: 1.5rem;
      }
    }
  </style>
</head>

<body>
  <!-- Header with Login Button - Exact copy from first example -->
  <header class="mnthen-header">
    <div class="mnthen-header-container">
      <a href="/" class="mnthen-logo" style="color: black;">
        <img src="https://www.mnthen.com/images/logo.webp" alt="Minnesota Then Logo" class="mnthen-logo-img"/> 
        Minnesota Then
      </a>

      <button class="mnthen-mobile-menu" aria-label="Toggle menu">
        <span></span>
        <span></span>
        <span></span>
      </button>

      <nav class="mnthen-nav">
        <ul class="mnthen-nav-list">
          <li class="mnthen-nav-item">
            <button class="mnthen-dropdown-btn">
              About
              <svg class="mnthen-dropdown-arrow" viewBox="0 0 24 24" width="16" height="16">
                <path d="M7 10l5 5 5-5z"/>
              </svg>
            </button>
            <div class="mnthen-dropdown-content">
              <a href="https://mnthen.com/mission.html">Mission</a>
              <a href="https://mnthen.com/ourteam.html">Our Team</a>
              <a href="https://mnthen.com/contact">Contact</a>
            </div>
          </li>
          <li class="mnthen-nav-item">
            <button class="mnthen-dropdown-btn">
              Multimedia
              <svg class="mnthen-dropdown-arrow" viewBox="0 0 24 24" width="16" height="16">
                <path d="M7 10l5 5 5-5z"/>
              </svg>
            </button>
            <div class="mnthen-dropdown-content">
              <a href="https://mnthen.com/blog.html">Blog</a>
              <a href="https://www.youtube.com/@mnthen" target="_blank" rel="noreferrer">YouTube</a>
              <a href="https://mnthen.com/podcast.html">Podcast</a>
            </div>
          </li>
          <li class="mnthen-nav-item">
            <button class="mnthen-dropdown-btn">
              Resources
              <svg class="mnthen-dropdown-arrow" viewBox="0 0 24 24" width="16" height="16">
                <path d="M7 10l5 5 5-5z"/>
              </svg>
            </button>
            <div class="mnthen-dropdown-content">
              <a href="https://mnthen.com/faq.html">Help Center</a>
              <a href="https://mnthen.com/upcoming_events.html">Upcoming Events</a>
              <a href="https://mnthen.com/resources.html">Research Tools</a>
            </div>
          </li>
          <li class="mnthen-nav-item">
            <button class="mnthen-dropdown-btn">
              Interact
              <svg class="mnthen-dropdown-arrow" viewBox="0 0 24 24" width="16" height="16">
                <path d="M7 10l5 5 5-5z"/>
              </svg>
            </button>
            <div class="mnthen-dropdown-content">
              <a href="https://www.patreon.com/mnthen" target="_blank" rel="noreferrer">Join Our Patreon</a>
              <a href="https://mnthen.com/markers.html">Share Your Story</a>
              <a href="https://mnthen.com/trivia.html">Play Trivia Games</a> 
            </div>
          </li>
          <li class="mnthen-nav-item">
            <a href="https://mnthen.com/donate.html" class="mnthen-donate-btn">Donate</a>
          </li>
        </ul>
      </nav>

      <!-- User Authentication Button - Updated structure -->
      <div class="user-dropdown" id="userAuthBtn">
        <a href="#" class="mnthen-signin-btn" aria-label="User Account">
          <i class="fas fa-user" id="authIcon"></i>
        </a>
        <div class="user-dropdown-content" id="userDropdown">
          <a href="#" id="profileLink">My Profile</a>
          <a href="#" id="logoutLink">Log Out</a>
        </div>
      </div>
    </div>
  </header>

  <!-- Main Content -->
  <main>
    <!-- Hero Section -->
    <section class="hero-section fade-in">
      <div class="container">
        <h1 class="hero-title">Our Mission</h1>
        <p class="hero-subtitle">Making Minnesota's history accessible, engaging, and meaningful for everyone.</p>
      </div>
    </section>

    <!-- Statements Section -->
    <section class="statements-section fade-in delay-1">
      <div class="container">
        <div class="statements-container">
          <article class="statement-card">
            <div class="statement-header">
              <h3>Mission Statement</h3>
            </div>
            <div class="statement-body">
              <p>To inspire and connect communities throughout Minnesota by bringing local history to life through accessible, engaging, and educational digital experiences.</p>
            </div>
          </article>

          <article class="statement-card">
            <div class="statement-header">
              <h3>Vision Statement</h3>
            </div>
            <div class="statement-body">
              <p>To provide an inclusive, immersive, and enlightening educational experience, leveraging technology to help uncover and explore Minnesota's rich history.</p>
            </div>
          </article>
        </div>
      </div>
    </section>

    <div class="section-divider"></div>

    <!-- Why It Matters Section -->
    <section class="why-it-matters fade-in delay-2">
      <div class="container">
        <h2 class="section-title">Why It Matters</h2>
        <div class="why-it-matters-content">
          <p>Understanding our history helps us build a stronger future. By making Minnesota's history accessible, we empower individuals and communities to connect with their roots, learn from the past, and shape a better tomorrow.</p>
        </div>
      </div>
    </section>

    <div class="section-divider"></div>

    <!-- Principles Section -->
    <section class="principles-section fade-in delay-1">
      <div class="container">
        <h2 class="section-title">Our Guiding Principles</h2>
        <div class="principles-grid">
          <article class="principle-card">
            <i class="fas fa-universal-access" aria-hidden="true"></i>
            <h4>Accessibility</h4>
            <p>Making history available to everyone, regardless of location or resources.</p>
          </article>

          <article class="principle-card">
            <i class="fas fa-users" aria-hidden="true"></i>
            <h4>Community</h4>
            <p>Building connections through shared stories and experiences.</p>
          </article>

          <article class="principle-card">
            <i class="fas fa-lightbulb" aria-hidden="true"></i>
            <h4>Innovation</h4>
            <p>Using technology to create engaging historical experiences.</p>
          </article>

          <article class="principle-card">
            <i class="fas fa-book-open" aria-hidden="true"></i>
            <h4>Education</h4>
            <p>Fostering understanding through meaningful historical content.</p>
          </article>
        </div>
      </div>
    </section>

    <div class="section-divider"></div>

    <!-- Impact Section -->
    <section class="impact-section fade-in delay-2">
      <div class="container">
        <div class="impact-container">
          <div class="impact-image">
            <img src="https://www.mnthen.com/images/impact.jpg" alt="Community Impact - image of the MN Senate Chamber" loading="lazy">
          </div>
          <div class="impact-content">
            <h2>Creating Lasting Impact</h2>
            <p class="mb-3">Sharing our history - from headline-making moments to the everyday stories that shaped our communities - can create real change. With each story shared, each voice heard, we deepen our understanding of the path that brought us here.</p>
            <p>Through these diverse perspectives and experiences, we gain insights that help us build a stronger future together. It's more than just preserving the past; it's about bringing people together, sparking meaningful conversations, and strengthening the connections between neighbors through our shared Minnesota story.</p>
          </div>
        </div>
      </div>
    </section>

    <div class="section-divider"></div>

    <!-- Our Approach Section - Updated with better step numbers -->
    <section class="approach-section fade-in delay-1">
      <div class="container">
        <h2 class="section-title">Our Approach</h2>
        <div class="approach-grid">
          <div class="approach-step">
            <div class="step-number">1</div>
            <h3>Research & Documentation</h3>
            <p>We meticulously research and document historical events, places, and stories from diverse sources and perspectives across Minnesota.</p>
          </div>
          
          <div class="approach-step">
            <div class="step-number">2</div>
            <h3>Digital Preservation</h3>
            <p>We transform historical content into engaging digital formats that can be accessed by anyone, anywhere, ensuring preservation for future generations.</p>
          </div>
          
          <div class="approach-step">
            <div class="step-number">3</div>
            <h3>Location-Based Experiences</h3>
            <p>We create immersive experiences that connect digital content to physical locations, allowing visitors to experience history where it happened.</p>
          </div>
          
          <div class="approach-step">
            <div class="step-number">4</div>
            <h3>Community Engagement</h3>
            <p>We actively involve communities in sharing and preserving their own histories, creating a more inclusive and authentic historical record.</p>
          </div>
        </div>
      </div>
    </section>
  </main>

  <!-- Floating Action Button (FAB) to return to the front page -->
  <a href="https://www.mnthen.com/index.html" class="mnthen-fab" aria-label="Return to Front Page">
    <i class="fas fa-home"></i>
    <span class="mnthen-fab-tooltip">Back to the Home Page</span>
  </a>

  <!-- Footer -->
  <footer class="footer bg-primary py-5"> 
    <div class="container">
      <div class="row g-4 mb-4">
          <div class="col-lg-3 col-md-6 pt-3">
              <h3 class="footer-brand mb-3">
                  <span class="text-white">Minnesota</span>
                  <span class="text-navy">Then</span>
              </h3>
          </div>
          <div class="col-lg-2 col-md-6">
              <h5 class="text-white mb-3">Who We Are</h5>
              <ul class="list-unstyled footer-links">
                  <li><a href="/about.html">About Us</a></li>
                  <li><a href="/privacy_terms.html">ToS & Privacy</a></li>
              </ul>
          </div>
          <div class="col-lg-2 col-md-6">
              <h5 class="text-white mb-3">What We Do</h5>
              <ul class="list-unstyled footer-links">
                  <li><a href="https://mnthen.com/blog.html">Blog</a></li>
                  <li><a href="https://www.mnthen.com/article/thesis_project.pdf">Thesis Project</a></li>
                  <li><a href="/upcoming_events.html">Upcoming Events</a></li>
              </ul>
          </div>
          <div class="col-lg-2 col-md-6">
              <h5 class="text-white mb-3">Resources</h5>
              <ul class="list-unstyled footer-links">
                  <a href="https://github.com/mreicher/MNThen/" target="_blank" rel="noopener noreferrer">GitHub</a>
                  <li><a href="/faq.html">Help Center</a></li>
                  <li><a href="/resources.html">Research Tools</a></li>
              </ul>
          </div>
          <div class="col-lg-3 col-md-6 pt-3">
              <p class="tagline">Every Step Tells a Story</p>
          </div>
      </div>
      <hr class="footer-divider">
      <div class="row align-items-center">
        <div class="col-md-4 text-center text-md-start">
          <small style="color: white;">&copy; 2025 Minnesota Then. All rights reserved</small>
        </div>
        <div class="col-md-8">
          <div class="social-icons text-center text-md-end">
            <span class="me-2" style="color: white;">Connect:</span>
            <a href="https://www.facebook.com/profile.php?id=100090355652945" target="_blank" class="text-white" rel="noreferrer">
              <i class="fab fa-facebook-f"></i>
            </a>
            <span class="mx-2 text-white">|</span>
            <a href="https://bsky.app/profile/mnthen.bsky.social" target="_blank" class="text-white" rel="noreferrer">
              <i class="fa-brands fa-bluesky"></i>
            </a>
            <span class="mx-2 text-white">|</span>
            <a href="https://www.linkedin.com/company/minnesota-then" target="_blank" class="text-white" rel="noreferrer">
              <i class="fab fa-linkedin-in"></i>
            </a>
          </div>
        </div>
      </div>
    </div>
  </footer>

  <!-- Bootstrap Bundle with Popper -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>

  <!-- Firebase SDK -->
  <script src="https://www.gstatic.com/firebasejs/9.17.1/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.17.1/firebase-auth-compat.js"></script>

  <!-- Main JavaScript -->
  <script>
    // Firebase configuration
    const firebaseConfig = {
      apiKey: "AIzaSyBDUAF3qJGhLYQJPHyWwY0JzonN5l8ERzE",
      authDomain: "mnthen-3151d.firebaseapp.com",
      projectId: "mnthen-3151d",
      storageBucket: "mnthen-3151d.appspot.com",
      messagingSenderId: "416231360428",
      appId: "1:416231360428:web:36f69cc231be2d84a8dc09"
    };

    // Initialize Firebase
    const app = firebase.initializeApp(firebaseConfig);
    const auth = firebase.auth();

    document.addEventListener('DOMContentLoaded', function () {
      // Mark body as loaded to prevent FOUC
      document.body.classList.add('loaded');
      
      initializeDropdowns(); // Initialize dropdowns
      initializeAnimations(); // Initialize scroll animations
      setupAuthUI(); // Setup authentication UI and functionality
    });

    function initializeDropdowns() {
      const mobileMenu = document.querySelector('.mnthen-mobile-menu');
      const nav = document.querySelector('.mnthen-nav');
      const dropdownBtns = document.querySelectorAll('.mnthen-dropdown-btn');

      // Toggle mobile menu and nav
      mobileMenu?.addEventListener('click', function (e) {
        e.stopPropagation();
        this.classList.toggle('active');
        nav.classList.toggle('active');
      });

      // Handle dropdown toggling
      const handleDropdown = function (e) {
        e.stopPropagation();
        e.preventDefault();
        const dropdownContent = this.nextElementSibling;

        // Close all other dropdowns
        document.querySelectorAll('.mnthen-dropdown-content').forEach(dropdown => {
          if (dropdown !== dropdownContent) {
            dropdown.classList.remove('active');
          }
        });

        // Toggle the clicked dropdown
        dropdownContent.classList.toggle('active');
      };

      // Add event listeners to dropdown buttons
      dropdownBtns.forEach(btn => {
        btn.addEventListener('click', handleDropdown);
        btn.addEventListener('touchstart', handleDropdown, { passive: false });
      });

      // Close dropdowns and mobile menu when clicking outside
      const closeDropdownsAndMenu = function (e) {
        if (!e.target.closest('.mnthen-dropdown-content') && !e.target.closest('.mnthen-dropdown-btn')) {
          document.querySelectorAll('.mnthen-dropdown-content').forEach(dropdown => {
            dropdown.classList.remove('active');
          });
          if (nav) nav.classList.remove('active');
          if (mobileMenu) mobileMenu.classList.remove('active');
        }
      };

      document.addEventListener('click', closeDropdownsAndMenu);
      document.addEventListener('touchend', closeDropdownsAndMenu);

      // Close dropdowns and mobile menu on window resize (desktop view)
      window.addEventListener('resize', function () {
        if (window.innerWidth > 768) {
          if (nav) nav.classList.remove('active');
          if (mobileMenu) mobileMenu.classList.remove('active');
          document.querySelectorAll('.mnthen-dropdown-content').forEach(dropdown => {
            dropdown.classList.remove('active');
          });
        }
      });

      // Close dropdowns and mobile menu when clicking on a link inside the dropdown
      document.querySelectorAll('.mnthen-dropdown-content a').forEach(link => {
        link.addEventListener('click', function () {
          const dropdownContent = this.closest('.mnthen-dropdown-content');
          if (dropdownContent) {
            dropdownContent.classList.remove('active');
          }
          if (nav) nav.classList.remove('active');
          if (mobileMenu) mobileMenu.classList.remove('active');
        });
      });
    }

    function initializeAnimations() {
      // Intersection Observer for fade-in animations
      const fadeElements = document.querySelectorAll('.fade-in');
      
      const fadeObserver = new IntersectionObserver((entries) => {
        entries.forEach(entry => {
          if (entry.isIntersecting) {
            entry.target.classList.add('visible');
            fadeObserver.unobserve(entry.target); // Stop observing once visible
          }
        });
      }, {
        root: null,
        threshold: 0.1,
        rootMargin: '0px 0px -50px 0px'
      });
      
      fadeElements.forEach(element => {
        fadeObserver.observe(element);
      });
    }

    function setupAuthUI() {
      const userAuthBtn = document.getElementById('userAuthBtn');
      const authIcon = document.getElementById('authIcon');
      const userDropdown = document.getElementById('userDropdown');
      const profileLink = document.getElementById('profileLink');
      const logoutLink = document.getElementById('logoutLink');
      
      let isLoggedIn = false;
      
      // Check if user is already logged in
      auth.onAuthStateChanged((user) => {
        if (user) {
          // User is signed in - change icon but keep dropdown hidden initially
          authIcon.className = 'fas fa-user-check';
          userAuthBtn.setAttribute('title', 'Signed in as ' + user.email);
          isLoggedIn = true;
          
          // Make sure dropdown is hidden initially
          userDropdown.classList.remove('show');
        } else {
          // User is signed out - reset icon and hide dropdown
          authIcon.className = 'fas fa-user';
          userAuthBtn.removeAttribute('title');
          isLoggedIn = false;
          
          // Hide dropdown
          userDropdown.classList.remove('show');
        }
      });
      
      // Toggle user dropdown or show login modal
      userAuthBtn.addEventListener('click', function(e) {
        e.preventDefault();
        e.stopPropagation();
        
        if (isLoggedIn) {
          // Toggle dropdown for logged in users
          userDropdown.classList.toggle('show');
        } else {
          // Not logged in - show login modal
          userDropdown.classList.remove('show');
          window.location.href = '/login.html';
        }
      });
      
      // Close dropdown when clicking outside
      document.addEventListener('click', function(e) {
        if (!userAuthBtn.contains(e.target) && !userDropdown.contains(e.target)) {
          userDropdown.classList.remove('show');
        }
      });
      
      // Handle logout
      logoutLink.addEventListener('click', function(e) {
        e.preventDefault();
        auth.signOut().then(() => {
          // Update UI after successful logout
          authIcon.className = 'fas fa-user';
          userDropdown.classList.remove('show');
          isLoggedIn = false;
          window.location.reload();
        }).catch((error) => {
          console.error('Logout error:', error);
          alert('Error signing out: ' + error.message);
        });
      });
      
      // Handle profile link
      profileLink.addEventListener('click', function(e) {
        e.preventDefault();
        userDropdown.classList.remove('show');
        window.location.href = '/account.html';
      });
    }
  </script>
</body>
</html>
