<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, viewport-fit=cover">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>Gangster Tour - Museum Without Walls</title>
  <link rel="shortcut icon" type="image/x-icon" href="/images/mnthenfav.ico">
  <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;600;700&family=Montserrat:wght@300;400;500;600;700&display=swap" rel="stylesheet">

  <!-- SEO / OG / Twitter / Schema -->
  <meta name="description" content="Explore Minnesota's gangster history with the Museum Without Walls. Discover historic locations, take self-guided tours, and experience history like never before.">
  <meta name="keywords" content="Minnesota gangsters, Museum Without Walls, self-guided tours, historic locations, Minnesota landmarks, prohibition era">
  <meta name="author" content="Minnesota Then">
  <meta property="og:title" content="Gangster Tour - Museum Without Walls">
  <meta property="og:description" content="Explore Minnesota's gangster history with the Museum Without Walls. Discover historic locations, take self-guided tours, and experience history like never before.">
  <meta property="og:image" content="https://www.mnthen.com/images/gangster/mccord/gangster_mccord_3.jpg">
  <meta property="og:url" content="https://www.mnthen.com/gangster-tour.html">
  <meta property="og:type" content="website">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:title" content="Gangster Tour - Museum Without Walls">
  <meta name="twitter:description" content="Explore Minnesota's gangster history with the Museum Without Walls. Discover historic locations, take self-guided tours, and experience history like never before.">
  <meta name="twitter:image" content="https://www.mnthen.com/images/gangster/mccord/gangster_mccord_3.jpg">
  <link rel="canonical" href="https://www.mnthen.com/gangster-tour.html">

  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "WebPage",
    "name": "Gangster Tour - Museum Without Walls",
    "url": "https://www.mnthen.com/gangster-tour.html",
    "description": "Explore Minnesota's gangster history with the Museum Without Walls. Discover historic locations, take self-guided tours, and experience history like never before.",
    "image": "https://www.mnthen.com/images/gangster/mccord/gangster_mccord_3.jpg",
    "publisher": {
      "@type": "Organization",
      "name": "Minnesota Then",
      "logo": { "@type": "ImageObject", "url": "https://www.mnthen.com/images/logo.webp" }
    }
  }
  </script>

  <style>
    :root {
      --primary-dark: #1a1a1a;
      --primary-medium: #2d2d2d;
      --accent-gold: #d4af37;
      --accent-green: #1e5631;
      --accent-green-light: #2e7d32;
      --text-dark: #000000;
      --text-medium: #333333;
      --text-light: #666666;
      --bg-white: #ffffff;
      --bg-light: #f8f9fa;
      --shadow-light: 0 2px 8px rgba(0, 0, 0, 0.08);
      --shadow-medium: 0 4px 16px rgba(0, 0, 0, 0.12);
      --shadow-heavy: 0 8px 32px rgba(0, 0, 0, 0.16);
      --shadow-popup: 0 20px 60px rgba(0, 0, 0, 0.3);
      --border-radius: 12px;
      --font-heading: 'Playfair Display', serif;
      --font-body: 'Montserrat', sans-serif;
      --safe-top: env(safe-area-inset-top, 0px);
      --safe-right: env(safe-area-inset-right, 0px);
      --safe-bottom: env(safe-area-inset-bottom, 0px);
      --safe-left: env(safe-area-inset-left, 0px);
    }

    * { box-sizing: border-box; margin: 0; padding: 0; -webkit-tap-highlight-color: transparent; }
    html, body { height: 100%; width: 100%; font-family: var(--font-body); overflow: hidden; -webkit-font-smoothing: antialiased; -moz-osx-font-smoothing: grayscale; background-color: #000; }

    /* ----- hero block ----- */
    .hero { position: relative; width: 100%; height: 100vh; height: 100dvh; overflow: hidden; background-color: #000; }
    .hero-background { width: 100%; height: 100%; object-fit: cover; position: absolute; top: 0; left: 0; filter: brightness(0.4) contrast(1.1); }
    .hero-overlay { position: absolute; inset: 0; display: flex; flex-direction: column; align-items: center; justify-content: center; padding: 20px; padding-top: calc(20px + var(--safe-top)); padding-right: calc(20px + var(--safe-right)); padding-bottom: calc(20px + var(--safe-bottom)); padding-left: calc(20px + var(--safe-left)); z-index: 2; }
    .hero-content { background: var(--bg-white); border-radius: var(--border-radius); padding: 36px 28px; width: 100%; max-width: 480px; box-shadow: var(--shadow-heavy); text-align: center; margin-bottom: 20px; }
    .hero-header { border-bottom: 3px solid var(--accent-green); padding-bottom: 20px; margin-bottom: 28px; }
    .hero-title { font-family: var(--font-heading); font-size: 36px; font-weight: 700; color: var(--text-dark); margin-bottom: 8px; line-height: 1.2; letter-spacing: -0.5px; }
    .hero-subtitle { font-family: var(--font-heading); font-size: 18px; font-weight: 400; color: var(--text-light); font-style: italic; }
    .features { display: grid; grid-template-columns: repeat(3, 1fr); gap: 14px; margin-bottom: 32px; }
    .feature-item { background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%); border-radius: 10px; padding: 18px 10px; text-align: center; border: 1px solid #e0e0e0; }
    .feature-icon { font-size: 36px; margin-bottom: 10px; display: block; }
    .feature-label { font-size: 13px; font-weight: 600; color: var(--text-medium); line-height: 1.4; }

    /* ----- buttons ----- */
    .btn-primary { background: linear-gradient(135deg, var(--accent-green) 0%, var(--accent-green-light) 100%); color: white; font-family: var(--font-body); font-weight: 700; font-size: 18px; padding: 16px 48px; border: none; border-radius: 50px; text-decoration: none; display: inline-block; width: 100%; max-width: 100%; box-shadow: var(--shadow-medium); cursor: pointer; text-transform: uppercase; letter-spacing: 1px; margin-bottom: 14px; }
    .btn-primary:active { opacity: 0.95; }
    .btn-secondary { background: white; color: var(--accent-green); font-family: var(--font-body); font-weight: 600; font-size: 16px; padding: 13px 32px; border: 2px solid var(--accent-green); border-radius: 50px; text-decoration: none; display: inline-block; width: 100%; max-width: 100%; cursor: pointer; }
    .btn-secondary:active { background: #e9ecef; }
    .nav-buttons { display: flex; gap: 14px; width: 100%; max-width: 480px; }
    .nav-btn { flex: 1; background: rgba(255, 255, 255, 0.95); color: var(--text-dark); font-family: var(--font-body); font-weight: 600; font-size: 15px; padding: 15px 18px; border: none; border-radius: 10px; cursor: pointer; box-shadow: var(--shadow-medium); backdrop-filter: blur(10px); }
    .nav-btn:active { background: rgba(255, 255, 255, 1); }

    /* ----- modals ----- */
    .modal-overlay { display: none; position: fixed; inset: 0; background: rgba(0, 0, 0, 0.85); backdrop-filter: blur(4px); z-index: 1000; justify-content: center; align-items: center; padding: 20px; padding-top: calc(20px + var(--safe-top)); padding-right: calc(20px + var(--safe-right)); padding-bottom: calc(20px + var(--safe-bottom)); padding-left: calc(20px + var(--safe-left)); }
    .modal-overlay.active { display: flex; }
    .modal-content { background: white; border-radius: var(--border-radius); padding: 36px 28px; width: 100%; max-width: 540px; max-height: 80vh; overflow-y: auto; position: relative; box-shadow: var(--shadow-heavy); }
    .modal-close { position: absolute; top: 20px; right: 20px; width: 40px; height: 40px; background: #f0f0f0; border: none; border-radius: 50px; font-size: 28px; line-height: 1; color: var(--text-dark); cursor: pointer; display: flex; align-items: center; justify-content: center; font-weight: 300; }
    .modal-close:active { background: #d0d0d0; }
    .modal-header { font-family: var(--font-heading); font-size: 30px; font-weight: 700; color: var(--text-dark); margin-bottom: 20px; padding-bottom: 18px; border-bottom: 3px solid var(--accent-green); padding-right: 40px; }
    .modal-text { font-size: 16px; line-height: 1.7; color: var(--text-medium); margin-bottom: 20px; }
    .location-list { list-style: none; margin: 0; padding: 0; }
    .location-item { padding: 16px 0; border-bottom: 1px solid #e0e0e0; }
    .location-item:last-child { border-bottom: none; }
    .location-name { font-weight: 600; font-size: 17px; color: var(--text-dark); margin-bottom: 6px; }
    .location-date { font-size: 14px; color: var(--accent-green); font-style: italic; }

    /* ----- help sections ----- */
    .help-section { margin-bottom: 32px; }
    .help-section:last-child { margin-bottom: 0; }
    .help-title { font-family: var(--font-heading); font-size: 22px; font-weight: 600; color: var(--text-dark); margin-bottom: 14px; }
    .help-text { font-size: 15px; line-height: 1.7; color: var(--text-medium); margin-bottom: 14px; }
    .help-tip { background: linear-gradient(135deg, #f0f8ff 0%, #e6f2ff 100%); border-left: 4px solid var(--accent-green); padding: 18px; border-radius: 0 8px 8px 0; margin-bottom: 18px; }
    .help-tip strong { color: var(--accent-green); font-weight: 600; }
    .help-list { list-style: none; padding-left: 0; margin-bottom: 14px; }
    .help-list li { padding-left: 28px; margin-bottom: 10px; position: relative; font-size: 15px; line-height: 1.7; color: var(--text-medium); }
    .help-list li::before { content: '‚Ä¢'; position: absolute; left: 10px; color: var(--accent-green); font-weight: bold; font-size: 20px; }

    /* ----- safety popup ----- */
    .popup-overlay { display: none; position: fixed; inset: 0; z-index: 2000; justify-content: center; align-items: center; padding: 20px; padding-top: calc(20px + var(--safe-top)); padding-right: calc(20px + var(--safe-right)); padding-bottom: calc(20px + var(--safe-bottom)); padding-left: calc(20px + var(--safe-left)); }
    .popup-background { position: absolute; inset: 0; object-fit: cover; filter: brightness(0.3) blur(2px); }
    .popup-overlay-dark { position: absolute; inset: 0; background: rgba(0, 0, 0, 0.7); backdrop-filter: blur(4px); }
    .popup-content { background: white; border-radius: var(--border-radius); padding: 40px 32px; width: 100%; max-width: 500px; box-shadow: var(--shadow-popup); text-align: center; position: relative; z-index: 1; }
    .popup-header { font-family: var(--font-heading); font-size: 32px; font-weight: 700; color: var(--text-dark); margin-bottom: 20px; padding-bottom: 18px; border-bottom: 3px solid var(--accent-green); }
    .popup-text { font-size: 16px; line-height: 1.8; color: var(--text-medium); margin-bottom: 24px; text-align: left; }
    .popup-buttons { display: flex; flex-direction: column; gap: 14px; margin-bottom: 28px; }
    .popup-btn { background: linear-gradient(135deg, var(--accent-green) 0%, var(--accent-green-light) 100%); color: white; font-family: var(--font-body); font-weight: 700; font-size: 16px; padding: 14px; border: none; border-radius: 10px; cursor: pointer; box-shadow: var(--shadow-medium); text-transform: uppercase; letter-spacing: 1px; }
    .popup-btn.return { background: #f0f0f0; color: var(--text-dark); }
    .popup-btn.return:hover { background: #e0e0e0; }
    .popup-btn:active { opacity: 0.95; }
    .popup-sub-buttons { display: flex; gap: 12px; }
    .popup-sub-btn { flex: 1; background: #f8f9fa; color: var(--text-dark); font-weight: 600; font-size: 15px; padding: 12px; border: 1px solid #ddd; border-radius: 8px; cursor: pointer; }
    .popup-sub-btn:hover { background: #e9ecef; }

    /* ----- desktop-only banner ----- */
    #desktopBanner { display: none; position: fixed; top: 0; left: 0; right: 0; background: #ff9800; color: #fff; text-align: center; padding: 12px 16px; font-weight: 600; font-size: 15px; z-index: 9999; box-shadow: 0 2px 6px rgba(0,0,0,.25); }
    #desktopBanner a { color: #fff; text-decoration: underline; }

    /* ----- utilities ----- */
    @media (max-width: 480px) { .hero-content { padding: 32px 24px; } .hero-title { font-size: 30px; } .hero-subtitle { font-size: 16px; } .features { gap: 12px; margin-bottom: 28px; } .feature-item { padding: 16px 8px; } .feature-icon { font-size: 32px; } .feature-label { font-size: 12px; } .btn-primary { font-size: 16px; padding: 15px 40px; } .btn-secondary { font-size: 15px; padding: 12px 28px; } .nav-btn { font-size: 14px; padding: 13px 14px; } .modal-content { padding: 32px 24px; } .modal-header { font-size: 26px; } .popup-content { padding: 36px 28px; } .popup-header { font-size: 28px; } .popup-btn { font-size: 15px; padding: 13px; } }
    @media (max-width: 360px) { .hero-content { padding: 28px 20px; } .hero-title { font-size: 28px; } .hero-subtitle { font-size: 15px; } .features { gap: 10px; margin-bottom: 24px; } .feature-item { padding: 14px 6px; } .feature-icon { font-size: 28px; margin-bottom: 8px; } .feature-label { font-size: 11px; } .btn-primary { font-size: 15px; padding: 14px 36px; } .btn-secondary { font-size: 14px; padding: 11px 24px; } .nav-btn { font-size: 13px; padding: 12px 12px; } .popup-content { padding: 32px 24px; } }
    @media (max-height: 700px) and (orientation: portrait) { .hero-overlay { justify-content: flex-start; overflow-y: auto; } .hero-content { margin-top: 16px; margin-bottom: 14px; padding: 28px 24px; } .hero-header { margin-bottom: 20px; padding-bottom: 14px; } .hero-title { font-size: 28px; } .hero-subtitle { font-size: 16px; } .features { margin-bottom: 20px; gap: 10px; } .feature-item { padding: 14px 8px; } .feature-icon { font-size: 28px; margin-bottom: 8px; } .feature-label { font-size: 12px; } .btn-primary { font-size: 16px; padding: 14px 40px; margin-bottom: 12px; } .btn-secondary { font-size: 15px; padding: 11px 28px; } .nav-buttons { gap: 10px; } .nav-btn { padding: 12px 14px; font-size: 13px; } }
    @media (max-height: 600px) and (orientation: landscape) { .hero-overlay { justify-content: flex-start; padding-top: max(12px,var(--safe-top)); padding-bottom: max(12px,var(--safe-bottom)); } .hero-content { padding: 24px 24px; margin-bottom: 12px; } .hero-header { padding-bottom: 12px; margin-bottom: 16px; } .hero-title { font-size: 26px; } .hero-subtitle { font-size: 15px; } .features { margin-bottom: 16px; gap: 10px; } .feature-item { padding: 12px 8px; } .feature-icon { font-size: 24px; margin-bottom: 6px; } .feature-label { font-size: 11px; } .btn-primary { padding: 12px 36px; font-size: 15px; margin-bottom: 10px; } .btn-secondary { padding: 10px 24px; font-size: 14px; } .nav-buttons { gap: 10px; } .nav-btn { padding: 11px 14px; font-size: 13px; } }
    @media (prefers-reduced-motion: reduce) { * { animation: none !important; } }
  </style>
</head>

<body>
  <!-- desktop-only warning bar -->
  <div id="desktopBanner">
    This tour is designed for phones & tablets. Some features may not work on desktop.
    <a href="#!" onclick="document.getElementById('desktopBanner').style.display='none'; event.preventDefault();">Hide</a>
  </div>

  <!-- safety popup (ONLY ONE MODAL ‚Äî updated layout) -->
  <div class="popup-overlay" id="safetyPopup">
    <img class="popup-background" src="https://www.mnthen.com/images/gangster/mccord/gangster_mccord_3.jpg" alt="Historic background">
    <div class="popup-overlay-dark"></div>
    <div class="popup-content">
      <h2 class="popup-header">Safety Agreement</h2>
      <p class="popup-text">I will remain cautious, avoid restricted areas, and stay aware of my surroundings, including traffic and pedestrians. I acknowledge that accessing the Gangster Tour while driving is strictly prohibited.</p>
      <p class="popup-text">By agreeing to these terms, I confirm my commitment to using the app responsibly and prioritizing safety at all times.</p>

      <!-- Main action buttons -->
      <div class="popup-buttons">
        <button class="popup-btn" id="agreeBtn">‚úÖ Agree & Begin Tour</button>
        <button class="popup-btn return" id="returnBtn">üö™ Return to Index</button>
      </div>

      <!-- Secondary helper buttons -->
      <div class="popup-sub-buttons">
        <button class="popup-sub-btn" id="popupLocationsBtn">üìç Tour Locations</button>
        <button class="popup-sub-btn" id="popupHelpBtn">‚ÑπÔ∏è Help Guide</button>
      </div>
    </div>
  </div>

  <!-- hero / landing (hidden until popup dismissed ‚Äî but we keep it for fallback) -->
  <main class="hero" id="hero">
    <img class="hero-background" src="https://www.mnthen.com/images/gangster/mccord/gangster_mccord_3.jpg" alt="Historic gangster era street scene">
    <div class="hero-overlay">
      <div class="hero-content">
        <div class="hero-header">
          <h1 class="hero-title">Gangster Chronicles</h1>
          <p class="hero-subtitle">Shadows of a Bygone Era</p>
        </div>
        <div class="features">
          <div class="feature-item"><span class="feature-icon">üó∫Ô∏è</span><div class="feature-label">Digital Map</div></div>
          <div class="feature-item"><span class="feature-icon">üïµÔ∏è</span><div class="feature-label">Crime Scenes</div></div>
          <div class="feature-item"><span class="feature-icon">üéß</span><div class="feature-label">Audio Stories</div></div>
        </div>
        <a href="map.html" class="btn-primary">Begin the Tour</a>
        <a href="/index.html" class="btn-secondary">Back to Index</a>
      </div>
      <div class="nav-buttons">
        <button class="nav-btn" id="locationsBtn">Tour Locations</button>
        <button class="nav-btn" id="helpBtn">Help Guide</button>
      </div>
    </div>
  </main>

  <!-- tour locations modal -->
  <div class="modal-overlay" id="locationsModal">
    <div class="modal-content">
      <button class="modal-close" id="closeLocations">&times;</button>
      <h2 class="modal-header">Tour Locations</h2>
      <p class="modal-text">Explore these historic gangster locations on our tour:</p>
      <ul class="location-list">
        <li class="location-item"><div class="location-name">West St. Paul Barker-Karpis Hideout</div><div class="location-date">1932</div></li>
        <li class="location-item"><div class="location-name">O'Connor Layover Agreement</div><div class="location-date">St. Paul Police Headquarters</div></li>
        <li class="location-item"><div class="location-name">Death of Dan Hogan</div><div class="location-date">December 4, 1928</div></li>
        <li class="location-item"><div class="location-name">Shooting of Roy McCord</div><div class="location-date">January 13, 1934</div></li>
      </ul>
    </div>
  </div>

  <!-- help modal -->
  <div class="modal-overlay" id="helpModal">
    <div class="modal-content">
      <button class="modal-close" id="closeHelp">&times;</button>
      <h2 class="modal-header">Help Guide</h2>

      <div class="help-section">
        <h3 class="help-title">Getting Started</h3>
        <p class="help-text">Welcome to the Gangster Tour, your digital journey through Minnesota's prohibition-era criminal history. This guide will help you navigate through our interactive historical experience.</p>
        <div class="help-tip"><strong>Tip:</strong> Click "Begin the Tour" to access the interactive map with all gangster-related historical locations.</div>
      </div>

      <div class="help-section" id="desktopHelpSection" style="display:none;">
        <h3 class="help-title">Desktop user?</h3>
        <div class="help-tip">
          <strong>Please note:</strong> This tour is designed for <strong>phones and tablets</strong>. Location check-in, automatic map following and audio cues rely on mobile sensors and may not work on desktop browsers. For the full experience please use a mobile device.
        </div>
      </div>

      <div class="help-section">
        <h3 class="help-title">Using the Map</h3>
        <p class="help-text">Our interactive map displays historical locations related to Minnesota's gangster era. Each marker represents a significant location where gangster history unfolded.</p>
        <p class="help-text">To view all tour locations, click on "Tour Locations" in the navigation area.</p>
      </div>

      <div class="help-section">
        <h3 class="help-title">Exploring Historical Sites</h3>
        <p class="help-text">Click on any marker to view detailed information about that historical site, including a photo, description, and audio narration that brings the history to life.</p>
      </div>

      <div class="help-section">
        <h3 class="help-title">Safety Guidelines</h3>
        <p class="help-text">Please remember to follow all safety guidelines when visiting historical sites:</p>
        <ul class="help-list">
          <li>Stay aware of your surroundings</li>
          <li>Respect private property</li>
          <li>Never use the app while driving</li>
          <li>Follow all posted signs and regulations</li>
        </ul>
      </div>
    </div>
  </div>

  <script>
    const safetyPopup = document.getElementById('safetyPopup');
    const agreeBtn = document.getElementById('agreeBtn');
    const returnBtn = document.getElementById('returnBtn');
    const popupLocationsBtn = document.getElementById('popupLocationsBtn');
    const popupHelpBtn = document.getElementById('popupHelpBtn');

    const locationsBtn = document.getElementById('locationsBtn');
    const helpBtn = document.getElementById('helpBtn');
    const locationsModal = document.getElementById('locationsModal');
    const helpModal = document.getElementById('helpModal');
    const closeLocations = document.getElementById('closeLocations');
    const closeHelp = document.getElementById('closeHelp');

    /* Show safety popup once */
    if (!sessionStorage.getItem('safetyOk')) {
      safetyPopup.style.display = 'flex';
      document.getElementById('hero').style.display = 'none'; // hide hero until acknowledged
    }

    /* Main actions */
    agreeBtn.addEventListener('click', () => {
      sessionStorage.setItem('safetyOk', '1');
      safetyPopup.style.display = 'none';
      window.location.href = 'map.html';
    });

    returnBtn.addEventListener('click', () => {
      sessionStorage.setItem('safetyOk', '1'); // optional: mark as seen
      safetyPopup.style.display = 'none';
      window.location.href = '/index.html';
    });

    /* Popup sub-buttons open modals */
    popupLocationsBtn.addEventListener('click', () => openModal(locationsModal));
    popupHelpBtn.addEventListener('click', () => openModal(helpModal));

    /* Regular nav buttons (kept for fallback/accessibility) */
    locationsBtn.addEventListener('click', () => openModal(locationsModal));
    helpBtn.addEventListener('click', () => openModal(helpModal));

    /* Modal helpers */
    function openModal(modal) {
      modal.classList.add('active');
      document.body.style.overflow = 'hidden';
    }
    function closeModal(modal) {
      modal.classList.remove('active');
      document.body.style.overflow = '';
    }

    closeLocations.addEventListener('click', () => closeModal(locationsModal));
    closeHelp.addEventListener('click', () => closeModal(helpModal));
    locationsModal.addEventListener('click', e => { if (e.target === locationsModal) closeModal(locationsModal); });
    helpModal.addEventListener('click', e => { if (e.target === helpModal) closeModal(helpModal); });

    document.addEventListener('keydown', e => {
      if (e.key === 'Escape') {
        closeModal(locationsModal);
        closeModal(helpModal);
      }
    });

    /* Desktop detection */
    const isDesktop = !/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);
    if (isDesktop) {
      document.getElementById('desktopBanner').style.display = 'block';
      document.getElementById('desktopHelpSection').style.display = 'block';
    }
  </script>
</body>
</html>
