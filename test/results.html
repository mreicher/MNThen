<!DOCTYPE html>
<html lang="en">

<head>
  <!-- Google tag (gtag.js) -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-0M8KR45LDB"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag() { dataLayer.push(arguments); }
    gtag('js', new Date());
    gtag('config', 'G-0M8KR45LDB');
  </script>

  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Minnesota Then | Trivia</title>
  <link rel="shortcut icon" type="image/x-icon" href="https://www.mnthen.com/images/mnthenfav.ico">

  <!-- External Stylesheets -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css">
  
  <!-- Custom Styles -->
  <link rel="stylesheet" href="https://www.mnthen.com/css/dropdown.css">
  <link rel="stylesheet" href="https://www.mnthen.com/css/mnthen_trivia.css">
  <link rel="stylesheet" href="https://www.mnthen.com/css/mnthen_header.css">
  <link rel="stylesheet" href="https://www.mnthen.com/css/mnthen_footer.css">
  <link rel="stylesheet" href="https://www.mnthen.com/css/mnthen_article_fab.css"> 
  
  <style>
    /* Modern Color Scheme */
    :root {
      --primary-color: #0e3b7d;
      --secondary-color: #d4a017;
      --accent-color: #e63946;
      --light-bg: #f8f9fa;
      --dark-bg: #212529;
      --text-color: #333;
      --light-text: #f8f9fa;
      --card-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
    }
    
    body {
      color: var(--text-color);
      background-color: #f5f7fa;
    }
    
    /* Search Section */
    .search-section {
      padding: 2rem 0;
      background-color: white;
    }
    
    .search-container {
      max-width: 600px;
      margin: 0 auto;
      position: relative;
    }
    
    .search-input {
      width: 100%;
      padding: 0.75rem 1.5rem;
      border: 1px solid #ddd;
      border-radius: 30px;
      font-size: 1rem;
      box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05);
    }
    
    .search-input:focus {
      outline: none;
      border-color: var(--primary-color);
      box-shadow: 0 4px 12px rgba(14, 59, 125, 0.15);
    }
    
    .search-button {
      position: absolute;
      right: 15px;
      top: 50%;
      transform: translateY(-50%);
      background: none;
      border: none;
      color: var(--primary-color);
      cursor: pointer;
    }
    
    /* Game Cards */
    .game-card {
      border: none;
      border-radius: 12px;
      overflow: hidden;
      box-shadow: var(--card-shadow);
      background: white;
      height: 100%;
    }
    
    .game-card-img-container {
      position: relative;
      width: 100%;
      height: 300px;
      overflow: hidden;
    }
    
    .game-card-img {
      width: 100%;
      height: 100%;
      object-fit: cover;
    }
    
    .game-card-badge {
      position: absolute;
      top: 15px;
      right: 15px;
      background: var(--accent-color);
      color: white;
      padding: 0.25rem 0.75rem;
      border-radius: 20px;
      font-size: 0.75rem;
      font-weight: 600;
      z-index: 2;
    }
    
    .game-card-body {
      padding: 1.5rem;
    }
    
    .game-card-title {
      font-weight: 700;
      color: var(--primary-color);
      margin-bottom: 0.75rem;
      font-size: 1.25rem;
    }
    
    .game-card-text {
      color: #555;
      margin-bottom: 1.25rem;
      line-height: 1.5;
    }
    
    .btn-play {
      background-color: var(--primary-color);
      color: white;
      border: none;
      border-radius: 30px;
      padding: 0.5rem 1.5rem;
      font-weight: 600;
      width: 100%;
      transition: all 0.3s ease;
    }
    
    .btn-play:hover {
      background-color: #0a2e62;
      transform: translateY(-2px);
    }
    
    /* Section Styling */
    .section-title {
      font-weight: 700;
      color: var(--primary-color);
      margin-bottom: 1.5rem;
      font-size: 2rem;
    }
    
    .section-subtitle {
      color: #6c757d;
      max-width: 700px;
      margin: 0 auto 2rem;
    }
    
    /* Floating Action Buttons */
    .floating-buttons {
      position: fixed;
      bottom: 30px;
      right: 30px;
      z-index: 100;
      display: flex;
      flex-direction: column;
      gap: 15px;
    }
    
    .floating-btn {
      width: 50px;
      height: 50px;
      border-radius: 50%;
      background: var(--primary-color);
      color: white;
      display: flex;
      align-items: center;
      justify-content: center;
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
      border: none;
      cursor: pointer;
    }
    
    .floating-btn.secondary {
      background: var(--accent-color);
    }
    
    /* Responsive Adjustments */
    @media (max-width: 767.98px) {
      .game-card-img-container {
        height: 250px;
      }
    }
    
    @media (max-width: 575.98px) {
      .hero-section {
        padding: 4rem 0;
      }
      
      .game-card-img-container {
        height: 220px;
      }
    }
  </style>
</head>

<body>
  <!-- Header -->
  <header class="mnthen-header">
    <div class="mnthen-header-container">
      <a href="/" class="mnthen-logo">
        <img src="https://www.mnthen.com/images/logo.webp" alt="Minnesota Then Logo" class="mnthen-logo-img" /> 
        Minnesota Then
      </a>
      
      <button class="mnthen-mobile-menu" aria-label="Toggle menu">
        <span></span>
        <span></span>
        <span></span>
      </button>
      
      <nav class="mnthen-nav">
        <ul class="mnthen-nav-list">
          <li class="mnthen-nav-item">
            <button class="mnthen-dropdown-btn">
              About
              <svg class="mnthen-dropdown-arrow" viewBox="0 0 24 24" width="16" height="16">
                <path d="M7 10l5 5 5-5z"/>
              </svg>
            </button>
            <div class="mnthen-dropdown-content">
              <a href="https://mnthen.com/mission.html">Mission</a>
              <a href="https://mnthen.com/ourteam.html">Our Team</a>
              <a href="https://mnthen.com/contact">Contact</a>
            </div>
          </li>
          <li class="mnthen-nav-item">
            <button class="mnthen-dropdown-btn">
              Multimedia
              <svg class="mnthen-dropdown-arrow" viewBox="0 0 24 24" width="16" height="16">
                <path d="M7 10l5 5 5-5z"/>
              </svg>
            </button>
            <div class="mnthen-dropdown-content">
              <a href="https://mnthen.com/blog.html">Blog</a>
              <a href="https://www.youtube.com/@mnthen" target="_blank" rel="noreferrer">YouTube</a>
              <a href="https://mnthen.com/podcast.html">Podcast</a>
            </div>
          </li>
          <li class="mnthen-nav-item">
            <button class="mnthen-dropdown-btn">
              Resources
              <svg class="mnthen-dropdown-arrow" viewBox="0 0 24 24" width="16" height="16">
                <path d="M7 10l5 5 5-5z"/>
              </svg>
            </button>
            <div class="mnthen-dropdown-content">
              <a href="https://mnthen.com/faq.html">Help Center</a>
              <a href="https://mnthen.com/upcoming_events.html">Upcoming Events</a>
              <a href="https://mnthen.com/resources.html">Research Tools</a>
            </div>
          </li>
          <li class="mnthen-nav-item">
            <button class="mnthen-dropdown-btn">
              Interact
              <svg class="mnthen-dropdown-arrow" viewBox="0 0 24 24" width="16" height="16">
                <path d="M7 10l5 5 5-5z"/>
              </svg>
            </button>
            <div class="mnthen-dropdown-content">
              <a href="https://www.patreon.com/mnthen" target="_blank" rel="noreferrer">Join Our Patreon</a>
              <a href="https://mnthen.com/markers.html">Share Your Story</a>
              <a href="https://mnthen.com/trivia.html">Play Trivia Games</a> 
            </div>
          </li>
          <li class="mnthen-nav-item">
            <a href="https://mnthen.com/donate.html" class="mnthen-donate-btn">Donate</a>
          </li>
        </ul>
      </nav>
    </div>
  </header>

  <!-- Hero Section -->
  <section class="hero-section" aria-labelledby="hero-title" style="margin-top: 80px">
    <div class="hero-content">
      <h1 id="hero-title" class="hero-title">Minnesota History Trivia</h1>
      <p class="hero-subtitle">Test your knowledge of Minnesota's rich past.</p>
    </div>
  </section>

  <!-- Search Section -->
  <section class="search-section">
    <div class="container">
      <div class="search-container">
        <input type="text" id="searchInput" class="search-input" placeholder="Search trivia games..." aria-label="Search trivia games">
        <button id="searchButton" class="search-button" aria-label="Search">
          <i class="fas fa-search"></i>
        </button>
      </div>
    </div>
  </section>

  <main class="container py-5">
    <!-- Game Cards Section -->
    <section class="mb-5">
      <div class="row">
        <div class="col-12 text-center mb-4">
          <h2 class="section-title">History Trivia Games</h2>
          <p class="section-subtitle">Challenge yourself with our Minnesota history quizzes</p>
        </div>
      </div>
      <div class="row g-4" id="gamesContainer">
        <!-- Minnesota History -->
        <div class="col-md-4 game-item" data-title="minnesota history" data-tags="general state">
          <div class="game-card">
            <div class="game-card-img-container">
              <img src="https://www.mnthen.com/images/trivia/mn_game_intro.jpg" alt="Minnesota History" class="game-card-img" loading="lazy">
              <span class="game-card-badge">Popular</span>
            </div>
            <div class="game-card-body">
              <h3 class="game-card-title">Minnesota History</h3>
              <p class="game-card-text">Test your knowledge of Minnesota's rich history from its founding to modern times.</p>
              <a href="trivia_game.html" class="btn btn-play">Play Now</a>
            </div>
          </div>
        </div>
        
        <!-- St. Paul History -->
        <div class="col-md-4 game-item" data-title="st. paul history" data-tags="cities capital">
          <div class="game-card">
            <div class="game-card-img-container">
              <img src="https://www.mnthen.com/images/stp_1.jpg" alt="St. Paul History" class="game-card-img" loading="lazy">
            </div>
            <div class="game-card-body">
              <h3 class="game-card-title">St. Paul History</h3>
              <p class="game-card-text">Show that you know the history of Minnesota's capital city through the ages.</p>
              <a href="stp_trivia.html" class="btn btn-play">Play Now</a>
            </div>
          </div>
        </div>
        
        <!-- Gangster History -->
        <div class="col-md-4 game-item" data-title="gangster history" data-tags="crime 1930s">
          <div class="game-card">
            <div class="game-card-img-container">
              <img src="https://www.mnthen.com/images/gangster_1.jpg" alt="Gangster History" class="game-card-img" loading="lazy">
            </div>
            <div class="game-card-body">
              <h3 class="game-card-title">Gangster History</h3>
              <p class="game-card-text">Test your knowledge of Minnesota's notorious Depression Era gangsters.</p>
              <a href="trivia_gng.html" class="btn btn-play">Play Now</a>
            </div>
          </div>
        </div>
      </div>
    </section>
  </main>

  <!-- Floating Action Buttons -->
  <div class="floating-buttons">
    <button class="floating-btn" id="leaderboardBtn" aria-label="View leaderboard">
      <i class="fas fa-trophy"></i>
    </button>
    <button class="floating-btn secondary" id="helpBtn" aria-label="Get help">
      <i class="fas fa-question"></i>
    </button>
  </div>

  <!-- Leaderboard Modal -->
  <div class="modal fade" id="leaderboardModal" tabindex="-1" aria-labelledby="leaderboardModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered modal-lg">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="leaderboardModalLabel"><i class="fas fa-trophy me-2"></i> Trivia Leaderboard</h5>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <div class="modal-body">
          <ul class="nav nav-tabs mb-4" id="leaderboardTabs" role="tablist">
            <li class="nav-item" role="presentation">
              <button class="nav-link active" id="high-scores-tab" data-bs-toggle="tab" data-bs-target="#high-scores" type="button" role="tab" aria-controls="high-scores" aria-selected="true">High Scores</button>
            </li>
            <li class="nav-item" role="presentation">
              <button class="nav-link" id="all-time-tab" data-bs-toggle="tab" data-bs-target="#all-time" type="button" role="tab" aria-controls="all-time" aria-selected="false">All-Time Points</button>
            </li>
          </ul>
          <div class="tab-content" id="leaderboardTabContent">
            <div class="tab-pane fade show active" id="high-scores" role="tabpanel" aria-labelledby="high-scores-tab">
              <div class="text-center py-4" id="highScoresLoading">
                <div class="spinner-border text-primary" role="status">
                  <span class="visually-hidden">Loading...</span>
                </div>
                <p>Loading high scores...</p>
              </div>
              <div id="highScoresList"></div>
            </div>
            <div class="tab-pane fade" id="all-time" role="tabpanel" aria-labelledby="all-time-tab">
              <div class="text-center py-4" id="allTimeLoading">
                <div class="spinner-border text-primary" role="status">
                  <span class="visually-hidden">Loading...</span>
                </div>
                <p>Loading all-time points...</p>
              </div>
              <div id="allTimeList"></div>
            </div>
          </div>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-outline-primary rounded-pill" data-bs-dismiss="modal">Close</button>
        </div>
      </div>
    </div>
  </div>

  <!-- Help Modal -->
  <div class="modal fade" id="helpModal" tabindex="-1" aria-labelledby="helpModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="helpModalLabel"><i class="fas fa-question-circle me-2"></i> Trivia Help Guide</h5>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <div class="modal-body">
          <div class="accordion" id="helpAccordion">
            <div class="accordion-item">
              <h2 class="accordion-header" id="headingOne">
                <button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapseOne" aria-expanded="true" aria-controls="collapseOne">
                  How do I play the trivia games?
                </button>
              </h2>
              <div id="collapseOne" class="accordion-collapse collapse show" aria-labelledby="headingOne" data-bs-parent="#helpAccordion">
                <div class="accordion-body">
                  <p>Simply select a trivia game from our collection and start answering the multiple-choice questions. Each game consists of 10 questions about Minnesota history.</p>
                </div>
              </div>
            </div>
            <div class="accordion-item">
              <h2 class="accordion-header" id="headingTwo">
                <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseTwo" aria-expanded="false" aria-controls="collapseTwo">
                  How are scores calculated?
                </button>
              </h2>
              <div id="collapseTwo" class="accordion-collapse collapse" aria-labelledby="headingTwo" data-bs-parent="#helpAccordion">
                <div class="accordion-body">
                  <p>Your score is based on the number of correct answers. Each correct answer gives you 100 points. Your highest score for each game is saved to the leaderboard.</p>
                </div>
              </div>
            </div>
            <div class="accordion-item">
              <h2 class="accordion-header" id="headingThree">
                <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseThree" aria-expanded="false" aria-controls="collapseThree">
                  Can I suggest new trivia topics?
                </button>
              </h2>
              <div id="collapseThree" class="accordion-collapse collapse" aria-labelledby="headingThree" data-bs-parent="#helpAccordion">
                <div class="accordion-body">
                  <p>Yes! We welcome suggestions for new trivia topics. You can submit your ideas through our <a href="/contact">contact form</a>.</p>
                </div>
              </div>
            </div>
          </div>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-outline-primary rounded-pill" data-bs-dismiss="modal">Close</button>
        </div>
      </div>
    </div>
  </div>

  <!-- Footer -->
  <footer class="footer bg-primary py-5"> 
    <div class="container">
      <div class="row g-4 mb-4">
          <div class="col-lg-3 col-md-6 pt-3">
              <h3 class="footer-brand mb-3">
                  <span class="text-white">Minnesota</span>
                  <span class="text-navy">Then</span>
              </h3>
          </div>
          <div class="col-lg-2 col-md-6">
              <h5 class="text-white mb-3">Who We Are</h5>
              <ul class="list-unstyled footer-links">
                  <li><a href="/about.html">About Us</a></li>
                  <li><a href="/privacy_terms.html">ToS & Privacy</a></li>
              </ul>
          </div>
          <div class="col-lg-2 col-md-6">
              <h5 class="text-white mb-3">What We Do</h5>
              <ul class="list-unstyled footer-links">
                  <li><a href="https://mnthen.com/blog.html">Blog</a></li>
                  <li><a href="https://www.mnthen.com/article/thesis_project.pdf">Thesis Project</a></li>
                  <li><a href="/upcoming_events.html">Upcoming Events</a></li>
              </ul>
          </div>
          <div class="col-lg-2 col-md-6">
              <h5 class="text-white mb-3">Resources</h5>
              <ul class="list-unstyled footer-links">
                  <a href="https://github.com/mreicher/MNThen/" target="_blank" rel="noopener noreferrer">GitHub</a>
                  <li><a href="/faq.html">Help Center</a></li>
                  <li><a href="/resources.html">Research Tools</a></li>
              </ul>
          </div>
          <div class="col-lg-3 col-md-6 pt-3">
              <p class="tagline">Every Step Tells a Story</p>
          </div>
      </div>
      <hr class="footer-divider">
      <div class="row align-items-center">
        <div class="col-md-4 text-center text-md-start">
          <small style="color: white;">&copy; 2025 Minnesota Then. All rights reserved</small>
        </div>
             <div class="col-md-8">
                 <div class="social-icons text-center text-md-end">
                     <span class="me-2" style="color: white;">Connect:</span>
                     <a href="https://www.facebook.com/profile.php?id=100090355652945" target="_blank" class="text-white" rel="noreferrer">
                         <i class="fab fa-facebook-f"></i>
                     </a>
                     <span class="mx-2 text-white">|</span>
                     <a href="https://bsky.app/profile/mnthen.bsky.social" target="_blank" class="text-white" rel="noreferrer">
                         <i class="fa-brands fa-bluesky"></i>
                     </a>
                     <span class="mx-2 text-white">|</span>
                     <a href="https://www.linkedin.com/company/minnesota-then" target="_blank" class="text-white" rel="noreferrer">
                         <i class="fab fa-linkedin-in"></i>
                     </a>
                 </div>
             </div>
      </div>
    </div>
  </footer>

  <!-- JavaScript Libraries -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
  <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-app.js"></script>
  <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-database.js"></script>

  <script>
    document.addEventListener('DOMContentLoaded', function() {
      // Initialize navigation
      initializeNavigation();
      
      // Initialize modals
      initializeModals();
      
      // Initialize leaderboard
      initializeLeaderboard();
      
      // Initialize search
      initializeSearch();
    });

    function initializeNavigation() {
      const mobileMenu = document.querySelector('.mnthen-mobile-menu');
      const nav = document.querySelector('.mnthen-nav');
      const dropdownBtns = document.querySelectorAll('.mnthen-dropdown-btn');

      // Toggle mobile menu and nav
      mobileMenu?.addEventListener('click', function(e) {
        e.stopPropagation();
        this.classList.toggle('active');
        nav.classList.toggle('active');
      });

      // Handle dropdown toggling
      dropdownBtns.forEach(btn => {
        btn.addEventListener('click', function(e) {
          e.stopPropagation();
          e.preventDefault();
          const dropdownContent = this.nextElementSibling;

          // Close all other dropdowns
          document.querySelectorAll('.mnthen-dropdown-content').forEach(dropdown => {
            if (dropdown !== dropdownContent) {
              dropdown.classList.remove('active');
            }
          });

          // Toggle the clicked dropdown
          dropdownContent.classList.toggle('active');
        });
      });

      // Close dropdowns and mobile menu when clicking outside
      document.addEventListener('click', function(e) {
        if (!e.target.closest('.mnthen-dropdown-content') && !e.target.closest('.mnthen-dropdown-btn')) {
          document.querySelectorAll('.mnthen-dropdown-content').forEach(dropdown => {
            dropdown.classList.remove('active');
          });
          if (nav) nav.classList.remove('active');
          if (mobileMenu) mobileMenu.classList.remove('active');
        }
      });

      // Close dropdowns and mobile menu on window resize (desktop view)
      window.addEventListener('resize', function() {
        if (window.innerWidth > 768) {
          if (nav) nav.classList.remove('active');
          if (mobileMenu) mobileMenu.classList.remove('active');
          document.querySelectorAll('.mnthen-dropdown-content').forEach(dropdown => {
            dropdown.classList.remove('active');
          });
        }
      });
    }

    function initializeModals() {
      const leaderboardBtn = document.getElementById('leaderboardBtn');
      const helpBtn = document.getElementById('helpBtn');
      const leaderboardModal = new bootstrap.Modal(document.getElementById('leaderboardModal'));
      const helpModal = new bootstrap.Modal(document.getElementById('helpModal'));

      leaderboardBtn.addEventListener('click', () => leaderboardModal.show());
      helpBtn.addEventListener('click', () => helpModal.show());
    }

    function initializeLeaderboard() {
      // Firebase configuration
      const firebaseConfig = {
        apiKey: "AIzaSyBDUAF3qJGhLYQJPHyWwY0JzonN5l8ERzE",
        authDomain: "mnthen-3151d.firebaseapp.com",
        projectId: "mnthen-3151d",
        storageBucket: "mnthen-3151d.appspot.com",
        messagingSenderId: "416231360428",
        appId: "1:416231360428:web:36f69cc231be2d84a8dc09",
        databaseURL: "https://mnthen-3151d-default-rtdb.firebaseio.com"
      };

      // Initialize Firebase
      firebase.initializeApp(firebaseConfig);
      const database = firebase.database();

      // Load leaderboard data when modal is shown
      document.getElementById('leaderboardModal').addEventListener('shown.bs.modal', function() {
        loadLeaderboardData('highScore', 'highScoresList', 'highScoresLoading');
        loadLeaderboardData('allTimePoints', 'allTimeList', 'allTimeLoading');
      });

      function loadLeaderboardData(orderBy, listId, loadingId, limit = 25) {
        const listElement = document.getElementById(listId);
        const loadingElement = document.getElementById(loadingId);
        
        database.ref('users')
          .orderByChild(orderBy)
          .limitToLast(limit)
          .once('value')
          .then((snapshot) => {
            loadingElement.style.display = 'none';
            
            if (!snapshot.exists()) {
              listElement.innerHTML = '<div class="text-center py-4 text-muted">No players found yet. Be the first to play!</div>';
              return;
            }

            const users = [];
            snapshot.forEach((childSnapshot) => {
              const user = childSnapshot.val();
              if (user[orderBy] > 0) { // Only show users with scores > 0
                users.push(user);
              }
            });

            if (users.length === 0) {
              listElement.innerHTML = '<div class="text-center py-4 text-muted">No scores recorded yet. Start playing to see your name here!</div>';
              return;
            }

            // Sort in descending order
            users.sort((a, b) => (b[orderBy] || 0) - (a[orderBy] || 0));

            listElement.innerHTML = '';
            users.forEach((user, index) => {
              const rank = index + 1;
              const scoreValue = user[orderBy] || 0;
              const item = createLeaderboardItem(user, rank, scoreValue, orderBy);
              listElement.appendChild(item);
            });
          })
          .catch((error) => {
            console.error('Error fetching leaderboard:', error);
            loadingElement.style.display = 'none';
            listElement.innerHTML = '<div class="text-center py-4 text-danger">Error loading leaderboard. Please try again later.</div>';
          });
      }

      function createLeaderboardItem(user, rank, scoreValue, scoreType) {
        const item = document.createElement('div');
        item.className = 'd-flex align-items-center p-3 border-bottom';
        if (rank <= 3) item.classList.add('bg-light');

        const firstInitial = user.firstName ? user.firstName.charAt(0).toUpperCase() : 'U';
        const lastName = user.lastName || 'Unknown';
        
        let statsText = '';
        if (scoreType === 'highScore') {
          statsText = `Games: ${user.gamesPlayed || 0}`;
        } else if (scoreType === 'allTimePoints') {
          statsText = `High Score: ${user.highScore || 0}`;
        }

        const scoreDisplay = scoreType === 'gamesPlayed' ? `${scoreValue} games` : `${scoreValue} pts`;

        item.innerHTML = `
          <div class="me-3 fw-bold text-primary">${rank}</div>
          <div class="flex-grow-1">
            <div class="fw-bold">${firstInitial}. ${lastName}</div>
            <small class="text-muted">${statsText}</small>
          </div>
          <div class="fw-bold text-primary">${scoreDisplay}</div>
        `;

        return item;
      }
    }

    function initializeSearch() {
      const searchInput = document.getElementById('searchInput');
      const searchButton = document.getElementById('searchButton');
      const gameItems = document.querySelectorAll('.game-item');
      
      if (searchInput && searchButton) {
        searchButton.addEventListener('click', performSearch);
        searchInput.addEventListener('keyup', performSearch);
      }
      
      function performSearch() {
        const searchTerm = searchInput.value.toLowerCase();
        
        gameItems.forEach(item => {
          const title = item.getAttribute('data-title').toLowerCase();
          const tags = item.getAttribute('data-tags').toLowerCase();
          
          if (title.includes(searchTerm) || tags.includes(searchTerm)) {
            item.style.display = 'block';
          } else {
            item.style.display = 'none';
          }
        });
      }
    }
  </script>
</body>
</html>
