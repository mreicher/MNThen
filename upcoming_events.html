<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Minnesota Then | Upcoming Events</title>
      <link rel="shortcut icon" type="image/jpg" href="../images/mnthenfav.ico">
  
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">

        <link rel="stylesheet" href="https://www.mnthen.com/css/mnthen_events.css">
        <link rel="stylesheet" href="https://www.mnthen.com/css/mnthen_footer.css">
        <link rel="stylesheet" href="https://www.mnthen.com/css/mnthen_header.css">
        <link rel="stylesheet" href="https://www.mnthen.com/css/dropdown.css">

<!-- Font Awesome -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css">

<!-- FullCalendar CSS -->
<link href='https://cdn.jsdelivr.net/npm/fullcalendar@5.11.3/main.min.css' rel='stylesheet'>

<!-- Bootstrap CSS -->
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">

<!-- jQuery (needed for Bootstrap's JavaScript plugins) -->
<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>

<!-- Bootstrap JS Bundle (includes Popper) -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>

<!-- FullCalendar JS -->
<script src='https://cdn.jsdelivr.net/npm/fullcalendar@5.11.3/main.min.js'></script>
             
</head>
<body>
<!-- Header -->
<header class="mnthen-header">
  <div class="mnthen-header-container">
    <a href="/" class="mnthen-logo">Minnesota Then</a>
    
    <button class="mnthen-mobile-menu" aria-label="Toggle menu">
      <span></span>
      <span></span>
      <span></span>
    </button>
    
    <nav class="mnthen-nav">
      <ul class="mnthen-nav-list">
        <li class="mnthen-nav-item">
          <button class="mnthen-dropdown-btn">
            About
            <svg class="mnthen-dropdown-arrow" viewBox="0 0 24 24" width="16" height="16">
              <path d="M7 10l5 5 5-5z"/>
            </svg>
          </button>
          <div class="mnthen-dropdown-content">
            <a href="https://mnthen.com/mission.html">Our Mission</a>
            <a href="https://mnthen.com/blog/creator/matt_reicher.html">Staff</a>
            <a href="https://mnthen.com/contact">Contact</a>
          </div>
        </li>
        <li class="mnthen-nav-item">
          <button class="mnthen-dropdown-btn">
            Multimedia
            <svg class="mnthen-dropdown-arrow" viewBox="0 0 24 24" width="16" height="16">
              <path d="M7 10l5 5 5-5z"/>
            </svg>
          </button>
          <div class="mnthen-dropdown-content">
            <a href="https://mnthen.com/blog.html">Blog</a>
            <a href="/youtube">YouTube</a>
            <a href="https://mnthen.com/podcast.html">Podcast</a>
          </div>
        </li>
        <li class="mnthen-nav-item">
          <button class="mnthen-dropdown-btn">
            Resources
            <svg class="mnthen-dropdown-arrow" viewBox="0 0 24 24" width="16" height="16">
              <path d="M7 10l5 5 5-5z"/>
            </svg>
          </button>
          <div class="mnthen-dropdown-content">
            <a href="https://mnthen.com/faq.html">Help Center</a>
            <a href="https://mnthen.com/upcoming_events.html">Upcoming Events</a>
            <a href="https://mnthen.com/resources.html">Research Tools</a>
          </div>
        </li>
        <li class="mnthen-nav-item">
          <button class="mnthen-dropdown-btn">
            Contribute
            <svg class="mnthen-dropdown-arrow" viewBox="0 0 24 24" width="16" height="16">
              <path d="M7 10l5 5 5-5z"/>
            </svg>
          </button>
          <div class="mnthen-dropdown-content">
            <a href="https://mnthen.com/donate.html">Donate</a>
            <a href="#">Join Our Patreon</a>
            <a href="https://mnthen.com/markers.html">Community Markers</a>
          </div>
        </li>
      </ul>
    </nav>
  </div>
</header>

<div class="container-fluid p-0">
    <div class="events-container">
        <!-- Header Section -->
        <div class="header-section" style="margin-top: 75px">
            <h1>Upcoming Events</h1>
            <p class="subtitle">Join us for upcoming reenactments, lectures, get togethers & more.</p>
            <div class="decorative-line"></div>
        </div>
        
        <!-- Calendar Section -->
        <div class="calendar-section">
            <div id="calendar"></div>
        </div>

        <!-- Event Modal -->
        <div class="modal fade" id="eventModal" tabindex="-1" aria-labelledby="eventModalLabel" aria-hidden="true">
            <div class="modal-dialog modal-dialog-centered modal-lg">
                <div class="modal-content">
                    <div class="modal-header">
                        <h5 class="modal-title" id="eventModalLabel">Event Details</h5>
                        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                    </div>
                    <div class="modal-body">
                        <div class="row">
                            <div class="col-md-8">
                                <h4 id="eventTitle"></h4>
                                <p><strong>Location: </strong><span id="eventLocation"></span></p>
                                <p><strong>Address: </strong><span id="eventAddress"></span></p>
                                <p><strong>Time: </strong><span id="eventTime"></span></p>
                                <p><strong>Cost: </strong><span id="eventCost"></span></p>
                                <p><strong>Description: </strong><span id="eventDescription"></span></p>
                            </div>
                        </div>
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

   <div class="container-fluid p-0">
<!-- Footer -->
<footer class="footer bg-primary py-5"> 
  <div class="container">
      <div class="row g-4 mb-4">
          <div class="col-lg-3 col-md-6 pt-3">
              <h3 class="footer-brand mb-3">
                  <span class="text-white">Minnesota</span>
                  <span class="text-navy">Then</span>
              </h3>
          </div>
          <div class="col-lg-2 col-md-6">
              <h5 class="text-white mb-3">Who We Are</h5>
              <ul class="list-unstyled footer-links">
                  <li><a href="/about.html">About Us</a></li>
                  <li><a href="/privacy_terms.html">ToS & Privacy</a></li>
              </ul>
          </div>
          <div class="col-lg-2 col-md-6">
              <h5 class="text-white mb-3">What We Do</h5>
              <ul class="list-unstyled footer-links">
                  <li><a href="https://mnthen.com/blog.html">Blog</a></li>
                  <li><a href="https://www.mnthen.com/article/thesis_project.pdf">Thesis Project</a></li>
                  <li><a href="/upcoming_events.html">Upcoming Events</a></li>
              </ul>
          </div>
          <div class="col-lg-2 col-md-6">
              <h5 class="text-white mb-3">Resources</h5>
              <ul class="list-unstyled footer-links">
                  <li><a href="https://www.mnthen.com/works.html">Learn the App</a></li>
                  <li><a href="/faq.html">Help Center</a></li>
                  <li><a href="/resources.html">Research Tools</a></li>
              </ul>
          </div>
          <div class="col-lg-3 col-md-6 pt-3">
              <p class="tagline">Every Step Tells a Story</p>
          </div>
      </div>
      <hr class="footer-divider">
      <div class="row align-items-center">
<div class="col-md-4 text-center text-md-start">
    <small style="color: white;">&copy; 2025 Minnesota Then. All rights reserved</small>
</div>
           <div class="col-md-8">
               <div class="social-icons text-center text-md-end">
                   <span class="me-2" style="color: white;">Connect:</span>
                   <a href="https://www.facebook.com/profile.php?id=100090355652945" target="_blank" class="text-white">
                       <i class="fab fa-facebook-f"></i>
                   </a>
                   <span class="mx-2 text-white">|</span>
                   <a href="https://bsky.app/profile/mnthen.bsky.social" target="_blank" class="text-white">
                       <i class="fa-brands fa-bluesky"></i>
                   </a>
                   <span class="mx-2 text-white">|</span>
                   <a href="https://www.linkedin.com/company/minnesota-then" target="_blank" class="text-white">
                       <i class="fab fa-linkedin-in"></i>
                   </a>
               </div>
           </div>
      </div>
  </div>
</footer>
   </div>

<script>
document.addEventListener('DOMContentLoaded', function() {
  // Load header and footer first
  Promise.all([
    fetch('/section/header.html').then(response => response.text()),
    fetch('/section/footer.html').then(response => response.text())
  ])
  .then(([headerData, footerData]) => {
    const headerPlaceholder = document.getElementById('header-placeholder');
    const footerPlaceholder = document.getElementById('footer-placeholder');
    
    if (headerPlaceholder) headerPlaceholder.innerHTML = headerData;
    if (footerPlaceholder) footerPlaceholder.innerHTML = footerData;

    // Initialize after DOM update
    setTimeout(initializeNavigation, 0);
  })
  .catch(error => {
    console.error('Error loading content:', error);
    const headerPlaceholder = document.getElementById('header-placeholder');
    if (headerPlaceholder) {
      headerPlaceholder.innerHTML = '<p>Error loading content. Please refresh the page.</p>';
    }
  });

  // Initialize FullCalendar if calendar element exists
  var calendarEl = document.getElementById('calendar');
  if (calendarEl) {
    var calendar = new FullCalendar.Calendar(calendarEl, {
      initialView: 'dayGridMonth',
      events: [
        {
          title: 'Event 1',
          start: '2013-03-15',
          location: 'Event Location 1',
          address: '123 Main St',
          city: 'Anytown',
          zip: '12345',
          time: '6:00 PM',
          cost: '$10',
          description: 'This is the description for Event 1.'
        },
        {
          title: 'Event 2',
          start: '2013-06-05',
          location: 'Event Location 2',
          address: '456 Elm St',
          city: 'Othertown',
          zip: '54321',
          time: '7:30 PM',
          cost: 'Free',
          description: 'This is the description for Event 2.'
        },
        {
          title: 'Event 3',
          start: '2013-06-15',
          end: '2013-06-17',
          location: 'Event Location 3',
          address: '789 Oak St',
          city: 'Anothertown',
          zip: '67890',
          time: '10:00 AM - 4:00 PM',
          cost: '$20',
          description: 'This is the description for Event 3, a multi-day event.'
        }
      ],
      eventClick: function(info) {
        var eventModal = new bootstrap.Modal(document.getElementById('eventModal'));
        var modalEl = document.getElementById('eventModal');

        modalEl.querySelector('#eventTitle').textContent = info.event.title;
        modalEl.querySelector('#eventLocation').textContent = info.event.extendedProps.location || 'Location not available.';
        modalEl.querySelector('#eventAddress').innerHTML = info.event.extendedProps.address + '<br>' + 
          info.event.extendedProps.city + ', ' + info.event.extendedProps.zip + 
          '<br><a href="https://www.google.com/maps/search/?api=1&query=' + 
          encodeURI(info.event.extendedProps.address + ', ' + info.event.extendedProps.city + ', ' + 
          info.event.extendedProps.zip) + '" target="_blank">View on Google Maps</a>';
        modalEl.querySelector('#eventTime').textContent = info.event.extendedProps.time || 'Time not available.';
        modalEl.querySelector('#eventCost').textContent = info.event.extendedProps.cost || 'Cost not available.';
        modalEl.querySelector('#eventDescription').textContent = info.event.extendedProps.description || 'No description available.';

        eventModal.show();
      },
      headerToolbar: {
        left: 'today prev',
        center: 'title',
        right: 'next'
      },
      views: {
        dayGridMonth: {
          titleFormat: { year: '2-digit', month: 'short' }
        }
      }
    });
    calendar.render();
  }

  // Initialize all modals
  var modals = document.querySelectorAll('.modal');
  modals.forEach(function(modal) {
    new bootstrap.Modal(modal);
  });

  // Optional: Handle modal close events
  var eventModal = document.getElementById('eventModal');
  if (eventModal) {
    eventModal.addEventListener('hidden.bs.modal', function() {
      // Any cleanup needed after modal is hidden
    });
  }
});

function initializeNavigation() {
  const mobileMenuBtn = document.querySelector('.mnthen-mobile-menu');
  const mainNav = document.querySelector('.mnthen-nav');
  const dropdownBtns = document.querySelectorAll('.mnthen-dropdown-btn');

  if (mobileMenuBtn && mainNav) {
    mobileMenuBtn.addEventListener('click', function(e) {
      e.stopPropagation();
      this.classList.toggle('active');
      mainNav.classList.toggle('active');
    });

    dropdownBtns.forEach(btn => {
      ['click', 'touchstart'].forEach(eventType => {
        btn.addEventListener(eventType, function(e) {
          e.preventDefault();
          e.stopPropagation();
          
          dropdownBtns.forEach(otherBtn => {
            if (otherBtn !== btn) {
              otherBtn.classList.remove('active');
              otherBtn.nextElementSibling?.classList.remove('active');
            }
          });
          
          this.classList.toggle('active');
          const dropdownContent = this.nextElementSibling;
          if (dropdownContent) {
            dropdownContent.classList.toggle('active');
          }
        });
      });
    });

    ['click', 'touchstart'].forEach(eventType => {
      document.addEventListener(eventType, function(e) {
        const isClickInsideNav = e.target.closest('.mnthen-nav');
        const isClickInsideMenu = e.target.closest('.mnthen-mobile-menu');
        
        if (!isClickInsideNav && !isClickInsideMenu) {
          mainNav.classList.remove('active');
          mobileMenuBtn.classList.remove('active');
          
          dropdownBtns.forEach(btn => {
            btn.classList.remove('active');
            btn.nextElementSibling?.classList.remove('active');
          });
        }
      });
    });

    window.addEventListener('resize', function() {
      if (window.innerWidth > 768) {
        mainNav.classList.remove('active');
        mobileMenuBtn.classList.remove('active');
        
        dropdownBtns.forEach(btn => {
          btn.classList.remove('active');
          btn.nextElementSibling?.classList.remove('active');
        });
      }
    });
  }
}
</script>

</body>
</html>
