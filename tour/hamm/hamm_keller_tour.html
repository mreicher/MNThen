<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Minnesota Then History Tours</title>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.0/dist/css/bootstrap.min.css">
  <link rel="stylesheet" href="tour_styles.css">
<style>
  .location-container p {
    font-size: 19px;
  }
  
  /* Center the location details and audio box */
  .location-details,
  .audio-box {
    text-align: center;
  }
  
  /* Center the additional resources buttons */
  .additional-resources .col-md-4 {
    display: flex;
    justify-content: center;
  }
</style>

</head>
<body>
  <style>
    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }

    body {
      font-family: Arial, sans-serif;
      background-color: #f5f5f5;
    }

    .hero-image {
      width: 100%;
      height: auto;
    }

    .content-section {
      background-color: #f0f0f0;
      text-align: center;
      padding: 40px 0;
    }

    .content-container {
      max-width: 90%;
      margin: 0 auto;
      background-color: #fff;
      padding: 20px;
      border-radius: 4px;
      box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
    }

    .title {
      font-size: 24px;
      font-weight: bold;
      margin-bottom: 10px;
    }

    .author-container {
      display: flex;
      flex-direction: column;
      align-items: center;
      margin-bottom: 5px;
      margin-top: 15px;
    }

    .author-label {
      font-size: 16px;
      color: #000;
      margin-bottom: 5px;
    }

    .author-name {
      font-size: 18px;
      color: #00f;
    }

    .summary {
      font-size: 18px;
      margin-bottom: 25px;
      margin-top: 10px;
      text-align: left;
    }

    }

    .audio-player {
      margin-bottom: 15px;
    }

    .white-box {
      background-color: #fff;
      padding: 20px;
    }

    @media (min-width: 768px) {
      .content-container {
        max-width: 800px;
      }

      .title {
        font-size: 32px;
        margin-bottom: 15px;
      }

      .author-label {
        font-size: 16px;
        margin-bottom: 10px;
        margin-top: 15px;
      }

      .author-name {
        font-size: 18px;
        margin-top: 5px;
      }

      .white-box {
        padding: 40px;
      }
    }
  </style>

  <img class="hero-image" src="https://img.particlenews.com/image.php?type=thumbnail_580x000&url=3I2Gq1_0kxThZgH00" alt="Hero Image">

  <section class="content-section">
    <div class="content-container">
      <h1 class="title">Pioneer Brewer Andrew F. Keller (1819 - 1873)</h1>
      <div class="summary">
        <p>Andrew F. Keller, a pioneer brewer in Saint Paul, had an intriguing and somewhat mysterious life, leaving a legacy in the local brewing industry. Despite uncertainties about the acutal significance of his role, his establishment eventually became home to one of the nation's most recognized beer brands..</p>
      </div>
      <div class="audio-player">
        <audio controls>
          <source src="/audio/andrew_keller.mp3" type="audio/mpeg">
          Your browser does not support the audio element.
        </audio>
      </div>
      <div class="author-container">
        <p class="author-label">Author:</p>
        <p class="author-name">Matt Reicher</p>
      </div>
    </div>
  </section>

  <section class="white-box">
    <div class="row justify-content-center">
      <div class="col-12 col-md-8 text-center">
        <p class="text-secondary">Latitude:</p>
        <h4 class="text-primary mb-4"><span id="latitude"></span></h4>
        <p class="text-secondary">Longitude:</p>
        <h4 class="text-primary mb-4"><span id="longitude"></span></h4>
        <p class="text-secondary">Distance from the location:</p>
        <h4 class="text-primary mb-4"><span id="distance"></span></h4>
      </div>
      <div class="container mt-5 text-center">
        <a href="/tour_page.html" class="btn btn-primary btn-lg">Return to the Available Tours</a>
      </div>
    </div>
  </section>

  <section class="additional-resources bg-light py-5">
<div class="container">
  <h2 class="text-center mb-5">Additional Resources</h2>
  <div class="row">
    <div class="col-md-4 mb-3">
      <a href="#" class="btn btn-outline-secondary btn-block btn-lg">Resource 1</a>
    </div>
    <div class="col-md-4 mb-3">
      <a href="#" class="btn btn-outline-secondary btn-block btn-lg">Resource 2</a>
    </div>
    <div class="col-md-4 mb-3">
      <a href="#" class="btn btn-outline-secondary btn-block btn-lg">Resource 3</a>
    </div>
  </div>
</div>
  </section>
	
 <script>
 
 function getDistanceFromLatLonInFeet(lat1, lon1, lat2, lon2) {
  const R = 20925524.9; // Radius of the Earth in feet
  const dLat = deg2rad(lat2 - lat1);
  const dLon = deg2rad(lon2 - lon1);
  const a =
    Math.sin(dLat / 2) * Math.sin(dLat / 2) +
    Math.cos(deg2rad(lat1)) * Math.cos(deg2rad(lat2)) *
    Math.sin(dLon / 2) * Math.sin(dLon / 2);
  const c = 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1 - a));
  const d = R * c;
  return d.toFixed(2);
}

function deg2rad(deg) {
  return deg * (Math.PI / 180);
}

function updateDistance() {
  const latitudeSpan = document.getElementById("latitude");
  const longitudeSpan = document.getElementById("longitude");
  const distanceSpan = document.getElementById("distance");

  // Get user's current location
  navigator.geolocation.getCurrentPosition(function (position) {
    const userLatitude = position.coords.latitude;
    const userLongitude = position.coords.longitude;

    // Update latitude and longitude on the page
    latitudeSpan.textContent = userLatitude.toFixed(6);
    longitudeSpan.textContent = userLongitude.toFixed(6);

    // Calculate and update distance from the site
    const siteLatitude = 44.96298;
    const siteLongitude = -93.07270;
    const distanceInFeet = getDistanceFromLatLonInFeet(
      userLatitude,
      userLongitude,
      siteLatitude,
      siteLongitude
    );
    distanceSpan.textContent = distanceInFeet + " ft";

    // Check if the user is within the desired range (e.g., within 1000 feet)
    const rangeThreshold = 14; // Specify the range threshold in feet
    if (distanceInFeet > rangeThreshold) {
      // Page change logic here
      window.location.href = "/index.html"; // Replace "/new_page.html" with the desired URL of the new page
    }
  });
}

// Initialize the distance on page load
updateDistance();

    function getDistanceFromLatLonInFeet(lat1, lon1, lat2, lon2) {
      const R = 20925524.9; // Radius of the Earth in feet
      const dLat = deg2rad(lat2 - lat1);
      const dLon = deg2rad(lon2 - lon1);
      const a =
        Math.sin(dLat / 2) * Math.sin(dLat / 2) +
        Math.cos(deg2rad(lat1)) * Math.cos(deg2rad(lat2)) *
        Math.sin(dLon / 2) * Math.sin(dLon / 2);
      const c = 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1 - a));
      const d = R * c;
      return d.toFixed(2);
    }

    function deg2rad(deg) {
      return deg * (Math.PI / 180);
    }

    function updateDistance() {
      const latitudeSpan = document.getElementById("latitude");
      const longitudeSpan = document.getElementById("longitude");
      const distanceSpan = document.getElementById("distance");

      // Get user's current location
      navigator.geolocation.getCurrentPosition(function(position) {
        const userLatitude = position.coords.latitude;
        const userLongitude = position.coords.longitude;

        // Update latitude and longitude on the page
        latitudeSpan.textContent = userLatitude.toFixed(6);
        longitudeSpan.textContent = userLongitude.toFixed(6);

        // Calculate and update distance from the site
        const siteLatitude = 44.96298;
        const siteLongitude = -93.07270;
        const distanceInFeet = getDistanceFromLatLonInFeet(userLatitude, userLongitude, siteLatitude, siteLongitude);
        distanceSpan.textContent = distanceInFeet + " ft";
      });
    }

    // Initialize the distance on page load
    updateDistance();
  </script>

  <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.0/dist/js/bootstrap.min.js"></script>
</body>
</html>
