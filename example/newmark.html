<!DOCTYPE html>
<html lang="en">
<head>

        <!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-0M8KR45LDB"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-0M8KR45LDB');
</script>
    
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Minnesota Then | Trivia</title>
     <link rel="shortcut icon" type="image/jpg" href="/images/mnthenfav.ico" />
  <link rel="shortcut icon" type="image/x-icon" href="https://www.mnthen.com/images/mnthenfav.ico">

  <!-- Fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">

  <!-- External Stylesheets -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css">

               <link rel="stylesheet" href="https://www.mnthen.com/css/dropdown.css">
 
    <style>
        body {
            font-family: 'Roboto', sans-serif;
            background-color: #E6ECF5;
        }

        /* Hero Section */
.hero-section {
  min-height: 75vh;
  display: flex;
  align-items: center;
  justify-content: center;
  text-align: center;
  background: linear-gradient(135deg, rgba(43, 76, 126, 0.9), rgba(43, 76, 126, 0.7)), url('https://www.mnthen.com/images/bg/mission_bg.jpg') center/cover no-repeat;
  padding: 2rem;
  color: white;
}

.hero-content {
  max-width: 800px;
  margin: 0 auto;
}

.hero-title {
  font-size: clamp(3rem, 8vw, 4.5rem);
  font-weight: 800;
  margin-bottom: 0.5rem;
  line-height: 1.1;
  text-shadow: 2px 2px 8px rgba(0, 0, 0, 0.025);
}

.hero-subtitle {
  font-size: clamp(1.2rem, 3vw, 1.5rem);
  margin-bottom: 3rem;
  text-shadow: 1px 1px 4px rgba(0, 0, 0, 0.025);
  line-height: 1.6;
}

/* Games Section */
.games-section {
  background-color: #f8f9fa;
}

.section-title {
  font-size: 2.5rem;
  font-weight: 700;
  color: #2D4059;
}

.section-subtitle {
  font-size: 1.2rem;
  color: #6c757d;
}

/* Info Card */
.info-card {
  background-color: #fff;
  padding: 2rem;
  border-radius: 12px;
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
}

.info-card-title {
  font-size: 1.75rem;
  font-weight: 700;
  color: #2D4059;
  margin-bottom: 1.5rem;
}

.info-card-list {
  list-style: none;
  padding: 0;
}

.info-card-item {
  display: flex;
  align-items: center;
  margin-bottom: 1.5rem;
}

.icon-primary {
  font-size: 1.5rem;
  color: #1e6bb8;
  margin-right: 1rem;
}

.info-card-text h5 {
  font-size: 1.1rem;
  font-weight: 600;
  color: #333;
  margin: 0;
}

.info-card-footer {
  font-size: 1rem;
  color: #6c757d;
  margin-top: 1.5rem;
  margin-bottom: 0;
}

/* Quick Links Card */
.quick-links-card {
  background-color: #fff;
  padding: 2rem;
  border-radius: 12px;
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
}

.quick-links-title {
  font-size: 1.75rem;
  font-weight: 700;
  color: #2D4059;
  margin-bottom: 1.5rem;
}

.quick-links-list {
  list-style: none;
  padding: 0;
}

.quick-links-item {
  margin-bottom: 1rem;
}

.quick-links-link {
  display: flex;
  align-items: center;
  text-decoration: none;
  color: #333;
  font-size: 1.1rem;
  font-weight: 600;
  transition: color 0.3s ease;
}

.quick-links-link:hover {
  color: #1e6bb8;
}

.icon-secondary {
  font-size: 1.5rem;
  color: #1e6bb8;
  margin-right: 1rem;
}
     

    </style>
</head>
<body>
<!-- Header -->
<header id="header-placeholder" role="banner"></header>

<!-- Hero Section -->
<section class="hero-section" aria-labelledby="hero-title">
  <div class="hero-content">
    <h1 id="hero-title" class="hero-title">Minnesota History Trivia</h1>
    <p class="hero-subtitle">Test your knowledge of Minnesota's rich past.</p>
  </div>
</section>

<main>
<!-- Games Section -->
<section class="games-section py-5">
  <div class="container">
    <div class="row">
      <div class="col-12 text-center">
        <h2 class="section-title mb-4">Welcome to Our Trivia Games</h2>
        <p class="section-subtitle mb-5">
          Each game offers ten multiple-choice questions that span various topics and time periods.
        </p>
      </div>
    </div>
    <div class="row">
      <!-- How It Works Card -->
      <div class="col-lg-8 mb-4">
        <div class="info-card">
          <h3 class="info-card-title mb-4">How It Works</h3>
          <ul class="info-card-list">
            <li class="info-card-item">
              <i class="fas fa-check-circle icon-primary"></i>
              <div class="info-card-text">
                <h5>Read each question carefully.</h5>
              </div>
            </li>
            <li class="info-card-item">
              <i class="fas fa-check-circle icon-primary"></i>
              <div class="info-card-text">
                <h5>Tap the button that represents your answer choice.</h5>
              </div>
            </li>
            <li class="info-card-item">
              <i class="fas fa-check-circle icon-primary"></i>
              <div class="info-card-text">
                <h5>Correct answers turn green, incorrect ones turn red.</h5>
              </div>
            </li>
            <li class="info-card-item">
              <i class="fas fa-check-circle icon-primary"></i>
              <div class="info-card-text">
                <h5>Learn something new with each question.</h5>
              </div>
            </li>
          </ul>
          <p class="info-card-footer">
            Challenge yourself and see how much you know about our state's history. Good luck, and have fun!
          </p>
        </div>
      </div>

      <!-- Quick Links Card -->
      <div class="col-lg-4 mb-4">
        <div class="quick-links-card">
          <h3 class="quick-links-title mb-4">Quick Links</h3>
          <ul class="quick-links-list">
            <li class="quick-links-item">
              <a href="#" onclick="openPopup('how_to_play.html')" class="quick-links-link">
                <i class="fas fa-play-circle icon-secondary"></i>
                How to Play
              </a>
            </li>
            <li class="quick-links-item">
              <a href="#" onclick="openPopup('faq.html')" class="quick-links-link">
                <i class="fas fa-question-circle icon-secondary"></i>
                FAQ
              </a>
            </li>
          </ul>
        </div>
      </div>
    </div>
  </div>
</section>

  <section class="container my-5">
    <div class="row">
      <div class="col-12 text-center">
        <h2 class="mb-4">Trivia Categories</h2>
      </div>
    </div>
    <div class="row" id="categoryContainer">
      <!-- Category cards will be dynamically added here -->
    </div>
  </section>
</main>
    
  <!-- Footer -->
  <div class="container-fluid p-0">
    <div id="footer-placeholder"></div>
  </div>

<script>
document.addEventListener('DOMContentLoaded', function() {
  // Load header and footer first
  Promise.all([
    fetch('/section/header.html').then(response => response.text()),
    fetch('/section/footer.html').then(response => response.text())
  ])
  .then(([headerData, footerData]) => {
    const headerPlaceholder = document.getElementById('header-placeholder');
    const footerPlaceholder = document.getElementById('footer-placeholder');
    
    if (headerPlaceholder) headerPlaceholder.innerHTML = headerData;
    if (footerPlaceholder) footerPlaceholder.innerHTML = footerData;

    // Initialize after DOM update
    setTimeout(initializeNavigation, 0);
  })
  .catch(error => {
    console.error('Error loading content:', error);
    const headerPlaceholder = document.getElementById('header-placeholder');
    if (headerPlaceholder) {
      headerPlaceholder.innerHTML = '<p>Error loading content. Please refresh the page.</p>';
    }
  });

  // Initialize categories if container exists
  const categoryContainer = document.getElementById('categoryContainer');
  if (categoryContainer) {
    categories.forEach(category => {
      const card = createCategoryCard(category);
      categoryContainer.appendChild(card);
    });
  }
});

function initializeNavigation() {
  const mobileMenuBtn = document.querySelector('.mnthen-mobile-menu');
  const mainNav = document.querySelector('.mnthen-nav');
  const dropdownBtns = document.querySelectorAll('.mnthen-dropdown-btn');
  const dropdownToggle = document.querySelector('.dropdown-toggle');
  const dropdownMenu = document.querySelector('.dropdown-menu');
  const toggleButton = document.querySelector('.toggle-button');
  const navbarLinks = document.querySelector('.navbar-links');

  // Initialize all navigation elements
  if (dropdownToggle && dropdownMenu) {
    dropdownToggle.addEventListener('click', function() {
      dropdownMenu.classList.toggle('show');
    });
  }

  if (toggleButton && navbarLinks) {
    toggleButton.addEventListener('click', () => {
      navbarLinks.classList.toggle('active');
    });
  }

  if (mobileMenuBtn && mainNav) {
    mobileMenuBtn.addEventListener('click', function(e) {
      e.stopPropagation();
      this.classList.toggle('active');
      mainNav.classList.toggle('active');
    });

    dropdownBtns.forEach(btn => {
      ['click', 'touchstart'].forEach(eventType => {
        btn.addEventListener(eventType, function(e) {
          e.preventDefault();
          e.stopPropagation();
          
          dropdownBtns.forEach(otherBtn => {
            if (otherBtn !== btn) {
              otherBtn.classList.remove('active');
              otherBtn.nextElementSibling?.classList.remove('active');
            }
          });
          
          this.classList.toggle('active');
          const dropdownContent = this.nextElementSibling;
          if (dropdownContent) {
            dropdownContent.classList.toggle('active');
          }
        });
      });
    });
  }

  // Global click/touch handler
  ['click', 'touchstart'].forEach(eventType => {
    document.addEventListener(eventType, function(e) {
      const isClickInsideNav = e.target.closest('.mnthen-nav');
      const isClickInsideMenu = e.target.closest('.mnthen-mobile-menu');
      const isClickInsideNavbarLinks = navbarLinks?.contains(e.target);
      const isClickInsideToggleButton = toggleButton?.contains(e.target);

      // Handle main navigation clicks
      if (!isClickInsideNav && !isClickInsideMenu) {
        mainNav?.classList.remove('active');
        mobileMenuBtn?.classList.remove('active');
        dropdownBtns.forEach(btn => {
          btn.classList.remove('active');
          btn.nextElementSibling?.classList.remove('active');
        });
      }

      // Handle dropdown menu clicks
      if (!e.target.matches('.dropdown-toggle') && !e.target.closest('.dropdown-menu')) {
        dropdownMenu?.classList.remove('show');
      }

      // Handle navbar links clicks
      if (!isClickInsideNavbarLinks && !isClickInsideToggleButton && navbarLinks?.classList.contains('active')) {
        navbarLinks.classList.remove('active');
      }
    });
  });

  // Handle window resize
  window.addEventListener('resize', function() {
    if (window.innerWidth > 768) {
      mainNav?.classList.remove('active');
      mobileMenuBtn?.classList.remove('active');
      dropdownBtns.forEach(btn => {
        btn.classList.remove('active');
        btn.nextElementSibling?.classList.remove('active');
      });
    }
  });
}

// Categories data and functionality
const categories = [
  {
    name: 'Minnesota History',
    image: 'header_6.jpg',
    description: 'Test your knowledge of Minnesota\'s rich history.',
    url: 'trivia.html'
  },
  {
    name: 'Gangster History',
    image: 'gangster_1.jpg',
    description: 'Prove your expertise about Minnesota\'s notorious Depression Era gangster menace.',
    url: 'trivia_gng.html'
  },
  {
    name: 'St. Paul History',
    image: 'stp_1.jpg',
    description: 'Show that you know the history of Minnesota\'s capital city.',
    url: 'stp_trivia.html'
  }
];

function createCategoryCard(category) {
  const card = document.createElement('div');
  card.className = 'col-md-4 mb-4';

  card.innerHTML = `
    <div class="card shadow-sm h-100 d-flex flex-column">
      <img src="images/${category.image}" alt="${category.name}" class="card-img-top">
      <div class="card-body d-flex flex-column justify-content-between">
        <h5 class="card-title text-center">${category.name}</h5>
        <p class="card-text text-center">${category.description}</p>
        <a href="${category.url}" class="btn btn-primary mt-3 mx-auto btn-block">Enter</a>
      </div>
    </div>
  `;

  return card;
}

function openPopup(url) {
  const isMobileDevice = window.matchMedia("(max-width: 767px)").matches;
  const width = Math.round(window.innerWidth * (isMobileDevice ? 0.9 : 0.8));
  const height = Math.round(window.innerHeight * (isMobileDevice ? 0.9 : 0.8));
  const left = Math.round((window.innerWidth - width) / 2);
  const top = isMobileDevice ? 0 : Math.round((window.innerHeight - height) / 2);

  const features = `width=${width},height=${height},left=${left},top=${top},resizable=yes,scrollbars=yes,location=no,toolbar=no,status=no`;

  const popup = window.open('', 'popup', features);

  if (popup) {
    popup.location.replace(url);
    popup.focus();
  } else {
    alert('Popup blocking is enabled in your browser. Please allow popups for this site.');
  }
}
</script>
</body>
</html>
