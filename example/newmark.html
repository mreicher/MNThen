<!DOCTYPE html>
<html lang="en">
<head>

        <!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-0M8KR45LDB"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-0M8KR45LDB');
</script>
    
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Minnesota Then | Trivia</title>
     <link rel="shortcut icon" type="image/jpg" href="/images/mnthenfav.ico" />
  <link rel="shortcut icon" type="image/x-icon" href="https://www.mnthen.com/images/mnthenfav.ico">

  <!-- Fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">

  <!-- External Stylesheets -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css">

               <link rel="stylesheet" href="https://www.mnthen.com/css/dropdown.css">
 
    <style>
        body {
            font-family: 'Roboto', sans-serif;
            background-color: #E6ECF5;
        }

        /* Hero Section */
.hero-section {
  min-height: 75vh;
  display: flex;
  align-items: center;
  justify-content: center;
  text-align: center;
  background: linear-gradient(135deg, rgba(43, 76, 126, 0.9), rgba(43, 76, 126, 0.7)), url('https://www.mnthen.com/images/bg/mission_bg.jpg') center/cover no-repeat;
  padding: 2rem;
  color: white;
}

.hero-content {
  max-width: 800px;
  margin: 0 auto;
}

.hero-title {
  font-size: clamp(3rem, 8vw, 4.5rem);
  font-weight: 800;
  margin-bottom: 0.5rem;
  line-height: 1.1;
  text-shadow: 2px 2px 8px rgba(0, 0, 0, 0.025);
}

.hero-subtitle {
  font-size: clamp(1.2rem, 3vw, 1.5rem);
  margin-bottom: 3rem;
  text-shadow: 1px 1px 4px rgba(0, 0, 0, 0.025);
  line-height: 1.6;
}
     
.trivia-welcome {
  background-color: #fff;
  border-radius: 8px;
  box-shadow: 0 4px 8px rgba(0, 0, 0, 0.025);
  padding: 20px;
  margin: 20px auto;
  max-width: 95vw;
}

.trivia-container {
  padding: 20px;
}

.trivia-welcome h2 {
  font-size: 1.75em;
  color: #2c3e50;
  margin-bottom: 10px;
  margin-top: -5px;
  text-align: center;
}

.trivia-welcome p {
  font-size: 1.1em;
  line-height: 1.5;
  margin-bottom: 10px;
}

.trivia-welcome ul {
  list-style-type: none;
  padding-left: 20px;
}

.trivia-welcome ul li {
  font-size: 1.1em;
  line-height: 1.4;
  position: relative;
  padding-left: 30px;
  margin-bottom: 5px;
}

.trivia-welcome ul li::before {
  content: '\2022';
  color: #3498db;
  font-size: 1.1em;
  position: absolute;
  left: 0;
  top: 0;
}

/* Responsive Design */
@media (max-width: 600px) {
  .trivia-welcome h2 {
    font-size: 2em;
  }
  .trivia-welcome p, .trivia-welcome ul li {
    font-size: 1em;
  }
}

/* Modal styles */
.modal {
  display: none;
  position: fixed;
  z-index: 999;
  left: 0;
  top: 0;
  width: 100%;
  height: 100%;
  overflow: auto;
  background-color: rgba(0, 0, 0, 0.5);
}

.modal-content {
  background-color: #fefefe;
  margin: 15% auto;
  padding: 20px;
  border: 1px solid #888;
  width: 80%;
  max-width: 600px;
  position: relative;
}

.close {
  color: #aaa;
  float: right;
  font-size: 28px;
  font-weight: bold;
}

.close:hover,
.close:focus {
  color: black;
  text-decoration: none;
  cursor: pointer;
}

.modal-frame {
  width: 100%;
  height: 400px; /* Adjust height as needed */
}
    
/* Adjusted styles for category cards */
.card {
  border-radius: 10px;
  box-shadow: 0 4px 6px rgba(0, 0, 0, 0.025);
}

.card-img-top {
  border-radius: 10px 10px 0 0 !important; /* Top-left and top-right corners rounded */
  height: 150px;
  object-fit: cover;
  object-position: center bottom; /* Ensure the bottom of the image is visible */
}

.card-body {
  padding: 20px;
}

.card-title {
  font-size: 20px;
  margin-bottom: 10px;
}

.card-text {
  font-size: 16px;
  color: #555;
  margin-bottom: 12px;
}

  .btn-primary {
    font-size: 1.1rem;
    font-weight: 700;
    text-transform: uppercase;
    padding: 10px 24px;
    border-radius: 8px;
    margin: 20px;
    align-self: center;
    background-color: #0056b3;
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.025);
    color: white;
    border: 2px solid transparent;
    transition: background-color 0.3s ease, border-color 0.3s ease; /* Smooth transition for hover */
  }

  .btn-primary:hover {
  background-color: #2c3e50; /* Dark blue color */
  }

  /* Responsive Styles */
  @media (max-width: 767px) {
    .card-img-top {
      height: 150px;
    }

    .card-title {
      font-size: 20px;
    }

    .card-text {
      font-size: 18px;
    }
  }
  
  @media (max-width: 767px) {
  .card-img-top {
    display: none;
  }
}
    </style>
</head>
<body>
<!-- Header -->
<header id="header-placeholder" role="banner"></header>

<!-- Hero Section -->
<section class="hero-section" aria-labelledby="hero-title">
  <div class="hero-content">
    <h1 id="hero-title" class="hero-title">Minnesota History Trivia</h1>
    <p class="hero-subtitle">Test your knowledge of Minnesota's rich past.</p>
  </div>
</section>

<main>
  <section class="bg-light-blue text-dark py-5">
    <div class="container">
      <div class="row">
        <div class="col-12 text-center">
          <h1 class="mb-4">Welcome to Our Trivia Games</h1>
          <p class="lead mb-4">
            Each game offers ten multiple-choice questions that span various topics and time periods.
          </p>
        </div>
      </div>
      <div class="row">
        <div class="col-lg-8">
          <div class="bg-white text-dark p-4 rounded shadow-sm">
            <h2 class="mb-4">How It Works</h2>
            <ul class="list-unstyled">
              <li class="media my-3">
                <i class="fas fa-check-circle text-primary mr-3 align-self-center"></i>
                <div class="media-body">
                  <h5>Read each question carefully.</h5>
                </div>
              </li>
              <li class="media my-3">
                <i class="fas fa-check-circle text-primary mr-3 align-self-center"></i>
                <div class="media-body">
                  <h5>Tap the button that represents your answer choice.</h5>
                </div>
              </li>
              <li class="media my-3">
                <i class="fas fa-check-circle text-primary mr-3 align-self-center"></i>
                <div class="media-body">
                  <h5>Correct answers turn green, incorrect ones turn red.</h5>
                </div>
              </li>
              <li class="media my-3">
                <i class="fas fa-check-circle text-primary mr-3 align-self-center"></i>
                <div class="media-body">
                  <h5>Learn something new with each question.</h5>
                </div>
              </li>
            </ul>
            <p>
              Challenge yourself and see how much you know about our state's history. Good luck, and have fun!
            </p>
          </div>
        </div>
        <div class="col-lg-4">
          <div class="bg-white text-dark p-4 rounded shadow-sm">
            <h2 class="mb-4">Quick Links</h2>
            <ul class="list-unstyled">
              <li class="mb-3">
                <a href="#" onclick="openPopup('leaderboard.html')">View the Leaderboard</a>
              </li>
              <li class="mb-3">
                <a href="#" onclick="openPopup('how_to_play.html')">How to Play</a>
              </li>
            </ul>
          </div>
        </div>
      </div>
    </div>
  </section>

  <section class="container my-5">
    <div class="row">
      <div class="col-12 text-center">
        <h2 class="mb-4">Trivia Categories</h2>
      </div>
    </div>
    <div class="row" id="categoryContainer">
      <!-- Category cards will be dynamically added here -->
    </div>
  </section>
</main>
    
  <!-- Footer -->
  <div class="container-fluid p-0">
    <div id="footer-placeholder"></div>
  </div>

<script>
document.addEventListener('DOMContentLoaded', function() {
  // Load header and footer first
  Promise.all([
    fetch('/section/header.html').then(response => response.text()),
    fetch('/section/footer.html').then(response => response.text())
  ])
  .then(([headerData, footerData]) => {
    const headerPlaceholder = document.getElementById('header-placeholder');
    const footerPlaceholder = document.getElementById('footer-placeholder');
    
    if (headerPlaceholder) headerPlaceholder.innerHTML = headerData;
    if (footerPlaceholder) footerPlaceholder.innerHTML = footerData;

    // Initialize after DOM update
    setTimeout(initializeNavigation, 0);
  })
  .catch(error => {
    console.error('Error loading content:', error);
    const headerPlaceholder = document.getElementById('header-placeholder');
    if (headerPlaceholder) {
      headerPlaceholder.innerHTML = '<p>Error loading content. Please refresh the page.</p>';
    }
  });

  // Initialize categories if container exists
  const categoryContainer = document.getElementById('categoryContainer');
  if (categoryContainer) {
    categories.forEach(category => {
      const card = createCategoryCard(category);
      categoryContainer.appendChild(card);
    });
  }
});

function initializeNavigation() {
  const mobileMenuBtn = document.querySelector('.mnthen-mobile-menu');
  const mainNav = document.querySelector('.mnthen-nav');
  const dropdownBtns = document.querySelectorAll('.mnthen-dropdown-btn');
  const dropdownToggle = document.querySelector('.dropdown-toggle');
  const dropdownMenu = document.querySelector('.dropdown-menu');
  const toggleButton = document.querySelector('.toggle-button');
  const navbarLinks = document.querySelector('.navbar-links');

  // Initialize all navigation elements
  if (dropdownToggle && dropdownMenu) {
    dropdownToggle.addEventListener('click', function() {
      dropdownMenu.classList.toggle('show');
    });
  }

  if (toggleButton && navbarLinks) {
    toggleButton.addEventListener('click', () => {
      navbarLinks.classList.toggle('active');
    });
  }

  if (mobileMenuBtn && mainNav) {
    mobileMenuBtn.addEventListener('click', function(e) {
      e.stopPropagation();
      this.classList.toggle('active');
      mainNav.classList.toggle('active');
    });

    dropdownBtns.forEach(btn => {
      ['click', 'touchstart'].forEach(eventType => {
        btn.addEventListener(eventType, function(e) {
          e.preventDefault();
          e.stopPropagation();
          
          dropdownBtns.forEach(otherBtn => {
            if (otherBtn !== btn) {
              otherBtn.classList.remove('active');
              otherBtn.nextElementSibling?.classList.remove('active');
            }
          });
          
          this.classList.toggle('active');
          const dropdownContent = this.nextElementSibling;
          if (dropdownContent) {
            dropdownContent.classList.toggle('active');
          }
        });
      });
    });
  }

  // Global click/touch handler
  ['click', 'touchstart'].forEach(eventType => {
    document.addEventListener(eventType, function(e) {
      const isClickInsideNav = e.target.closest('.mnthen-nav');
      const isClickInsideMenu = e.target.closest('.mnthen-mobile-menu');
      const isClickInsideNavbarLinks = navbarLinks?.contains(e.target);
      const isClickInsideToggleButton = toggleButton?.contains(e.target);

      // Handle main navigation clicks
      if (!isClickInsideNav && !isClickInsideMenu) {
        mainNav?.classList.remove('active');
        mobileMenuBtn?.classList.remove('active');
        dropdownBtns.forEach(btn => {
          btn.classList.remove('active');
          btn.nextElementSibling?.classList.remove('active');
        });
      }

      // Handle dropdown menu clicks
      if (!e.target.matches('.dropdown-toggle') && !e.target.closest('.dropdown-menu')) {
        dropdownMenu?.classList.remove('show');
      }

      // Handle navbar links clicks
      if (!isClickInsideNavbarLinks && !isClickInsideToggleButton && navbarLinks?.classList.contains('active')) {
        navbarLinks.classList.remove('active');
      }
    });
  });

  // Handle window resize
  window.addEventListener('resize', function() {
    if (window.innerWidth > 768) {
      mainNav?.classList.remove('active');
      mobileMenuBtn?.classList.remove('active');
      dropdownBtns.forEach(btn => {
        btn.classList.remove('active');
        btn.nextElementSibling?.classList.remove('active');
      });
    }
  });
}

// Categories data and functionality
const categories = [
  {
    name: 'Minnesota History',
    image: 'header_6.jpg',
    description: 'Test your knowledge of Minnesota\'s rich history.',
    url: 'trivia.html'
  },
  {
    name: 'Gangster History',
    image: 'gangster_1.jpg',
    description: 'Prove your expertise about Minnesota\'s notorious Depression Era gangster menace.',
    url: 'trivia_gng.html'
  },
  {
    name: 'St. Paul History',
    image: 'stp_1.jpg',
    description: 'Show that you know the history of Minnesota\'s capital city.',
    url: 'stp_trivia.html'
  }
];

function createCategoryCard(category) {
  const card = document.createElement('div');
  card.className = 'col-md-4 mb-4';

  card.innerHTML = `
    <div class="card shadow-sm h-100 d-flex flex-column">
      <img src="images/${category.image}" alt="${category.name}" class="card-img-top">
      <div class="card-body d-flex flex-column justify-content-between">
        <h5 class="card-title text-center">${category.name}</h5>
        <p class="card-text text-center">${category.description}</p>
        <a href="${category.url}" class="btn btn-primary mt-3 mx-auto btn-block">Enter</a>
      </div>
    </div>
  `;

  return card;
}

function openPopup(url) {
  const isMobileDevice = window.matchMedia("(max-width: 767px)").matches;
  const width = Math.round(window.innerWidth * (isMobileDevice ? 0.9 : 0.8));
  const height = Math.round(window.innerHeight * (isMobileDevice ? 0.9 : 0.8));
  const left = Math.round((window.innerWidth - width) / 2);
  const top = isMobileDevice ? 0 : Math.round((window.innerHeight - height) / 2);

  const features = `width=${width},height=${height},left=${left},top=${top},resizable=yes,scrollbars=yes,location=no,toolbar=no,status=no`;

  const popup = window.open('', 'popup', features);

  if (popup) {
    popup.location.replace(url);
    popup.focus();
  } else {
    alert('Popup blocking is enabled in your browser. Please allow popups for this site.');
  }
}
</script>
</body>
</html>
