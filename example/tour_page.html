<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Available Tours | Minnesota Then</title>
    <link rel="shortcut icon" type="image/jpg" href="images/mnthenfav.ico"/>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://www.mnthen.com/css/index.css">
    <link rel="stylesheet" href="/css/footer.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    <link rel="stylesheet" href="/css/new_header.css">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700&display=swap" rel="stylesheet">
    
    <style>
        :root {
            --primary-color: #0056b3;
            --secondary-color: #004a9a;
            --accent-color: #ffc107;
            --text-color: #333;
            --background-color: #f8f9fa;
        }

        body {
            font-family: 'Poppins', sans-serif;
            background-color: var(--background-color);
            color: var(--text-color);
        }

        #hero {
            background-image: linear-gradient(rgba(0, 0, 0, 0.5), rgba(0, 0, 0, 0.5)), url("/images/tour_header.jpg");
            background-size: cover;
            background-position: center;
            height: 60vh;
            display: flex;
            align-items: center;
            justify-content: center;
            color: #fff;
            text-align: center;
            position: relative;
        }

        #hero h3 {
            font-size: 3rem;
            font-weight: 700;
            margin-bottom: 1rem;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.5);
        }

        #hero p {
            font-size: 1.5rem;
            text-shadow: 1px 1px 2px rgba(0,0,0,0.5);
        }

        .search-bar {
            background-color: rgba(255, 255, 255, 0.9);
            padding: 20px;
            border-radius: 50px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
            margin-top: -25px;
            position: relative;
            z-index: 10;
        }

        .search-bar .form-control {
            border: none;
            border-radius: 30px;
            padding: 15px 25px;
            font-size: 1.1rem;
            box-shadow: inset 0 2px 5px rgba(0, 0, 0, 0.1);
        }

        .search-bar .form-control:focus {
            box-shadow: inset 0 2px 5px rgba(0, 0, 0, 0.1), 0 0 0 0.2rem rgba(0, 86, 179, 0.25);
        }

        .tour-card {
            background-color: #fff;
            border-radius: 15px;
            overflow: hidden;
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.1);
            transition: transform 0.3s ease, box-shadow 0.3s ease;
            height: 100%;
            display: flex;
            flex-direction: column;
        }

        .tour-card:hover {
            transform: translateY(-10px);
            box-shadow: 0 15px 30px rgba(0, 0, 0, 0.2);
        }

        .tour-card h2 {
            font-size: 1.5rem;
            font-weight: 700;
            color: #fff;
            padding: 20px;
            margin: 0;
            text-align: center;
            background-image: linear-gradient(45deg, var(--primary-color), var(--secondary-color));
        }

        .tour-card .card-body {
            padding: 25px;
            flex-grow: 1;
            display: flex;
            flex-direction: column;
        }

        .tour-card p {
            font-size: 1rem;
            line-height: 1.6;
            color: var(--text-color);
            margin-bottom: 20px;
            flex-grow: 1;
        }

        .tour-card .btn {
            align-self: center;
            padding: 12px 30px;
            font-size: 1rem;
            font-weight: 600;
            text-transform: uppercase;
            border-radius: 30px;
            background-color: var(--primary-color);
            border: none;
            transition: background-color 0.3s ease, transform 0.3s ease;
        }

        .tour-card .btn:hover {
            background-color: var(--secondary-color);
            transform: scale(1.05);
        }

        .locations-badge {
            position: absolute;
            top: 20px;
            right: 20px;
            background-color: var(--accent-color);
            color: var(--text-color);
            padding: 5px 10px;
            border-radius: 20px;
            font-size: 0.9rem;
            font-weight: 600;
        }

        @media (max-width: 768px) {
            #hero {
                height: 50vh;
            }

            #hero h3 {
                font-size: 2rem;
            }

            #hero p {
                font-size: 1.2rem;
            }

            .search-bar {
                margin-top: -20px;
            }
        }
    </style>
</head>
<body>
   <!-- Header section -->
<header>
  <nav class="navbar">
    <div class="navbar-brand">
      <a href="/index.html">
        <!-- <img src="logo.png" alt="Minnesota Then"> -->
        Minnesota Then
      </a>
    </div>
    <a href="#" class="toggle-button">
      <span class="bar"></span>
      <span class="bar"></span>
      <span class="bar"></span>
    </a>
    <div class="navbar-links">
      <ul>
        <li><a href="/blog.html" class="px-1">Blog</a></li>
        <li><a href="/faq.html" class="px-1">Help Center</a></li>
        <li class="dropdown">
          <a href="#" class="px-1 dropdown-toggle">Sponsor Us</a>
  <div class="dropdown-menu">
  <div class="container">
    <a href="/donate.html" class="dropdown-item">
      <h5>Make a Donation</h5>
    </a>
    <hr class="centered-hr">
    <a href="#" class="dropdown-item">
      <h5>Join our Patreon</h5>
    </a>
    <hr class="centered-hr">
    <a href="#" class="dropdown-item">
      <h5>Shop our Online Store</h5>
    </a>
  </div>
</div>
        </li>
        <li><a href="/upcoming_events.html" class="px-1">Upcoming Events</a></li>
        <li><a href="#" class="donate-btn rounded-pill px-3" id="account-link">
            <i class="fas fa-user"></i>
            <span>Log In <span>|</span> Register</span>
          </a>
        </li>
      </ul>
    </div>
  </nav>
</header>

    <section id="hero">
        <div class="container">
            <h3>Explore Minnesota's Rich History</h3>
            <p>Embark on self-guided tours through time and place</p>
        </div>
    </section>

    <main class="container py-5">
        <div class="search-bar mb-5">
            <input type="text" id="search-input" class="form-control" placeholder="Search tours by name or description..." oninput="searchTours()">
        </div>
        <div id="tours-list" class="row">
            <!-- Tour cards will be dynamically populated here -->
        </div>
    </main>

  <!-- Footer Section -->
<footer class="bg-primary text-white py-2">
    <div class="footer-container">
        <div class="row">
            <div class="col-md-4">
            <h3 style="font-family: 'Roboto', sans-serif; margin: 0; font-weight: 800;">
                    <span style="color: white;">Minnesota</span>
                    <span style="color: #132c33;">Then</span>
                </h3>
            </div>
            <div class="col-md-2">
                <h5>Who We Are</h5>
                <ul style="list-style: none; padding: 0;">
            <li><a href="/about.html" style="text-decoration: none; color: white;">About Us</a></li>
            <li><a href="/contact.html" style="text-decoration: none; color: white;">Contact Us</a></li>
            <li><a href="/privacy_terms.html" style="text-decoration: none; color: white;">ToS & Privacy</a></li>
                        <li><a href="#" style="text-decoration: none; color: white;">&nbsp;</a></li>
                </ul>
            </div>
            <div class="col-md-2">
                <h5>What We Do</h5>
                <ul style="list-style: none; padding: 0;">
                                        <li><a href="https://mnthen.com/blog.html" style="text-decoration: none; color: white;">Blog</a></li>
<li><a href="https://www.mnthen.com/article/thesis_project.pdf" target = "_blank" style="text-decoration: none; color: white;">Thesis Project</a></li>
                    <li><a href="#" style="text-decoration: none; color: white;">&nbsp;</a></li>
                    <li><a href="#" style="text-decoration: none; color: white;">&nbsp;</a></li>
                </ul>
            </div>
                       <div class="col-md-2">
                <h5>Resources</h5>

                <ul style="list-style: none; padding: 0;">

                    <li><a href="https://www.mnthen.com/works.html" style="text-decoration: none; color: white;">Learn the App</a></li>
                    <li><a href="https://www.buymeacoffee.com/mnthen" style="text-decoration: none; color: white;">Donations</a></li>
                    <li><a href="/faq.html" style="text-decoration: none; color: white;">Help Center</a></li>
                           <li><a href="/resources.html" style="text-decoration: none; color: white;">Research Tools</a></li>

                </ul>


            </div>
            <div class="col-md-2">
                <div class="text-right">
                    <p class="text-white font-weight-bold mb-0 py-1" style="font-size: 32px; font-family: 'Roboto', sans-serif; margin: 0; font-weight: 900t">Every Step Has a Story</p>
                </div>
            </div>
        </div>
        <hr class="mt-4">
        <div class="row">
     <div class="col-md-3 text-center mb-4">
                &copy; 2024 Minnesota Then. All rights reserved
            </div>
            <div class="col-md-3 text-center mb-4">

            </div>
            <div class="col-md-3 text-right mb-4">
                <div class="social-icons">
                    <span class="follow-text">Connect:</span>
                    <a href="https://www.facebook.com/profile.php?id=100090355652945" target="_blank" class="text-white">
                        <i class="fab fa-facebook-f fa-lg"></i>
                    </a>
                    <span class="spacer">|</span>
                     <a href="https://twitter.com/minnesotathen" target="_blank" class="text-white">
                        <i class="fa-brands fa-x-twitter fa-lg"></i>
                    </a>
                    <span class="spacer">|</span>
                    <a href="https://www.linkedin.com/company/mnthen" target="_blank" class="text-white">
                        <i class="fab fa-linkedin-in fa-lg"></i>
                    </a>
                </div>
            </div>
        </div>
    </div>
</footer>

    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.bundle.min.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.17.1/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.17.1/firebase-auth-compat.js"></script>

    <script>
      const dropdownToggle = document.querySelector('.dropdown-toggle');
const dropdownMenu = document.querySelector('.dropdown-menu');

dropdownToggle.addEventListener('click', function() {
  dropdownMenu.classList.toggle('show');
});

// Add event listener to the entire document
document.addEventListener('click', function(event) {
  // Check if the clicked element is not the dropdown toggle or a child of the dropdown menu
  if (!event.target.matches('.dropdown-toggle') && !event.target.closest('.dropdown-menu')) {
    // If not, close the dropdown menu
    dropdownMenu.classList.remove('show');
  }
});

const toggleButton = document.querySelector('.toggle-button');
const navbarLinks = document.querySelector('.navbar-links');

toggleButton.addEventListener('click', () => {
  navbarLinks.classList.toggle('active');
});

document.addEventListener('click', (event) => {
  const isClickInsideNavbarLinks = navbarLinks.contains(event.target);
  const isClickInsideToggleButton = toggleButton.contains(event.target);

  if (!isClickInsideNavbarLinks && !isClickInsideToggleButton && navbarLinks.classList.contains('active')) {
    navbarLinks.classList.remove('active');
  }
});

  // Your web app's Firebase configuration
  const firebaseConfig = {
    apiKey: "AIzaSyBDUAF3qJGhLYQJPHyWwY0JzonN5l8ERzE",
    authDomain: "mnthen-3151d.firebaseapp.com",
    projectId: "mnthen-3151d",
    storageBucket: "mnthen-3151d.appspot.com",
    messagingSenderId: "416231360428",
    appId: "1:416231360428:web:36f69cc231be2d84a8dc09"
  };

  // Initialize Firebase
  const app = firebase.initializeApp(firebaseConfig);
  const auth = firebase.auth();

  // Check if user is authenticated
  firebase.auth().onAuthStateChanged((user) => {
    const accountLink = document.getElementById('account-link');
    if (user) {
      // User is logged in, update the link to point to the account page
      accountLink.href = 'account.html';
      accountLink.innerHTML = '<i class="fas fa-user" style="margin-right: 5px"></i><span> Account Info</span>';
    } else {
      // User is not logged in, revert the link back to Sign In | Register
      accountLink.href = 'login.html';
      accountLink.innerHTML = '<i class="fas fa-user" style="margin-right: 5px"></i><span> Log In <span>|</span> Register</span>';
    }
  });

        const tours = [
            {
                title: "Gangsters",
                description: "<strong>Saint Paul:</strong> Travel back in time to the gritty gangster era. Uncover tales of notorious criminals, corrupt police, kidnappings, robberies, thrilling escapes, and intense clashes with law enforcement. Immerse yourself in a captivating journey through history's shadowy alleys. Embark on an adventure of intrigue and nostalgia, where every corner holds a tale of a bygone era.",
                color: "#4CAF50",
                link: "tour/gangster/gangster_welcome.html",
                locations: 8
            },
            {
                title: "Hamm's Grounds",
                description: "<strong>Saint Paul:</strong> Embark on a journey near the historic Hamm's Brewery, traveling to Swede Hollow and the former Hamm Mansion grounds. Unearth the legacy of the iconic Hamm's Bear, experience the renowned 1894 brewery tour, and delve into the dramatic William Hamm Jr. kidnapping. Explore the Stroh Brewery's closing story and learn about 'Minnesota 13' whiskey, a part of Prohibition's intriguing past.",
                color: "#FF5733",
                link: "tour/hamm/hamm_welcome.html",
                locations: 7
            },
            {
                title: "Lake Drive",
                description: "<strong>White Bear Lake:</strong> Experience the rich history and natural beauty of Lake Drive. Discover historic homes, ancient burial mounds, and remnants of former cottages and hotels. Immerse yourself in the charm and allure of this scenic route, capturing the essence of a bygone era. Explore and indulge in nostalgia. The tour begins on the walking path in front of the White Bear Lake County Park.",
                color: "#9C27B0",
                link: "tour/wbl/lake_drive_welcome.html",
                locations: 0
            },
            {
                title: "Capitol Mall",
                description: "<strong>Saint Paul:</strong> Experience the iconic Capitol grounds, uncover timeless monuments, and immerse yourself in Minnesota's unique and unforgettable heritage. This tour guides you south of the Capitol, providing a remarkable opportunity to explore the lives and legacies of extraordinary individuals who shaped the state's growth. The tour begins on the south steps of the Capitol.",
                color: "#800000",
                link: "tour/capitol/welcome.html",
                locations: 0
            }
        ];

        function generateTourCards(toursToShow) {
            const toursList = document.getElementById("tours-list");
            toursList.innerHTML = "";

            for (let tour of toursToShow) {
                const tourCard = document.createElement("div");
                tourCard.className = "col-sm-6 col-lg-4 mb-4";
                tourCard.innerHTML = `
                    <div class="tour-card">
                        <h2 style="background-image: linear-gradient(45deg, ${tour.color}, ${lightenColor(tour.color, 20)});">${tour.title}</h2>
                        <div class="card-body">
                            <p>${tour.description}</p>
                            <a href="${tour.link}" class="btn btn-primary mt-auto">Start Tour</a>
                        </div>
                        <div class="locations-badge">${tour.locations} Locations</div>
                    </div>
                `;
                toursList.appendChild(tourCard);
            }

            if (toursToShow.length === 0) {
                const noResultsMessage = document.createElement("p");
                noResultsMessage.className = "text-center col-12";
                noResultsMessage.innerHTML = "No tours found. <a href='/tour_page.html?nocache=" + new Date().getTime() + "'>Return to Full Tour Page</a>";
                toursList.appendChild(noResultsMessage);
            }
        }

        function searchTours() {
            const searchInput = document.getElementById("search-input").value.toLowerCase();
            const filteredTours = tours.filter(tour =>
                tour.title.toLowerCase().includes(searchInput) ||
                tour.description.toLowerCase().includes(searchInput)
            );
            generateTourCards(filteredTours);
        }

        function lightenColor(color, percent) {
            const num = parseInt(color.replace("#",""), 16),
                amt = Math.round(2.55 * percent),
                R = (num >> 16) + amt,
                G = (num >> 8 & 0x00FF) + amt,
                B = (num & 0x0000FF) + amt;
            return "#" + (0x1000000 + (R<255?R<1?0:R:255)*0x10000 + (G<255?G<1?0:G:255)*0x100 + (B<255?B<1?0:B:255)).toString(16).slice(1);
        }

        window.onload = function() {
            generateTourCards(tours);
        };
    </script>
</body>
</html>
