<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Minnesota Then - Community Markers</title>
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.7.1/dist/leaflet.css" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.1.1/css/all.min.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper@8/swiper-bundle.min.css" />
    <style>
        :root {
            --primary-color: #4a3c31;
            --secondary-color: #f4f1ed;
            --accent-color: #8b7d6b;
            --text-color: #2c2420;
            --highlight-color: #d4a373;
        }

        body, html { 
            height: 100%;
            margin: 0;
            padding: 0;
            background-color: var(--secondary-color);
            color: var(--text-color);
            font-family: 'Georgia', serif;
        }

        .header {
            background-color: var(--primary-color);
            color: var(--secondary-color);
            padding: 20px 0;
            display: flex;
            justify-content: space-between;
            align-items: center;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            position: fixed;
            width: 100%;
            z-index: 1000;
        }

        .header h1 {
            margin: 0 0 0 20px;
            font-size: 1.5em;
            font-weight: bold;
        }

        .header h2 {
            font-size: 2em;
            font-weight: bold;
        }

        .nav-links {
            display: flex;
            gap: 20px;
            margin-right: 20px;
        }

        .nav-links a {
            color: var(--secondary-color);
            text-decoration: none;
            font-weight: bold;
            transition: color 0.3s;
        }

        .nav-links a:hover {
            color: var(--highlight-color);
        }

        #page-container {
            padding-top: 80px;
        }

        .section {
            min-height: 100vh;
            padding: 40px 20px;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
        }

        #hero {
            background-image: url('https://picsum.photos/3000/2050?random=1');
            background-size: cover;
            background-position: center;
            color: white;
            text-align: center;
        }

        #hero h1 {
            font-size: 3em;
            margin-bottom: 20px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.5);
        }

        #hero p {
            font-size: 1.2em;
            max-width: 600px;
            margin: 0 auto 30px;
            text-shadow: 1px 1px 2px rgba(0,0,0,0.5);
        }

        #map-container {
            height: calc(100vh - 80px);
            width: 100%;
            position: relative;
            border-radius: 10px;
            overflow: hidden;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }

        #map { 
            height: 100%;
            width: 100%;
        }

        #sidebar {
            position: absolute;
            top: 0;
            right: -33.33%;
            width: 33.33%;
            height: 100%;
            background-color: var(--secondary-color);
            transition: right 0.3s ease-in-out;
            overflow-y: auto;
            padding: 20px;
            box-shadow: -5px 0 15px rgba(0, 0, 0, 0.1);
            border-radius: 10px 0 0 10px;
        }

        #sidebar.open {
            right: 0;
        }

        .btn-primary {
            background-color: var(--accent-color);
            color: var(--secondary-color);
            padding: 10px 20px;
            border-radius: 5px;
            font-weight: bold;
            transition: all 0.3s;
            cursor: pointer;
            text-decoration: none;
            display: inline-block;
        }

        .btn-primary:hover {
            background-color: var(--primary-color);
        }

        #search-section, #about-section {
            background-color: var(--secondary-color);
            padding: 30px;
            border-radius: 10px;
            margin-bottom: 30px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }

        #city-search {
            width: 100%;
            padding: 10px 20px;
            border: 1px solid var(--accent-color);
            border-radius: 5px;
            background-color: var(--secondary-color);
            color: var(--text-color);
        }

        #welcome-popup {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background-color: var(--secondary-color);
            padding: 30px;
            border-radius: 10px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            z-index: 2000;
            max-width: 80%;
            text-align: center;
        }

        .timeline {
            position: relative;
            max-width: 1200px;
            margin: 0 auto;
        }

        .timeline::after {
            content: '';
            position: absolute;
            width: 6px;
            background-color: var(--accent-color);
            top: 0;
            bottom: 0;
            left: 50%;
            margin-left: -3px;
        }

        .timeline-item {
            padding: 10px 40px;
            position: relative;
            background-color: inherit;
            width: 50%;
        }

        .timeline-item::after {
            content: '';
            position: absolute;
            width: 25px;
            height: 25px;
            right: -17px;
            background-color: var(--secondary-color);
            border: 4px solid var(--accent-color);
            top: 15px;
            border-radius: 50%;
            z-index: 1;
        }

        .left {
            left: 0;
        }

        .right {
            left: 50%;
        }

        .left::before {
            content: " ";
            height: 0;
            position: absolute;
            top: 22px;
            width: 0;
            z-index: 1;
            right: 30px;
            border: medium solid var(--accent-color);
            border-width: 10px 0 10px 10px;
            border-color: transparent transparent transparent var(--accent-color);
        }

        .right::before {
            content: " ";
            height: 0;
            position: absolute;
            top: 22px;
            width: 0;
            z-index: 1;
            left: 30px;
            border: medium solid var(--accent-color);
            border-width: 10px 10px 10px 0;
            border-color: transparent var(--accent-color) transparent transparent;
        }

        .right::after {
            left: -16px;
        }

        .timeline-content {
            padding: 20px 30px;
            background-color: var(--secondary-color);
            position: relative;
            border-radius: 6px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }

        .swiper {
            width: 100%;
            padding-top: 50px;
            padding-bottom: 50px;
        }

        .swiper-slide {
            background-position: center;
            background-size: cover;
            width: 300px;
            height: 300px;
        }

        .swiper-slide img {
            display: block;
            width: 100%;
        }

        #contact-form {
            max-width: 500px;
            margin: 0 auto;
        }

        #contact-form input,
        #contact-form textarea {
            width: 100%;
            padding: 10px;
            margin-bottom: 10px;
            border: 1px solid var(--accent-color);
            border-radius: 5px;
        }

        footer {
            background-color: var(--primary-color);
            color: var(--secondary-color);
            text-align: center;
            padding: 20px;
            margin-top: 40px;
        }

        @media (max-width: 768px) {
            #sidebar {
                width: 100%;
                right: -100%;
            }
            #sidebar.open {
                right: 0;
            }
            .timeline::after {
                left: 31px;
            }
            .timeline-item {
                width: 100%;
                padding-left: 70px;
                padding-right: 25px;
            }
            .timeline-item::before {
                left: 60px;
                border: medium solid var(--accent-color);
                border-width: 10px 10px 10px 0;
                border-color: transparent var(--accent-color) transparent transparent;
            }
            .left::after, .right::after {
                left: 15px;
            }
            .right {
                left: 0%;
            }
        }
    </style>
</head>
<body>
    <header class="header">
        <h1>Minnesota Then</h1>
        <h2>Community Markers</h2>
        <nav class="nav-links">
            <a href="#hero">Home</a>
            <a href="#map-section">Map</a>
            <a href="#timeline">Timeline</a>
            <a href="#gallery">Gallery</a>
            <a href="#contact">Contact</a>
            <button id="login-btn" class="btn-primary">Login</button>
        </nav>
    </header>

    <div id="page-container">
        <section id="hero" class="section">
            <h1>Explore Minnesota's Rich History</h1>
            <p>Discover the stories that shaped our state through interactive community markers.</p>
            <a href="#map-section" class="btn-primary">Start Exploring</a>
        </section>

        <section id="map-section" class="section">
            <h2 class="text-3xl font-bold mb-8">Interactive Historical Map</h2>
            <div id="map-container">
                <div id="map"></div>
                <div id="sidebar">
                    <div id="search-section">
                        <h3 class="text-xl font-bold mb-4">Search Locations</h3>
                        <input type="text" id="city-search" placeholder="Enter a city or location">
                    </div>
                    <div id="about-section">
                        <h3 class="text-xl font-bold mb-4">About Community Markers</h3>
                        <p>Explore the rich history of Minnesota through our interactive map. Discover historical landmarks, stories, and community contributions that shape our state's heritage.</p>
                    </div>
                </div>
            </div>
        </section>

        <section id="timeline" class="section">
            <h2 class="text-3xl font-bold mb-8">Minnesota Through Time</h2>
            <div class="timeline">
                <div class="timeline-item left">
                    <div class="timeline-content">
                        <h2>1858</h2>
                        <p>Minnesota becomes the 32nd U.S. state</p>
                    </div>
                </div>
                <div class="timeline-item right">
                    <div class="timeline-content">
                        <h2>1889</h2>
                        <p>First iron ore shipment leaves the Mesabi Range</p>
                    </div>
                </div>
                <div class="timeline-item left">
                    <div class="timeline-content">
                        <h2>1922</h2>
                        <p>WCCO Radio begins broadcasting</p>
                    </div>
                </div>
                <div class="timeline-item right">
                    <div class="timeline-content">
                        <h2>1960</h2>
                        <p>The Minnesota Vikings join the NFL</p>
                    </div>
                </div>
            </div>
        </section>

        <section id="gallery" class="section">
            <h2 class="text-3xl font-bold mb-8">Historical Photo Gallery</h2>
            <div class="swiper mySwiper">
                <div class="swiper-wrapper">
                    <div class="swiper-slide">
                        <img src="https://picsum.photos/300/300?random=1" alt="Historical Photo 1">
                    </div>
                    <div class="swiper-slide">
                        <img src="https://picsum.photos/300/300?random=2" alt="Historical Photo 2">
                    </div>
                    <div class="swiper-slide">
                        <img src="https://picsum.photos/300/300?random=3" alt="Historical Photo 3">
                    </div>
                    <div class="swiper-slide">
                        <img src="https://picsum.photos/300/300?random=4" alt="Historical Photo 4">
                    </div>
                </div>
                <div class="swiper-pagination"></div>
            </div>
        </section>

        <section id="contact" class="section">
            <h2 class="text-3xl font-bold mb-8">Contact Us</h2>
            <form id="contact-form">
                <input type="text" placeholder="Your Name" required>
                <input type="email" placeholder="Your Email" required>
                <textarea placeholder="Your Message" rows="5" required></textarea>
                <button type="submit" class="btn-primary">Send Message</button>
            </form>
        </section>
    </div>

    <footer>
        <p>&copy; 2023 Minnesota Then - Community Markers. All rights reserved.</p>
    </footer>

    <div id="welcome-popup" class="hidden">
        <h2 class="text-2xl font-bold mb-4">Welcome to Minnesota Then</h2>
        <p>Embark on a journey through time and explore the rich tapestry of Minnesota's history. Our interactive map and community markers bring the past to life, allowing you to discover the stories that shaped our great state.</p>
        <button id="close-popup" class="btn-primary mt-4">Start Your Journey</button>
    </div>

    <script src="https://unpkg.com/leaflet@1.7.1/dist/leaflet.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/swiper@8/swiper-bundle.min.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const map = L.map('map').setView([46.7296, -94.6859], 7);
            L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
                attribution: '© OpenStreetMap contributors'
            }).addTo(map);

            const sidebar = document.getElementById('sidebar');
            const welcomePopup = document.getElementById('welcome-popup');
            const closePopupBtn = document.getElementById('close-popup');

            welcomePopup.classList.remove('hidden');

            closePopupBtn.addEventListener('click', function() {
                welcomePopup.classList.add('hidden');
            });

            // Simulate marker data
            const markers = [
                { lat: 44.9778, lng: -93.2650, title: "Minneapolis", description: "The largest city in Minnesota, known for its parks and lakes." },
                { lat: 44.9537, lng: -93.0900, title: "St. Paul", description: "The state capital, featuring beautiful historic architecture." },
                { lat: 46.7867, lng: -92.1005, title: "Duluth", description: "A major port city on Lake Superior with a rich maritime history." },
                { lat: 43.9845, lng: -92.4699, title: "Rochester", description: "Home to the world-renowned Mayo Clinic." },
                { lat: 45.5579, lng: -94.1632, title: "St. Cloud", description: "Known as 'The Granite City' due to its history of granite quarrying." }
            ];

            markers.forEach(markerData => {
                const marker = L.marker([markerData.lat, markerData.lng]).addTo(map);
                marker.bindPopup(`<b>${markerData.title}</b><br>${markerData.description}`);
            });

            // Add click event to map for adding new markers
            map.on('click', function(e) {
                const newMarker = L.marker(e.latlng).addTo(map);
                newMarker.bindPopup("New historical marker");
            });

            // Toggle sidebar
            document.getElementById('login-btn').addEventListener('click', function() {
                sidebar.classList.toggle('open');
            });

            // City search functionality
            document.getElementById('city-search').addEventListener('keypress', function(e) {
                if (e.key === 'Enter') {
                    const cityName = this.value;
                    // In a real application, you would use a geocoding service here
                    alert(`Searching for historical markers in: ${cityName}`);
                }
            });

            // Initialize Swiper
            new Swiper(".mySwiper", {
                effect: "coverflow",
                grabCursor: true,
                centeredSlides: true,
                slidesPerView: "auto",
                coverflowEffect: {
                    rotate: 50,
                    stretch: 0,
                    depth: 100,
                    modifier: 1,
                    slideShadows: true,
                },
                pagination: {
                    el: ".swiper-pagination",
                },
            });

            // Smooth scrolling for navigation links
            document.querySelectorAll('a[href^="#"]').forEach(anchor => {
                anchor.addEventListener('click', function (e) {
                    e.preventDefault();
                    document.querySelector(this.getAttribute('href')).scrollIntoView({
                        behavior: 'smooth'
                    });
                });
            });

            // Form submission (for demonstration)
            document.getElementById('contact-form').addEventListener('submit', function(e) {
                e.preventDefault();
                alert('Thank you for your message! We will get back to you soon.');
                this.reset();
            });
        });
    </script>
</body>
</html>
