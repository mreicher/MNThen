<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Minnesota Then</title>
    
    <!-- Favicon -->
    <link rel="shortcut icon" type="image/x-icon" href="https://www.mnthen.com/images/mnthenfav.ico">

    <link href="https://fonts.googleapis.com/css2?family=Roboto+Slab:wght@700&display=swap" rel="stylesheet">
    
    <!-- Bootstrap 5.3.2 CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
    
    <!-- Font Awesome 6.5.2 -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css">
    
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500;700;900&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200" rel="stylesheet">
    
    <style>
/* Header Base Styles */
header {
  background: #ffffff;
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.08);
}

.navbar {
  padding: 1rem 5%;
  background: #ffffff;
}

/* Brand Styling */
.navbar-brand {
  padding: 0;
}

.navbar-brand a {
  font-family: var(--bs-font-sans-serif);
  font-size: 1.75rem;
  color: #212529;
  text-decoration: none;
  font-weight: 600;
}

/* Navigation Links */
.navbar-links ul {
  display: flex;
  margin: 0;
  padding: 0;
  list-style: none;
  align-items: center;
  gap: 1.5rem;
}

.navbar-links li a {
  color: #495057;
  text-decoration: none;
  font-size: 1rem;
  font-weight: 500;
  padding: 0.5rem 0;
}

/* Dropdown Styling */
.dropdown-menu {
  padding: 1rem 0;
  border: none;
  box-shadow: 0 4px 16px rgba(0, 0, 0, 0.1);
  border-radius: 8px;
}

.dropdown-item {
  padding: 0.75rem 1.5rem;
}

.dropdown-item h5 {
  margin: 0;
  font-size: 0.95rem;
  font-weight: 500;
  color: #495057;
}

/* Login Button Styling */
.donate-btn {
  background-color: #0d6efd;
  color: #ffffff;
  padding: 0.8rem 1.5rem;
  text-decoration: none;
  display: inline-flex;
  align-items: center;
  gap: 0.5rem;
}

.donate-btn i {
  font-size: 0.9rem;
}

.donate-btn span span {
  margin: 0 0.5rem;
  opacity: 0.8;
}

/* Horizontal Rule */
.centered-hr {
  margin: 0.5rem auto;
  width: 90%;
  opacity: 0.1;
}

/* Mobile Toggle Button */
.toggle-button {
  display: none;
  flex-direction: column;
  justify-content: space-between;
  width: 24px;
  height: 18px;
  padding: 0;
}

.toggle-button .bar {
  height: 2px;
  width: 100%;
  background-color: #212529;
  border-radius: 2px;
}

/* Mobile Responsive Design */
@media (max-width: 991px) {
  .toggle-button {
    display: flex;
  }

  .navbar-links {
    display: none;
    width: 100%;
    padding-top: 1rem;
  }

  .navbar-links.show {
    display: block;
  }

  .navbar-links ul {
    flex-direction: column;
    align-items: flex-start;
    gap: 1rem;
  }

  .dropdown-menu {
    width: 100%;
    margin-top: 0.5rem;
    position: static !important;
    transform: none !important;
    box-shadow: none;
    border: 1px solid rgba(0, 0, 0, 0.08);
  }

  .donate-btn {
    width: 100%;
    justify-content: center;
    margin-top: 0.5rem;
  }
}

/* Bootstrap 5 Compatibility Fixes */
.navbar {
  --bs-navbar-padding-y: 0;
}

.navbar-brand {
  --bs-navbar-brand-margin-end: 0;
}

.dropdown-menu {
  --bs-dropdown-border-width: 0;
}

.dropdown-item:active {
  background-color: rgba(13, 110, 253, 0.1);
}
    </style>
</head>
<body>
  <!-- Header section -->
  <header>
    <nav class="navbar">
      <div class="navbar-brand">
        <a href="/index.html">
          <!-- <img src="logo.png" alt="Minnesota Then"> -->
          Minnesota Then
        </a>
      </div>
      <a href="#" class="toggle-button">
        <span class="bar"></span>
        <span class="bar"></span>
        <span class="bar"></span>
      </a>
      <div class="navbar-links">
        <ul>
          <li><a href="/blog.html" class="px-1">Blog</a></li>
          <li><a href="/faq.html" class="px-1">Help Center</a></li>
          <li><a href="/podcast.html" class="px-1">Podcast</a></li>
          <li class="dropdown">
            <a href="#" class="px-1 dropdown-toggle">Contribute</a>
            <div class="dropdown-menu">
              <div class="container">
                <a href="/donate.html" class="dropdown-item">
                  <h5>Make a Donation</h5>
                </a>
                <hr class="centered-hr">
                <a href="#" class="dropdown-item">
                  <h5>Join our Patreon</h5>
                </a>
                <hr class="centered-hr">
                <a href="https://mnthen.com/markers.html" class="dropdown-item">
                  <h5>Community Markers</h5>
                </a>
              </div>
            </div>
          </li>
          <li><a href="#" class="donate-btn rounded-pill px-3" id="account-link">
              <i class="fas fa-user"></i>
              <span>Log In <span>|</span> Register</span>
            </a>
          </li>
        </ul>
      </div>
    </nav>
  </header>
 

    <!-- Bootstrap 5.3.2 JS Bundle -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>

    <!-- Load Firebase SDK -->

<script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-app.js"></script>
<script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-auth.js"></script>

  <script>
const dropdownToggle = document.querySelector('.dropdown-toggle');
const dropdownMenu = document.querySelector('.dropdown-menu');

dropdownToggle.addEventListener('click', function() {
  dropdownMenu.classList.toggle('show');
});

// Add event listener to the entire document
document.addEventListener('click', function(event) {
  // Check if the clicked element is not the dropdown toggle or a child of the dropdown menu
  if (!event.target.matches('.dropdown-toggle') && !event.target.closest('.dropdown-menu')) {
    // If not, close the dropdown menu
    dropdownMenu.classList.remove('show');
  }
});

const toggleButton = document.querySelector('.toggle-button');
const navbarLinks = document.querySelector('.navbar-links');

toggleButton.addEventListener('click', () => {
  navbarLinks.classList.toggle('active');
});

document.addEventListener('click', (event) => {
  const isClickInsideNavbarLinks = navbarLinks.contains(event.target);
  const isClickInsideToggleButton = toggleButton.contains(event.target);

  if (!isClickInsideNavbarLinks && !isClickInsideToggleButton && navbarLinks.classList.contains('active')) {
    navbarLinks.classList.remove('active');
  }
});

    document.addEventListener('DOMContentLoaded', function() {
        var citationIcon = document.getElementById('citationIcon');
        var citationModal = new bootstrap.Modal(document.getElementById('citationModal'));

        citationIcon.addEventListener('click', function() {
            citationModal.show();
        });

        // For desktop: show modal on hover
        if (window.matchMedia("(min-width: 768px)").matches) {
            citationIcon.addEventListener('mouseenter', function() {
                citationModal.show();
            });
        }
    });

// Your web app's Firebase configuration
const firebaseConfig = {
  apiKey: "AIzaSyBDUAF3qJGhLYQJPHyWwY0JzonN5l8ERzE",
  authDomain: "mnthen-3151d.firebaseapp.com",
  projectId: "mnthen-3151d",
  storageBucket: "mnthen-3151d.appspot.com",
  messagingSenderId: "416231360428",
  appId: "1:416231360428:web:36f69cc231be2d84a8dc09"
};

// Initialize Firebase
const app = firebase.initializeApp(firebaseConfig);
const auth = firebase.auth();

// Check if user is authenticated
firebase.auth().onAuthStateChanged((user) => {
  const accountLink = document.getElementById('account-link');
  if (user) {
       accountLink.href = '/account.html';
    // User is logged in, update the link text to "Account Info"
    accountLink.innerHTML = '<i class="fas fa-user-circle" style="margin-right: 5px"></i><span> Account Info</span>';
  } else {
      accountLink.href = '/login.html';
    // User is not logged in, revert the link text back to "Log In | Register"
    accountLink.innerHTML = '<i class="fas fa-user" style="margin-right: 5px"></i><span> Log In <span>|</span> Register</span>';
  }
});

(function() {
    const carousel = document.getElementById('blogCarousel');
    const slides = carousel.querySelectorAll('.mnt-carousel-slide');
    const indicators = carousel.querySelectorAll('.mnt-indicator');
    const prevButton = carousel.querySelector('.mnt-prev');
    const nextButton = carousel.querySelector('.mnt-next');

    let currentSlide = 0;

    function showSlide(n) {
        slides[currentSlide].classList.remove('mnt-active');
        indicators[currentSlide].classList.remove('mnt-active');
        currentSlide = (n + slides.length) % slides.length;
        slides[currentSlide].classList.add('mnt-active');
        indicators[currentSlide].classList.add('mnt-active');
    }

    prevButton.addEventListener('click', () => {
        showSlide(currentSlide - 1);
    });

    nextButton.addEventListener('click', () => {
        showSlide(currentSlide + 1);
    });

    indicators.forEach((indicator, index) => {
        indicator.addEventListener('click', () => {
            showSlide(index);
        });
    });
})();
</script>
</body>
</html>
