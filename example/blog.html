<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
  <meta name="keywords" content="Minnesota, history, walking tours, interactive, landmarks, neighborhoods">
  <title>Minnesota Then | Blog</title>
  <link rel="shortcut icon" type="image/x-icon" href="https://www.mnthen.com/images/mnthenfav.ico">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://www.mnthen.com/css/dropdown.css">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css">
  <style>
    :root {
      --primary-navy: #002B49;
      --primary-blue: #00A3E0;
      --text-dark: #002B49;
      --text-muted: #86A1B5;
      --text-secondary: #6c757d;
      --bg-light: #f8fbfd;
      --border-light: #e9ecef;
      --white: #ffffff;
    }

    body {
        background: #f5f7fa;
      font-family: "Inter", system-ui, -apple-system, sans-serif;
      color: var(--text-dark);
      line-height: 1.6;
    }

/* Search Section Styles */
.mnt-primary-nav {
  background: linear-gradient(135deg, rgba(43, 76, 126, 0.9), rgba(43, 76, 126, 0.7)), url('https://www.mnthen.com/images/bg/bg-thin.jpg') center/cover no-repeat;
  padding: 1.5rem 0;
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.025);
}

.mnt-search-form {
  max-width: 600px;
  margin: 0 auto;
  position: relative;
}

.mnt-search-wrapper {
  background-color: #ffffff;
  border-radius: 30px;
  padding: 0.25rem;
  box-shadow: 0 2px 8px rgba(0, 43, 73, 0.025);
}

.mnt-search-input {
  flex: 1;
  border: none;
  outline: none;
  font-size: 1rem;
  padding: 0.75rem 1rem;
  width: 100%;
  color: #002B49;
  border-radius: 30px;
}

.mnt-search-input::placeholder {
  color: #86A1B5;
}

.mnt-search-input:focus {
  background-color: #f8fbfd;
}

.mnt-clear-button {
  background: none;
  border: none;
  color: #86A1B5;
  cursor: pointer;
  padding: 8px;
  border-radius: 4px;
  transition: all 0.2s ease;
}

.mnt-clear-button:hover {
  background-color: #f0f5f9;
  color: #002B49;
}

.mnt-search-button {
  color: #00A3E0;
  transition: all 0.2s ease;
}

.mnt-search-button:hover {
  color: #002B49;
}

/* Responsive adjustments */
@media (max-width: 768px) {
  .mnt-primary-nav {
    padding: 1rem 0;
  }

  .mnt-search-wrapper {
    margin: 0 1rem;
  }

  .mnt-search-input {
    font-size: 0.95rem;
  }
}

/* Carousel container */
.carousel-container {
  border-radius: 12px; /* Slightly rounded corners */
  overflow: hidden; /* Ensure rounded corners are visible */
}

/* Carousel inner container */
.carousel-inner {
  border-radius: 12px; /* Slightly rounded corners */
}

/* Carousel item */
.carousel-item {
  position: relative;
  border-radius: 12px; /* Slightly rounded corners */
}

/* Carousel image */
.carousel-item img {
  width: 100%;
  height: auto;
  border-radius: 12px; /* Slightly rounded corners */
}

/* Black overlay at the bottom of each card */
.carousel-item::after {
  content: "";
  position: absolute;
  bottom: 0;
  left: 0;
  width: 100%;
  height: 50%; /* Adjust the height of the overlay */
  background: linear-gradient(to top, rgba(0, 0, 0, 0.8), rgba(0, 0, 0, 0));
  border-radius: 12px; /* Match the rounded corners */
}

/* Carousel captions */
.carousel-caption {
  position: absolute;
  bottom: 20px;
  left: 20px;
  right: 20px;
  text-align: left;
  color: #fff;
  z-index: 1;
}

.carousel-caption h5 {
  font-size: 1.5rem;
  font-weight: bold;
  margin-bottom: 0.5rem;
}

.carousel-caption p {
  font-size: 1rem;
  margin-bottom: 0;
}

/* Carousel controls */
.carousel-control-prev,
.carousel-control-next {
  width: 5%;
  opacity: 0.8;
  transition: opacity 0.3s ease;
}

.carousel-control-prev:hover,
.carousel-control-next:hover {
  opacity: 1;
}

.carousel-control-prev-icon,
.carousel-control-next-icon {
  background-color: rgba(0, 0, 0, 0.5);
  border-radius: 50%;
  padding: 10px;
}

/* Responsive adjustments */
@media (max-width: 768px) {
  .carousel-caption h5 {
    font-size: 1.25rem;
  }

  .carousel-caption p {
    font-size: 0.875rem;
  }
}

/* Recent Articles Container */
.recent-articles-card-body {
  border-radius: 12px; 
  height: 490px; /* Fixed height */
  padding: 1.5rem;
  display: flex;
  flex-direction: column;
}

/* Card Title */
.recent-articles-card-body .card-title {
  font-size: 1rem;
  font-weight: 700;
  color: #333;
  margin-bottom: 1rem;
}
    
.recent-articles {
    overflow-y: auto;
}

/* Individual Article Item */
.article-item {
    display: flex;
    gap: .75rem;
    padding: 0.75rem 0;
    border-bottom: 1px solid #e9ecef;
}

.article-item:last-child {
    border-bottom: none;
}

.article-image-container {
    flex: 0 0 100px;
    height: 70px;
}

.article-image {
    width: 65px;
    height: 65px;
    object-fit: cover;
    border-radius: 6px;
}

.article-content {
    flex: 1;
}

.article-title {
    font-size: 0.45rem;
    font-weight: 500;
    color: #002B49;
    margin-bottom: 0.20rem;
    display: -webkit-box;
    -webkit-line-clamp: 2;
    -webkit-box-orient: vertical;
    overflow: hidden;
}

.article-date {
    font-size: 0.8rem;
    color: #6c757d;
}

.recent-article-content h4 {
  font-size: .75rem;
  font-weight: 600;
  margin-bottom: 0.45rem;
  color: #333;
}

.recent-article-content p {
  font-size: 0.7rem;
  color: #666;
  margin-bottom: 0;
}

/* Read More Link */
.read-more-link {
    margin-top: auto;
}

.read-more-link a {
    color: #00A3E0;
    font-size: 0.9rem;
    font-weight: 500;
    transition: color 0.2s ease;
}

.read-more-link a:hover {
    color: #002B49;
}

/* Custom Scrollbar for Recent Articles */
.recent-articles::-webkit-scrollbar {
    width: 6px;
}

.recent-articles::-webkit-scrollbar-track {
    background: #f1f1f1;
    border-radius: 3px;
}

.recent-articles::-webkit-scrollbar-thumb {
    background: #c1c1c1;
    border-radius: 3px;
}

.recent-articles::-webkit-scrollbar-thumb:hover {
    background: #a1a1a1;
}

/* Mobile Optimizations */
@media (max-width: 991.98px) {
    .card {
        height: auto;
        min-height: 400px;
    }

    .article-image-container {
        flex: 0 0 80px;
        height: 60px;
    }

    .article-title {
        font-size: 0.9rem;
    }

    .card-body {
        padding: 1rem;
    }

    .card-title {
        font-size: 1.25rem;
        margin-bottom: 1rem;
    }
}

/* Hover Effects */
.article-item {
    transition: background-color 0.2s ease;
}

.article-item:hover {
    background-color: #f8fbfd;
    cursor: pointer;
}

.article-item:hover .article-title {
    color: #00A3E0;
}

/* Additional Enhancements */
.carousel-item {
    transition: transform 0.6s ease-in-out;
}

.recent-article-item:hover {
    background-color: #f8fbfd;
    cursor: pointer;
}

/* Spotlight Section Container */
.container.py-3 {
  padding-top: 2rem;
  padding-bottom: 2rem;
}

/* Spotlight Card */
.card.shadow-sm {
  border-radius: 12px; /* Slightly rounded corners */
  border: none; /* Remove default border */
  transition: transform 0.3s ease, box-shadow 0.3s ease;
}

.card.shadow-sm:hover {
  transform: translateY(-5px); /* Lift the card on hover */
  box-shadow: 0 8px 24px rgba(0, 0, 0, 0.15); /* Stronger shadow on hover */
}

/* Card Body */
.card-body {
  padding: 1.5rem;
}

/* Spotlight Header */
.d-flex.justify-content-between {
  align-items: center;
  margin-bottom: 1.5rem;
}

.card-title {
  font-size: 1.75rem;
  font-weight: 700;
  color: #333;
  margin: 0;
}

.read-more-link {
  font-size: 0.9rem;
  font-weight: 500;
  color: #007bff; /* Primary color */
  text-decoration: none;
  transition: color 0.3s ease;
}

.read-more-link:hover {
  color: #0056b3; /* Darker shade on hover */
}

/* Spotlight Grid */
.spotlight-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); /* Responsive grid */
  gap: 1.5rem; /* Spacing between items */
}

/* Spotlight Item */
.spotlight-item {
  display: block;
  text-decoration: none;
  color: inherit; /* Inherit text color */
  transition: transform 0.3s ease, box-shadow 0.3s ease;
  border-radius: 8px;
  overflow: hidden;
  background-color: #f9f9f9;
}

.spotlight-item:hover {
  transform: translateY(-5px); /* Lift the item on hover */
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
}

/* Spotlight Image */
.spotlight-item img {
  width: 100%;
  height: 150px;
  object-fit: cover;
  border-radius: 8px 8px 0 0;
}

/* Spotlight Content */
.spotlight-content {
  padding: 1rem;
}

.spotlight-content h4 {
  font-size: 1.1rem;
  font-weight: 600;
  margin-bottom: 0.5rem;
  color: #333;
}

.spotlight-content p {
  font-size: 0.9rem;
  color: #666;
  margin: 0;
}

/* History Hub Card */
.card2 {
  background-color: #fff;
  border-radius: 12px; /* Slightly rounded corners */
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
  transition: transform 0.3s ease, box-shadow 0.3s ease;
  height: 100%;
}

.card2:hover {
  transform: translateY(-5px); /* Lift the card on hover */
  box-shadow: 0 8px 24px rgba(0, 0, 0, 0.15); /* Stronger shadow on hover */
}

/* Card Body */
.card2 .card-body {
  padding: 1.5rem;
}

/* History Hub Title */
.card2 .card-title {
  font-size: 1.75rem;
  font-weight: 700;
  color: #333;
  margin-bottom: 1rem;
}

/* History Hub Description */
.card2 .text-muted {
  font-size: 0.9rem;
  color: #666;
  margin-bottom: 1.5rem;
}

/* History Hub Grid */
.history-hub-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); /* Responsive grid */
  gap: 1.5rem; /* Spacing between items */
}

/* History Hub Item */
.history-hub-item {
  display: block;
  text-decoration: none;
  color: inherit; /* Inherit text color */
  transition: transform 0.3s ease, box-shadow 0.3s ease;
  border-radius: 8px;
  overflow: hidden;
  background-color: #f9f9f9;
}

.history-hub-item:hover {
  transform: translateY(-5px); /* Lift the item on hover */
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
}

/* History Hub Image */
.history-hub-item img {
  width: 100%;
  height: 150px;
  object-fit: cover;
  border-radius: 8px 8px 0 0;
}

/* History Hub Content */
.history-hub-content {
  padding: 1rem;
}

.history-hub-content h4 {
  font-size: 1.1rem;
  font-weight: 600;
  margin-bottom: 0.5rem;
  color: #333;
}

.history-hub-content p {
  font-size: 0.9rem;
  color: #666;
  margin: 0;
}

/* Responsive Adjustments */
@media (max-width: 768px) {
  .spotlight-grid, .history-hub-grid {
    grid-template-columns: repeat(auto-fit, minmax(150px, 1fr)); /* Adjust for smaller screens */
  }

  .card-title {
    font-size: 1.5rem;
  }

  .read-more-link {
    font-size: 0.8rem;
  }
}

/* Today in History Section */
.today-in-history {
  background-color: #E6ECF5; /* Light blue background */
  padding: 40px 0; /* Vertical padding */
  margin-top: 2rem; /* Space above the section */
}

/* Container Fluid */
.container-fluid {
  max-width: 1200px; /* Limit the width for better readability */
  margin: 0 auto; /* Center the container */
  padding: 0 15px; /* Horizontal padding */
}

/* Row Layout */
.row.justify-content-center {
  display: flex;
  flex-wrap: wrap;
  align-items: center; /* Center items vertically */
}

/* Image Column */
.col-md-4 img {
  border: none;
}

/* Content Column */
.col-md-8 {
  padding-left: 2rem; /* Space between image and content */
}

/* Section Title */
.section-title {
  font-size: 2rem;
  font-weight: 700;
  color: #333;
  margin-bottom: 1rem;
}

/* Today Date */
#today-date {
  font-size: 1.25rem;
  font-weight: 500;
  color: #666;
  margin-bottom: 1rem;
}

/* Today in History Section */
.today-in-history {
  background-color: #d3d3d3;
  padding: 60px 0;
  position: relative;
}

.today-in-history::before {
  content: "";
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  height: 8px;
  background-color: #0077b6;
}

.today-in-history .container-fluid {
  width: 90%;
  max-width: 1200px;
  margin: 0 auto;
  padding: 0 15px;
}

.today-in-history .section-title {
  font-size: 1.75rem;
  font-weight: 600;
  color: #333;
  margin-bottom: 10px;
  text-transform: uppercase;
  text-align: center;
  letter-spacing: 1px;
}

.today-in-history #today-in-history-content {
  background-color: #fff;
  padding: 30px;
  border-radius: 10px;
  box-shadow: 0 2px 10px rgba(0, 0, 0, 0.025);
  height: 250px;
}

.today-in-history #today-in-history-content p {
  font-size: 1.125rem;
  line-height: 1.5;
  margin-bottom: 10px;
}

.today-in-history #today-in-history-content p strong {
  font-weight: 700;
  color: #d9534f;
}

/* Date Display */
#today-date {
  text-align: center;
  font-size: 18px;
  font-weight: bold;
  margin-bottom: 20px;
}

@media (max-width: 991.98px) {
  .card2 {
    display: none;
  }
}
  </style>
</head>
<body>
  <div id="header-placeholder"></div>

  <div class="flex-grow-1" style="margin-top: 70px">
    <main class="main-content">
      <nav class="mnt-primary-nav">
        <div class="container-fluid">
          <form class="mnt-search-form" id="searchForm">
            <div class="mnt-search-wrapper" style="display: flex; align-items: center;">
              <input type="search" id="searchInput" class="mnt-search-input" placeholder="Search Blog Articles..." aria-label="Search" autocomplete="off">
              <button type="button" id="clearSearchBtn" class="mnt-clear-button" aria-label="Clear search" style="margin-left: 8px;"></button>
              <button type="submit" id="searchButton" class="mnt-search-button" aria-label="Initiate search" style="margin-left: 8px; padding: 8px 12px; border: none; background-color: transparent; cursor: pointer;">
                <i class="fa-solid fa-magnifying-glass" style="font-size: 16px;"></i>
              </button>
            </div>
          </form>
        </div>
      </nav>

      <div class="container py-4" style="margin-top: 2rem;">
        <div class="row g-4 mb-3">
          <div class="col-lg-6">
            <div class="carousel-container position-relative">
              <div id="mainCarousel" class="carousel slide shadow rounded h-100" data-bs-ride="carousel" data-bs-interval="10000">
                <div class="carousel-indicators"></div>
                <div class="carousel-inner" id="carouselInner">
                  <!-- Carousel items will be dynamically inserted here by JavaScript -->
                </div>
                <button class="carousel-control-prev" type="button" data-bs-target="#mainCarousel" data-bs-slide="prev">
                  <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                  <span class="visually-hidden">Previous</span>
                </button>
                <button class="carousel-control-next" type="button" data-bs-target="#mainCarousel" data-bs-slide="next">
                  <span class="carousel-control-next-icon" aria-hidden="true"></span>
                  <span class="visually-hidden">Next</span>
                </button>
              </div>
            </div>
          </div>

          <div class="col-lg-6">
            <div class="card h-100">
              <div class="card-body d-flex flex-column recent-articles-card-body">
                <h4 class="card-title border-bottom pb-2 mb-3" style="font-size: 20px">Recent Articles</h4>
                <div class="recent-articles flex-grow-1" id="relatedArticles">
                  <!-- Articles will be dynamically inserted here by JavaScript -->
                </div>
                <div class="read-more-link mt-2 text-end">
                  <a href="https://mnthen.com/results.html?query=all" class="text-decoration-none">
                    Read More <span aria-hidden="true">&gt;</span>
                  </a>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>

      <div class="container py-3">
        <div class="row g-4">
          <div class="col-lg-6">
            <div class="card h-100">
              <div class="card-body">
                <div class="d-flex justify-content-between border-bottom align-items-center pb-2 mb-3">
                  <h4 class="card-title mb-0" style="font-size: 20px">Spotlight: St. Paul</h4>
                  <a href="https://mnthen.com/results.html?query=saint%20paul" class="read-more-link">Read More &gt;</a>
                </div>
                <div class="spotlight-grid" id="spotlightGrid"></div>
              </div>
            </div>
          </div>
          <div class="col-lg-6">
            <div class="card h-100">
              <div class="card-body">
                <h4 class="card-title border-bottom pb-2 mb-3" style="font-size: 20px">History Hub</h4>
                <p class="text-muted">History Hub is where you'll find a collection of stories grouped by specific topics, making it easy to explore Minnesota's past one subject at a time.</p>
                <div class="history-hub-grid" id="historyHubGrid"></div>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- Today in History Section -->
      <div class="today-in-history" style="background-color: #E6ECF5; padding: 40px 0; margin-top: 2rem;">
        <div class="container-fluid">
          <div class="row justify-content-center">
            <div class="col-md-4">
              <img src="/images/otd_blog.png" alt="Historical Image" class="img-fluid">
            </div>
            <div class="col-md-8">
              <h2 class="section-title">Today in Minnesota History</h2>
              <div id="today-date"></div>
              <div id="today-in-history-content"></div>
            </div>
          </div>
        </div>
      </div>
    </main>
  </div>

    <div id="footer-placeholder"></div>
  
<!-- Keep only these essential scripts in this order -->
<script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.8/dist/umd/popper.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
<script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-app.js"></script>
<script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-database.js"></script>


<script>
document.addEventListener('DOMContentLoaded', function() {
 const firebaseConfig = {
   apiKey: "AIzaSyBDUAF3qJGhLYQJPHyWwY0JzonN5l8ERzE",
   authDomain: "mnthen-3151d.firebaseapp.com", 
   projectId: "mnthen-3151d",
   storageBucket: "mnthen-3151d.appspot.com",
   messagingSenderId: "416231360428",
   appId: "1:416231360428:web:36f69cc231be2d84a8dc09"
 };

 if (typeof firebase !== 'undefined') {
   firebase.initializeApp(firebaseConfig);
 }

 const spotlightData = {
   topic: "St. Paul",
   articles: [
     {
       image: "https://mnthen.com/tour/hamm/gallery/mansion/hamm_mansion5.jpg",
       title: "Theodore Hamm Mansion (c. 1886 - 1954)",
       url: "https://mnthen.com/blog/place/stp_hamm_mansion.html"
     },
     {
       image: "https://mnthen.com/images/exhibit/hamms_bear.jpg", 
       title: "Hamm's Bear (1953 - 1999)",
       url: "https://mnthen.com/blog/people/hamms_bear.html"
     },
     {
       image: "https://mnthen.com/images/prom1.jpg",
       title: "Prom Ballroom (1941 - 1987)", 
       url: "https://mnthen.com/blog/place/prom.html"
     },
     {
       image: "https://mnthen.com/images/bones.jpg",
       title: "Michael Allen 'Bones' Hartzell (1947 - 2018)",
       url: "https://mnthen.com/blog/people/bones.html"
     },
     {
       image: "https://mnthen.com/images/exhibit/caprath.jpg",
       title: "State Capitol Rathskeller",
       url: "https://mnthen.com/blog/place/caprath.html"
     },
     {
       image: "https://mnthen.com/images/gangster/clifford/clifford1.jpg",
       title: "Clifford, Nina (1851 - 1929)",
       url: "https://mnthen.com/blog/people/clifford.html"
     }
   ]
 };

 const historyHubData = [
   {
     image: "https://mnthen.com/images/merriam_house.jpg",
     title: "Grand Homes",
     description: "Read about the state's historic mansions, homes, and the lives within.",
     url: "https://mnthen.com/results.html?query=mansion"
   },
   {
     image: "https://mnthen.com/images/gangster_bremer_kidnap1.jpg",
     title: "Notorious Gangsters", 
     description: "Uncover the stories of infamous public enemies, their exploits, and last legacies.",
     url: "https://mnthen.com/results.html?query=gangster"
   },
   {
     image: "https://mnthen.com/images/weckman.jpg",
     title: "Interesting Minnesotans",
     description: "Learn about interesting Minnesotans whose contributions positively impacted their communities.",
     url: "https://mnthen.com/results.html?query=person"
   },
   {
     image: "https://mnthen.com/images/matthews.jpg",
     title: "Historical True Crime",
     description: "Explore captivating Minnesota true crime cases, uncovering unsolved mysteries and chilling historical events.",
     url: "https://mnthen.com/results.html?query=true+crime"
   }
 ];

 const articleData = {
   carouselItems: [
     {
       image: "https://mnthen.com/tour/hamm/gallery/mansion/hamm_mansion5.jpg",
       title: "Hamm Mansion (c. 1886 - 1954)",
       url: "https://mnthen.com/blog/place/stp_hamm_mansion.html"
     },
     {
       image: "https://mnthen.com/locations/gallery/mpls/premium/mpls_grain_belt_1.jpg",
       title: "Grain Belt Beer Sign",
       url: "https://mnthen.com/blog/place/mpls_grain_belt.html"  
     },
     {
       image: "https://mnthen.com/images/fire_1893.jpg",
       title: "Great Northeast Minneapolis Fire (1893)",
       url: "https://mnthen.com/blog/event/NE_fire_1893.html"
     }
   ],
   relatedArticles: [
     {
       image: "https://mnthen.com/images/fire_1893.jpg",
       title: "Great Northeast Minneapolis Fire (1893)",
       url: "https://mnthen.com/blog/event/NE_fire_1893.html",
       blurb: "A devastating fire that changed the face of Northeast Minneapolis forever."
     },
     {
       image: "https://mnthen.com/images/nyes.jpg", 
       title: "Nye's Polonaise (1950 - 2016)",
       url: "https://mnthen.com/blog/place/nyes.html",
       blurb: "The beloved Minneapolis institution known for its Polish food and unique atmosphere."
     },
     {
       image: "https://mnthen.com/images/northfield.jpg",
       title: "Northfield Bank Raid (September 7, 1876)", 
       url: "https://mnthen.com/blog/event/northfield.html",
       blurb: "In 1876, the infamous James-Younger gang's bold Northfield bank raid unraveled disastrously."
     }
   ]
 };

 function initializeTodayInHistory() {
   const today = new Date();
   const month = (today.getMonth() + 1).toString().padStart(2, '0');
   const date = today.getDate().toString().padStart(2, '0');
   const dateElement = document.getElementById('today-date');
   const contentDiv = document.getElementById('today-in-history-content');

   if (dateElement) {
     const options = { month: 'long', day: 'numeric' };
     dateElement.textContent = today.toLocaleDateString('en-US', options);
   }

   if (contentDiv && typeof firebase !== 'undefined') {
     const formattedDate = `${month}-${date}`;
     const historicalEventRef = firebase.database().ref('date-info/' + formattedDate);
     
     historicalEventRef.once('value')
       .then((snapshot) => {
         const historicalEvents = snapshot.val();
         
         if (historicalEvents) {
           const sortedKeys = Object.keys(historicalEvents).sort();
           const htmlStrings = sortedKeys.map(key => {
             const event = historicalEvents[key];
             return `<p><strong>${event.year}:</strong> ${event.snippet}</p>`;
           });
           contentDiv.innerHTML = htmlStrings.join('');
         } else {
           contentDiv.innerHTML = `<p>No historical events found for this date.</p>`;
         }
       })
       .catch((error) => {
         console.error('Error fetching historical events:', error);
         contentDiv.innerHTML = '<p>An error occurred while fetching data.</p>';
       });
   }
 }

 function initializeSpotlight() {
   const spotlightGrid = document.getElementById('spotlightGrid');
   if (!spotlightGrid) return;

   const spotlightHTML = spotlightData.articles.map(article => `
     <div class="spotlight-item">
       <a href="${article.url}" class="text-decoration-none">
         <img src="${article.image}" alt="${article.title}">
         <h5 class="text-dark" style="font-size: 18px">${article.title}</h5>
       </a>
     </div>
   `).join('');
   
   spotlightGrid.innerHTML = spotlightHTML;
 }

 function initializeHistoryHub() {
   const historyHubGrid = document.getElementById('historyHubGrid');
   if (!historyHubGrid) return;

   const hubHTML = historyHubData.map(item => `
     <div class="history-hub-item">
       <a href="${item.url}" class="text-decoration-none">
         <img src="${item.image}" alt="${item.title}">
         <h5 class="text-dark" style="font-size: 18px">${item.title}</h5>
               <p class="text-muted">${item.description}</p>
       </a>
     </div>
   `).join('');
   
   historyHubGrid.innerHTML = hubHTML;
 }

 function initializeArticleCarousel() {
   const carouselInner = document.getElementById('carouselInner');
   const indicatorsContainer = document.querySelector('.carousel-indicators');
   
   if (!carouselInner || !indicatorsContainer) return;

   const carouselHTML = articleData.carouselItems.map((item, index) => `
     <div class="carousel-item ${index === 0 ? 'active' : ''}">
       <a href="${item.url}">
         <img src="${item.image}" class="d-block w-100" alt="${item.title}">
         <div class="carousel-caption">
           <h5 style="font-size: 18px">${item.title}</h5>
         </div>
       </a>
     </div>
   `).join('');

   const indicatorsHTML = articleData.carouselItems.map((_, index) => `
     <button type="button" 
             data-bs-target="#mainCarousel" 
             data-bs-slide-to="${index}" 
             ${index === 0 ? 'class="active" aria-current="true"' : ''}
             aria-label="Slide ${index + 1}">
     </button>
   `).join('');

   carouselInner.innerHTML = carouselHTML;
   indicatorsContainer.innerHTML = indicatorsHTML;

   if (typeof bootstrap !== 'undefined') {
     new bootstrap.Carousel(document.getElementById('mainCarousel'), {
       interval: 10000,
       wrap: true,
       touch: true
     });
   }
 }

function setupSearch() {
  const searchForm = document.getElementById('searchForm');
  const searchInput = document.getElementById('searchInput');
  const clearSearchBtn = document.getElementById('clearSearchBtn');
  
  if (!searchForm || !searchInput || !clearSearchBtn) return;

  // Show/hide clear button based on input content
  searchInput.addEventListener('input', () => {
    clearSearchBtn.style.display = searchInput.value ? 'block' : 'none';
  });

  // Clear search input
  clearSearchBtn.addEventListener('click', () => {
    searchInput.value = '';
    clearSearchBtn.style.display = 'none';
    searchInput.focus();
  });

  // Handle form submission
  searchForm.addEventListener('submit', (e) => {
    e.preventDefault();
    handleSearch();
  });
}

function handleSearch() {
  const searchInput = document.getElementById('searchInput');
  const query = searchInput?.value.trim();
  
  if (query) {
    window.location.href = `https://mnthen.com/results.html?query=${encodeURIComponent(query)}`;
  }
}

 function initializeRelatedArticles() {
   const relatedArticlesContainer = document.getElementById('relatedArticles');
   if (!relatedArticlesContainer) return;

   const articlesHTML = articleData.relatedArticles.map(article => `
     <div class="article-item">
       <img src="${article.image}" class="article-image" alt="${article.title}">
       <div class="article-content">
         <h5><a href="${article.url}" class="text-decoration-none text-dark">${article.title}</a></h5>
         <p>${article.blurb}</p>
       </div>
     </div>
   `).join('');
   
   relatedArticlesContainer.innerHTML = articlesHTML;
 }

 function initializeTooltips() {
   if (typeof bootstrap === 'undefined') return;
   
   const tooltipTriggerList = [].slice.call(document.querySelectorAll('[data-bs-toggle="tooltip"]'));
   tooltipTriggerList.map(function (tooltipTriggerEl) {
     return new bootstrap.Tooltip(tooltipTriggerEl);
   });
 }

function initializeNavigation() {
  const mobileMenuBtn = document.querySelector('.mnthen-mobile-menu');
  const mainNav = document.querySelector('.mnthen-nav');
  const dropdownBtns = document.querySelectorAll('.mnthen-dropdown-btn');
  let isMenuOpen = false;

  if (mobileMenuBtn && mainNav) {
    // Mobile menu toggle
    mobileMenuBtn.addEventListener('click', function(e) {
      e.stopPropagation();
      isMenuOpen = !isMenuOpen;
      this.classList.toggle('active');
      mainNav.classList.toggle('active');
    });

    // Handle dropdown buttons
    dropdownBtns.forEach(btn => {
      btn.addEventListener('click', function(e) {
        e.preventDefault();
        e.stopPropagation();
        
        // Close other dropdowns
        dropdownBtns.forEach(otherBtn => {
          if (otherBtn !== btn) {
            otherBtn.classList.remove('active');
            otherBtn.nextElementSibling?.classList.remove('active');
          }
        });
        
        this.classList.toggle('active');
        const dropdownContent = this.nextElementSibling;
        if (dropdownContent) {
          dropdownContent.classList.toggle('active');
        }
      });
    });

    // Close menu when clicking outside
    document.addEventListener('click', function(e) {
      if (isMenuOpen && !e.target.closest('.mnthen-nav') && !e.target.closest('.mnthen-mobile-menu')) {
        mainNav.classList.remove('active');
        mobileMenuBtn.classList.remove('active');
        isMenuOpen = false;
      }
    });

    // Handle window resize
    window.addEventListener('resize', function() {
      if (window.innerWidth > 768) {
        mainNav.classList.remove('active');
        mobileMenuBtn.classList.remove('active');
        isMenuOpen = false;
        
        dropdownBtns.forEach(btn => {
          btn.classList.remove('active');
          btn.nextElementSibling?.classList.remove('active');
        });
      }
    });
  }
}

 Promise.all([
   fetch('/section/header.html').then(response => response.text()),
   fetch('/section/footer.html').then(response => response.text())
 ])
 .then(([headerData, footerData]) => {
   const headerPlaceholder = document.getElementById('header-placeholder');
   const footerPlaceholder = document.getElementById('footer-placeholder');
   
   if (headerPlaceholder) headerPlaceholder.innerHTML = headerData;
   if (footerPlaceholder) footerPlaceholder.innerHTML = footerData;

   setTimeout(initializeNavigation, 0);
 })
 .catch(error => {
   console.error('Error loading content:', error);
   const headerPlaceholder = document.getElementById('header-placeholder');
   if (headerPlaceholder) {
     headerPlaceholder.innerHTML = '<p>Error loading content. Please refresh the page.</p>';
   }
 });

 initializeTodayInHistory();
 initializeSpotlight();
 initializeHistoryHub(); 
 initializeArticleCarousel();
 initializeRelatedArticles();
 initializeTooltips();
 setupSearch();
});

window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'G-0M8KR45LDB');
</script>

<script async src="https://www.googletagmanager.com/gtag/js?id=G-0M8KR45LDB"></script>
  
</body>
</html>
