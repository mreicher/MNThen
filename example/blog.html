<!DOCTYPE html>
<html lang="en">
<head>

  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
  <meta name="keywords" content="Minnesota, history, walking tours, interactive, landmarks, neighborhoods">
  <title>Minnesota Then | Blpg</title>
<link rel="shortcut icon" type="image/x-icon" href="https://www.mnthen.com/images/mnthenfav.ico">

        <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">
  
        <link rel="stylesheet" href="https://www.mnthen.com/css/dropdown.css">

    <!-- Bootstrap 5.3.2 CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
  
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css">
    
  <style>
:root {
  --primary-color: #2563eb;
  --secondary-color: #1e40af;
  --text-primary: #1f2937;
  --text-secondary: #4b5563;
  --background-light: #f8fafc;
  --shadow-sm: 0 1px 2px 0 rgb(0 0 0 / 0.05);
  --shadow-md: 0 4px 6px -1px rgb(0 0 0 / 0.1);
  --shadow-lg: 0 10px 15px -3px rgb(0 0 0 / 0.1);
  --transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
}

/* Base Styles */
html, body {
  height: 100%;
  margin: 0;
  padding: 0;
  background: var(--background-light);
  font-family: 'Inter', system-ui, -apple-system, sans-serif;
  color: var(--text-primary);
  line-height: 1.5;
}

/* Layout */
body {
  display: flex;
  flex-direction: column;
  min-height: 100vh;
}

main {
  flex: 1 0 auto;
  margin-top: 130px;
  padding: 2rem 0;
}

.container-fluid {
  max-width: 1400px;
  margin: 0 auto;
  padding: 0 2rem;
}

/* Navigation */
.mnt-primary-nav {
  position: fixed;
  top: 70px;
  left: 0;
  right: 0;
  background: rgba(255, 255, 255, 0.95);
  backdrop-filter: blur(8px);
  border-bottom: 1px solid rgba(0, 0, 0, 0.05);
  padding: 1rem 0;
  z-index: 1030;
  box-shadow: var(--shadow-sm);
}

.navbar-nav {
  display: flex;
  gap: 1.5rem;
  align-items: center;
  margin: 0;
  padding: 0;
}

/* Navigation Links */
.mnt-nav-link {
  color: var(--text-primary);
  font-weight: 500;
  font-size: 0.95rem;
  padding: 0.5rem 0;
  text-decoration: none;
  transition: var(--transition);
  position: relative;
}

.nav-link-underline {
  position: absolute;
  bottom: -2px;
  left: 0;
  width: 0;
  height: 2px;
  background-color: var(--primary-color);
  transition: width 0.2s ease-in-out;
}

.mnt-nav-link:hover {
  color: var(--primary-color);
}

.mnt-nav-link:hover .nav-link-underline {
  width: 100%;
}

/* Search Form */
.mnt-search-form {
  margin-left: auto;
  width: 300px;
}

.mnt-search-input {
  width: 100%;
  padding: 0.75rem 2.5rem 0.75rem 1.25rem;
  border: 1px solid rgba(0, 0, 0, 0.08);
  border-radius: 12px;
  background-color: rgba(255, 255, 255, 0.95);
  transition: var(--transition);
  font-size: 0.95rem;
}

.mnt-search-input:focus {
  outline: none;
  border-color: var(--primary-color);
  box-shadow: 0 0 0 3px rgba(37, 99, 235, 0.1);
  background-color: white;
}

/* Cards and Content */
.card {
  background: white;
  border-radius: 16px;
  border: none;
  box-shadow: var(--shadow-md);
  transition: var(--transition);
}

.card:hover {
  transform: translateY(-2px);
  box-shadow: var(--shadow-lg);
}

.card-title {
  color: var(--text-primary);
  font-size: 1.25rem;
  font-weight: 600;
  padding-bottom: 1rem;
  margin-bottom: 1.5rem;
  border-bottom: 2px solid #f1f5f9;
}

/* Article Items */
.article-item {
  display: flex;
  gap: 1.25rem;
  padding-bottom: 1.25rem;
  margin-bottom: 1.25rem;
  border-bottom: 1px solid #e2e8f0;
}

.article-image {
  width: 100px;
  height: 100px;
  object-fit: cover;
  border-radius: 12px;
  box-shadow: var(--shadow-sm);
}

.article-content h5 {
  font-size: 1.1rem;
  font-weight: 600;
  margin-bottom: 0.5rem;
  line-height: 1.4;
}

.article-content h5 a {
  color: var(--text-primary);
  text-decoration: none;
  transition: var(--transition);
}

.article-content h5 a:hover {
  color: var(--primary-color);
}

/* Carousel */
.carousel-item img {
  height: 450px;
  object-fit: cover;
  border-radius: 16px;
}

.carousel-caption {
  background: linear-gradient(0deg, rgba(0, 0, 0, 0.8) 0%, rgba(0, 0, 0, 0) 100%);
  border-radius: 0 0 16px 16px;
  padding: 2rem;
}

/* Today in History Section */
.today-in-history {
  background: linear-gradient(135deg, #f8fafc 0%, #e2e8f0 100%);
  padding: 4rem 0;
  position: relative;
}

.today-in-history::before {
  content: "";
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  height: 4px;
  background: linear-gradient(90deg, var(--primary-color), var(--secondary-color));
}

#today-in-history-content {
  background: white;
  padding: 2rem;
  border-radius: 16px;
  box-shadow: var(--shadow-lg);
}

/* Responsive Design */
@media (max-width: 991.98px) {
  .container-fluid {
    padding: 0 1rem;
  }
  
  .mnt-search-form {
    width: 100%;
    margin-top: 1rem;
  }
  
  .carousel-item img {
    height: 350px;
  }
}

@media (max-width: 575.98px) {
  main {
    margin-top: 110px;
  }
  
  .card-title {
    font-size: 1.1rem;
  }
  
  .article-image {
    width: 80px;
    height: 80px;
  }
}

/* Buttons */
.btn {
  padding: 0.75rem 1.5rem;
  font-weight: 500;
  border-radius: 12px;
  transition: var(--transition);
}

.btn-primary {
  background-color: var(--primary-color);
  border: none;
}

.btn-primary:hover {
  background-color: var(--secondary-color);
  transform: translateY(-2px);
  box-shadow: 0 4px 12px rgba(37, 99, 235, 0.2);
}

.btn-outline-secondary {
  border: 2px solid #e2e8f0;
  color: var(--text-secondary);
}

.btn-outline-secondary:hover {
  background-color: var(--primary-color);
  border-color: var(--primary-color);
  color: white;
}
    </style>
  
</head>
<body>
<!-- header -->
<div id="header-placeholder"></div>
             
<div class="flex-grow-1">
  <main class="main-content">
    <nav class="mnt-primary-nav">
      <div class="container-fluid">    
        <form class="mnt-search-form" id="searchForm">
          <div class="mnt-search-wrapper">
            <input 
              type="search" 
              id="searchInput" 
              class="mnt-search-input" 
              placeholder="Search Minnesota history..." 
              aria-label="Search"
              autocomplete="off"
            >
          </div>
        </form>
      </div>
    </nav>

    <br>
     <div class="container py-4" style="margin-top: 2rem;">
       <div class="row g-4 mb-3">
         <div class="col-lg-6">
           <div class="carousel-container position-relative">
             <div id="mainCarousel" class="carousel slide shadow rounded h-100" data-bs-ride="carousel" data-bs-interval="10000">
           <div class="carousel-indicators"> 
               </div>
               
               <div class="carousel-inner" id="carouselInner">
               </div>
               
               <button class="carousel-control-prev" type="button" data-bs-target="#mainCarousel" data-bs-slide="prev">
                 <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                 <span class="visually-hidden">Previous</span>
               </button>
               <button class="carousel-control-next" type="button" data-bs-target="#mainCarousel" data-bs-slide="next">
                 <span class="carousel-control-next-icon" aria-hidden="true"></span>
                 <span class="visually-hidden">Next</span>
               </button>
             </div>
           </div>
         </div>
         
         <div class="col-lg-6">
           <div class="card shadow-sm h-100">
             <div class="card-body d-flex flex-column">
               <h3 class="card-title border-bottom pb-2 mb-3">Recent Articles</h3>
               <div class="recent-articles flex-grow-1" id="relatedArticles">
               </div>
               <div class="read-more-link mt-2 text-end">
                 <a href="https://mnthen.com/results.html?query=all" class="text-decoration-none">
                   Read More <span aria-hidden="true">&gt;</span>
                 </a>
               </div>
             </div>
           </div>
         </div>
       </div>
     </div>

     <div class="container py-3">
       <div class="row g-4">
         <div class="col-lg-6">
           <div class="card shadow-sm h-100">
             <div class="card-body">
               <div class="d-flex justify-content-between border-bottom align-items-center pb-2 mb-3">
                 <h3 class="card-title mb-0">Spotlight: St. Paul</h3>
                 <a href="https://mnthen.com/results.html?query=saint%20paul" class="read-more-link">Read More &gt;</a>
               </div>
               <div class="spotlight-grid" id="spotlightGrid">
               </div>
             </div>
           </div>
         </div>

         <div class="col-lg-6">
  <div class="card shadow-sm h-100">
    <div class="card-body">
      <h3 class="card-title border-bottom pb-2 mb-3">History Hub</h3>
      <p class="text-muted">History Hub is where you'll find a collection of stories grouped by specific topics, making it easy to explore Minnesota's past once subject at a time.</p>
      <div class="history-hub-grid" id="historyHubGrid">
      </div>
    </div>
  </div>
</div>
         

       </div>
     </div>

       <br>
       
     <div class="today-in-history" style="background-color: #E6ECF5; padding: 40px 0; margin-top: 2rem;">
       <div class="container-fluid">
         <div class="row justify-content-center">
           <div class="col-md-4">
             <img src="/images/otd_blog.png" alt="Historical Image" class="img-fluid">
           </div>
           <div class="col-md-8">
             <h2 class="section-title">Today in Minnesota History</h2>
             <div id="today-date"></div>
             <div id="today-in-history-content">
             </div>
           </div>
         </div>
       </div>
     </div>
   </main>
 </div>
  
<div class="container-fluid p-0">
<div id="footer-placeholder"></div>
</div>
</div>

<!-- Keep only these essential scripts in this order -->
<script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.8/dist/umd/popper.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
<script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-app.js"></script>
<script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-database.js"></script>


<script>
document.addEventListener('DOMContentLoaded', function() {
 const firebaseConfig = {
   apiKey: "AIzaSyBDUAF3qJGhLYQJPHyWwY0JzonN5l8ERzE",
   authDomain: "mnthen-3151d.firebaseapp.com", 
   projectId: "mnthen-3151d",
   storageBucket: "mnthen-3151d.appspot.com",
   messagingSenderId: "416231360428",
   appId: "1:416231360428:web:36f69cc231be2d84a8dc09"
 };

 if (typeof firebase !== 'undefined') {
   firebase.initializeApp(firebaseConfig);
 }

 const spotlightData = {
   topic: "St. Paul",
   articles: [
     {
       image: "https://mnthen.com/tour/hamm/gallery/mansion/hamm_mansion5.jpg",
       title: "Theodore Hamm Mansion (c. 1886 - 1954)",
       url: "https://mnthen.com/blog/place/stp_hamm_mansion.html"
     },
     {
       image: "https://mnthen.com/images/exhibit/hamms_bear.jpg", 
       title: "Hamm's Bear (1953 - 1999)",
       url: "https://mnthen.com/blog/people/hamms_bear.html"
     },
     {
       image: "https://mnthen.com/images/prom1.jpg",
       title: "Prom Ballroom (1941 - 1987)", 
       url: "https://mnthen.com/blog/place/prom.html"
     },
     {
       image: "https://mnthen.com/images/bones.jpg",
       title: "Michael Allen 'Bones' Hartzell (1947 - 2018)",
       url: "https://mnthen.com/blog/people/bones.html"
     },
     {
       image: "https://mnthen.com/images/exhibit/caprath.jpg",
       title: "State Capitol Rathskeller",
       url: "https://mnthen.com/blog/place/caprath.html"
     },
     {
       image: "https://mnthen.com/images/gangster/clifford/clifford1.jpg",
       title: "Clifford, Nina (1851 - 1929)",
       url: "https://mnthen.com/blog/people/clifford.html"
     }
   ]
 };

 const historyHubData = [
   {
     image: "https://mnthen.com/images/merriam_house.jpg",
     title: "Grand Homes",
     description: "Read about the state's historic mansions, homes, and the lives within.",
     url: "https://mnthen.com/results.html?query=mansion"
   },
   {
     image: "https://mnthen.com/images/gangster_bremer_kidnap1.jpg",
     title: "Notorious Gangsters", 
     description: "Uncover the stories of infamous public enemies, their exploits, and last legacies.",
     url: "https://mnthen.com/results.html?query=gangster"
   },
   {
     image: "https://mnthen.com/images/weckman.jpg",
     title: "Interesting Minnesotans",
     description: "Learn about interesting Minnesotans whose contributions positively impacted their communities.",
     url: "https://mnthen.com/results.html?query=person"
   },
   {
     image: "https://mnthen.com/images/matthews.jpg",
     title: "Historical True Crime",
     description: "Explore captivating Minnesota true crime cases, uncovering unsolved mysteries and chilling historical events.",
     url: "https://mnthen.com/results.html?query=true+crime"
   }
 ];

 const articleData = {
   carouselItems: [
     {
       image: "https://mnthen.com/tour/hamm/gallery/mansion/hamm_mansion5.jpg",
       title: "Hamm Mansion (c. 1886 - 1954)",
       url: "https://mnthen.com/blog/place/stp_hamm_mansion.html"
     },
     {
       image: "https://mnthen.com/locations/gallery/mpls/premium/mpls_grain_belt_1.jpg",
       title: "Grain Belt Beer Sign",
       url: "https://mnthen.com/blog/place/mpls_grain_belt.html"  
     },
     {
       image: "https://mnthen.com/images/fire_1893.jpg",
       title: "Great Northeast Minneapolis Fire (1893)",
       url: "https://mnthen.com/blog/event/NE_fire_1893.html"
     }
   ],
   relatedArticles: [
     {
       image: "https://mnthen.com/images/fire_1893.jpg",
       title: "Great Northeast Minneapolis Fire (1893)",
       url: "https://mnthen.com/blog/event/NE_fire_1893.html",
       blurb: "A devastating fire that changed the face of Northeast Minneapolis forever."
     },
     {
       image: "https://mnthen.com/images/nyes.jpg", 
       title: "Nye's Polonaise (1950 - 2016)",
       url: "https://mnthen.com/blog/place/nyes.html",
       blurb: "The beloved Minneapolis institution known for its Polish food and unique atmosphere."
     },
     {
       image: "https://mnthen.com/images/northfield.jpg",
       title: "Northfield Bank Raid (September 7, 1876)", 
       url: "https://mnthen.com/blog/event/northfield.html",
       blurb: "In 1876, the infamous James-Younger gang's bold Northfield bank raid unraveled disastrously."
     }
   ]
 };

 function initializeTodayInHistory() {
   const today = new Date();
   const month = (today.getMonth() + 1).toString().padStart(2, '0');
   const date = today.getDate().toString().padStart(2, '0');
   const dateElement = document.getElementById('today-date');
   const contentDiv = document.getElementById('today-in-history-content');

   if (dateElement) {
     const options = { month: 'long', day: 'numeric' };
     dateElement.textContent = today.toLocaleDateString('en-US', options);
   }

   if (contentDiv && typeof firebase !== 'undefined') {
     const formattedDate = `${month}-${date}`;
     const historicalEventRef = firebase.database().ref('date-info/' + formattedDate);
     
     historicalEventRef.once('value')
       .then((snapshot) => {
         const historicalEvents = snapshot.val();
         
         if (historicalEvents) {
           const sortedKeys = Object.keys(historicalEvents).sort();
           const htmlStrings = sortedKeys.map(key => {
             const event = historicalEvents[key];
             return `<p><strong>${event.year}:</strong> ${event.snippet}</p>`;
           });
           contentDiv.innerHTML = htmlStrings.join('');
         } else {
           contentDiv.innerHTML = `<p>No historical events found for this date.</p>`;
         }
       })
       .catch((error) => {
         console.error('Error fetching historical events:', error);
         contentDiv.innerHTML = '<p>An error occurred while fetching data.</p>';
       });
   }
 }

 function initializeSpotlight() {
   const spotlightGrid = document.getElementById('spotlightGrid');
   if (!spotlightGrid) return;

   const spotlightHTML = spotlightData.articles.map(article => `
     <div class="spotlight-item">
       <a href="${article.url}" class="text-decoration-none">
         <img src="${article.image}" alt="${article.title}">
         <h5 class="text-dark">${article.title}</h5>
       </a>
     </div>
   `).join('');
   
   spotlightGrid.innerHTML = spotlightHTML;
 }

 function initializeHistoryHub() {
   const historyHubGrid = document.getElementById('historyHubGrid');
   if (!historyHubGrid) return;

   const hubHTML = historyHubData.map(item => `
     <div class="history-hub-item">
       <a href="${item.url}" class="text-decoration-none">
         <img src="${item.image}" alt="${item.title}">
         <h5 class="text-dark">${item.title}</h5>
       </a>
       <p>${item.description}</p>
     </div>
   `).join('');
   
   historyHubGrid.innerHTML = hubHTML;
 }

 function initializeArticleCarousel() {
   const carouselInner = document.getElementById('carouselInner');
   const indicatorsContainer = document.querySelector('.carousel-indicators');
   
   if (!carouselInner || !indicatorsContainer) return;

   const carouselHTML = articleData.carouselItems.map((item, index) => `
     <div class="carousel-item ${index === 0 ? 'active' : ''}">
       <a href="${item.url}">
         <img src="${item.image}" class="d-block w-100" alt="${item.title}">
         <div class="carousel-caption">
           <h5>${item.title}</h5>
         </div>
       </a>
     </div>
   `).join('');

   const indicatorsHTML = articleData.carouselItems.map((_, index) => `
     <button type="button" 
             data-bs-target="#mainCarousel" 
             data-bs-slide-to="${index}" 
             ${index === 0 ? 'class="active" aria-current="true"' : ''}
             aria-label="Slide ${index + 1}">
     </button>
   `).join('');

   carouselInner.innerHTML = carouselHTML;
   indicatorsContainer.innerHTML = indicatorsHTML;

   if (typeof bootstrap !== 'undefined') {
     new bootstrap.Carousel(document.getElementById('mainCarousel'), {
       interval: 10000,
       wrap: true,
       touch: true
     });
   }
 }

function setupSearch() {
  const searchForm = document.getElementById('searchForm');
  const searchInput = document.getElementById('searchInput');
  const clearSearchBtn = document.getElementById('clearSearchBtn');
  
  if (!searchForm || !searchInput || !clearSearchBtn) return;

  // Show/hide clear button based on input content
  searchInput.addEventListener('input', () => {
    clearSearchBtn.style.display = searchInput.value ? 'block' : 'none';
  });

  // Clear search input
  clearSearchBtn.addEventListener('click', () => {
    searchInput.value = '';
    clearSearchBtn.style.display = 'none';
    searchInput.focus();
  });

  // Handle form submission
  searchForm.addEventListener('submit', (e) => {
    e.preventDefault();
    handleSearch();
  });
}

function handleSearch() {
  const searchInput = document.getElementById('searchInput');
  const query = searchInput?.value.trim();
  
  if (query) {
    window.location.href = `https://mnthen.com/results.html?query=${encodeURIComponent(query)}`;
  }
}

 function initializeRelatedArticles() {
   const relatedArticlesContainer = document.getElementById('relatedArticles');
   if (!relatedArticlesContainer) return;

   const articlesHTML = articleData.relatedArticles.map(article => `
     <div class="article-item">
       <img src="${article.image}" class="article-image" alt="${article.title}">
       <div class="article-content">
         <h5><a href="${article.url}" class="text-decoration-none text-dark">${article.title}</a></h5>
         <p>${article.blurb}</p>
       </div>
     </div>
   `).join('');
   
   relatedArticlesContainer.innerHTML = articlesHTML;
 }

 function initializeTooltips() {
   if (typeof bootstrap === 'undefined') return;
   
   const tooltipTriggerList = [].slice.call(document.querySelectorAll('[data-bs-toggle="tooltip"]'));
   tooltipTriggerList.map(function (tooltipTriggerEl) {
     return new bootstrap.Tooltip(tooltipTriggerEl);
   });
 }

function initializeNavigation() {
  const mobileMenuBtn = document.querySelector('.mnthen-mobile-menu');
  const mainNav = document.querySelector('.mnthen-nav');
  const dropdownBtns = document.querySelectorAll('.mnthen-dropdown-btn');
  let isMenuOpen = false;

  if (mobileMenuBtn && mainNav) {
    // Mobile menu toggle
    mobileMenuBtn.addEventListener('click', function(e) {
      e.stopPropagation();
      isMenuOpen = !isMenuOpen;
      this.classList.toggle('active');
      mainNav.classList.toggle('active');
    });

    // Handle dropdown buttons
    dropdownBtns.forEach(btn => {
      btn.addEventListener('click', function(e) {
        e.preventDefault();
        e.stopPropagation();
        
        // Close other dropdowns
        dropdownBtns.forEach(otherBtn => {
          if (otherBtn !== btn) {
            otherBtn.classList.remove('active');
            otherBtn.nextElementSibling?.classList.remove('active');
          }
        });
        
        this.classList.toggle('active');
        const dropdownContent = this.nextElementSibling;
        if (dropdownContent) {
          dropdownContent.classList.toggle('active');
        }
      });
    });

    // Close menu when clicking outside
    document.addEventListener('click', function(e) {
      if (isMenuOpen && !e.target.closest('.mnthen-nav') && !e.target.closest('.mnthen-mobile-menu')) {
        mainNav.classList.remove('active');
        mobileMenuBtn.classList.remove('active');
        isMenuOpen = false;
      }
    });

    // Handle window resize
    window.addEventListener('resize', function() {
      if (window.innerWidth > 768) {
        mainNav.classList.remove('active');
        mobileMenuBtn.classList.remove('active');
        isMenuOpen = false;
        
        dropdownBtns.forEach(btn => {
          btn.classList.remove('active');
          btn.nextElementSibling?.classList.remove('active');
        });
      }
    });
  }
}

 Promise.all([
   fetch('/section/header.html').then(response => response.text()),
   fetch('/section/footer.html').then(response => response.text())
 ])
 .then(([headerData, footerData]) => {
   const headerPlaceholder = document.getElementById('header-placeholder');
   const footerPlaceholder = document.getElementById('footer-placeholder');
   
   if (headerPlaceholder) headerPlaceholder.innerHTML = headerData;
   if (footerPlaceholder) footerPlaceholder.innerHTML = footerData;

   setTimeout(initializeNavigation, 0);
 })
 .catch(error => {
   console.error('Error loading content:', error);
   const headerPlaceholder = document.getElementById('header-placeholder');
   if (headerPlaceholder) {
     headerPlaceholder.innerHTML = '<p>Error loading content. Please refresh the page.</p>';
   }
 });

 initializeTodayInHistory();
 initializeSpotlight();
 initializeHistoryHub(); 
 initializeArticleCarousel();
 initializeRelatedArticles();
 initializeTooltips();
 setupSearch();
});

window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'G-0M8KR45LDB');
</script>

<script async src="https://www.googletagmanager.com/gtag/js?id=G-0M8KR45LDB"></script>
  
</body>
</html>
