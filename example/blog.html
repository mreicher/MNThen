<!DOCTYPE html>
<html lang="en">
<head>
    <!-- Google tag (gtag.js) -->

    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="keywords" content="Minnesota, history, walking tours, interactive, landmarks, neighborhoods">
    <title>Minnesota Then | Blog</title>
    <link rel="shortcut icon" type="image/x-icon" href="https://www.mnthen.com/images/mnthenfav.ico">

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
    
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css">
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=Roboto:wght@400;500;700;900&display=swap" rel="stylesheet">

    <style>

        /* Add these styles to ensure no gaps */
.separator-image {
    line-height: 0; /* Removes any line-height gaps */
    font-size: 0; /* Removes any font-size gaps */
}
        
header {
 background: #ffffff;
 box-shadow: 0 2px 8px rgba(0, 0, 0, 0.08);
}

.navbar {
 font-family: 'Inter', sans-serif;
 padding: 1rem 0;
 background: #ffffff;
}

/* Brand */
.navbar-brand {
 font-size: 1.75rem;
 font-weight: 600;
 letter-spacing: -0.5px;
 margin-left: 2rem;
}

/* Navigation */
.navbar-nav {
 gap: 0.5rem;
}

.nav-link {
 color: #495057;
 font-weight: 500;
 padding: 0.5rem 1rem;
 transition: color 0.2s;
}

.nav-link:hover {
 color: #0d6efd;
}

/* Dropdown */
.dropdown-menu {
 padding: 1rem 0;
 border: none;
 box-shadow: 0 4px 16px rgba(0, 0, 0, 0.1);
 border-radius: 8px;
}

.dropdown-item {
 padding: 0.75rem 1.5rem;
 font-weight: 500;
 color: #495057;
}

.dropdown-divider {
 margin: 0.5rem auto;
 width: 90%;
 opacity: 0.1;
}

/* Login Button */
#account-link {
 background-color: #0d6efd;
 color: #ffffff !important;
 padding: 0.8rem 1.5rem;
 font-weight: 600;
 margin-right: 1rem;
 transition: background-color 0.2s;
}

#account-link:hover {
 background-color: #0b5ed7;
}

#account-link i {
 margin-right: 0.5rem;
}
    </style>
</head>
<body>
<section class="explore-section py-5 bg-light">
   <div class="container position-relative">
       <div class="text-start mb-4">
           <h2 class="section-title mb-3">Explore</h2>
           <p class="section-subtitle text-muted">Lorem ipsum dolor sit amet consectetur adipisicing elit. Quibusdam voluptates architecto temporibus dolores reprehenderit placeat.</p>
       </div>

       <div class="topic-filters mb-4">
           <div class="d-flex justify-content-center flex-wrap">
               <button class="pill-btn active" data-filter="all">All Stories</button>
               <button class="pill-btn" data-filter="person">People</button>
               <button class="pill-btn" data-filter="place">Places</button>
               <button class="pill-btn" data-filter="event">Events</button>
               <button class="pill-btn" data-filter="culture">Culture</button>
           </div>
       </div>

       <div class="carousel-container px-5">
           <div id="exploreCarousel" class="carousel slide rounded-carousel" data-bs-ride="carousel" data-bs-interval="5000">
               <div class="carousel-inner" id="carouselContent"></div>
               <button class="carousel-control-prev custom-control" type="button" data-bs-target="#exploreCarousel" data-bs-slide="prev">
                   <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                   <span class="visually-hidden">Previous</span>
               </button>
               <button class="carousel-control-next custom-control" type="button" data-bs-target="#exploreCarousel" data-bs-slide="next">
                   <span class="carousel-control-next-icon" aria-hidden="true"></span>
                   <span class="visually-hidden">Next</span>
               </button>
               <div class="carousel-indicators custom-indicators" id="carouselIndicators"></div>
           </div>
       </div>
   </div>
</section>

<style>
.explore-section {
   --dark-blue: #1a365d;
}

.topic-filters .d-flex {
   gap: 1rem;
}

.carousel-container {
   max-width: 90%;
   margin: 0 auto;
}

.pill-btn {
   margin: 0.5rem;
   min-width: 120px;
   text-align: center;
}

.carousel-control-prev {
   left: -3rem;
}

.carousel-control-next {
   right: -3rem;
}

@media (max-width: 768px) {
   .topic-filters .d-flex {
       justify-content: flex-start !important;
       overflow-x: auto;
       padding: 0.5rem;
       gap: 0.5rem;
   }
   
   .pill-btn {
       margin: 0;
       min-width: auto;
   }
   
   .carousel-container {
       max-width: 100%;
       padding: 0 !important;
   }
}
</style>
  
<!-- Keep only these essential scripts in this order -->
<script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.8/dist/umd/popper.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
<script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-app.js"></script>
<script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-auth.js"></script>
    
<!-- Include required scripts -->
<script src="/blog_articles.js"></script>
<script>
window.addEventListener('load', function() {
    if (typeof blogArticles === 'undefined') {
        console.error('Blog articles not loaded');
        return;
    }

    const carousel = document.getElementById('carouselContent');
    const indicators = document.getElementById('carouselIndicators');
    const buttons = document.querySelectorAll('.pill-btn');
    const carouselElement = document.getElementById('exploreCarousel');
    let bsCarousel;

    function renderCarousel(articles) {
        let carouselHTML = '';
        let indicatorsHTML = '';

        articles.forEach((article, index) => {
            carouselHTML += `
                <div class="carousel-item ${index === 0 ? 'active' : ''}">
                    <div class="card border-0">
                        <div class="row g-0">
                            <div class="col-md-6">
                                <div class="card-img-wrapper">
                                    <img src="${article.image}" class="img-fluid h-100 w-100 object-fit-cover" alt="${article.headline}">
                                </div>
                            </div>
                            <div class="col-md-6">
                                <div class="card-body p-4 p-lg-5">
                                    <div class="badge mb-3">
                                        <i class="fas ${article.icon}"></i>
                                    </div>
                                    <h3 class="card-title mb-3">${article.headline}</h3>
                                    <p class="card-text">${article.blurb}</p>
                                    <a href="${article.url}" class="btn btn-primary mt-3">Read More</a>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            `;

            indicatorsHTML += `
                <button type="button" ${index === 0 ? 'class="active" aria-current="true"' : ''} 
                    data-bs-target="#exploreCarousel" 
                    data-bs-slide-to="${index}" 
                    aria-label="Slide ${index + 1}">
                </button>
            `;
        });

        carousel.innerHTML = carouselHTML;
        indicators.innerHTML = indicatorsHTML;

        if (bsCarousel) {
            bsCarousel.dispose();
        }
        
        bsCarousel = new bootstrap.Carousel(carouselElement, {
            interval: 10000,
            ride: 'carousel',
            wrap: true
        });
    }

    function filterArticles(category) {
        let filtered = category === 'all' 
            ? blogArticles 
            : blogArticles.filter(article => 
                article.keywords.some(keyword => keyword.toLowerCase() === category.toLowerCase())
              );
        renderCarousel(filtered);
    }

    buttons.forEach(button => {
        button.addEventListener('click', () => {
            buttons.forEach(btn => btn.classList.remove('active'));
            button.classList.add('active');
            filterArticles(button.dataset.filter);
        });
    });

    filterArticles('all');
});
</script>

<script>
document.addEventListener('DOMContentLoaded', function() {
   const carousel = document.getElementById('carouselContent');
   const indicators = document.getElementById('carouselIndicators');
   const buttons = document.querySelectorAll('.pill-btn');
   const carouselElement = document.getElementById('exploreCarousel');
   let bsCarousel;

   function renderCarousel(articles) {
       let carouselHTML = '';
       let indicatorsHTML = '';

       articles.forEach((article, index) => {
           carouselHTML += `
               <div class="carousel-item ${index === 0 ? 'active' : ''}">
                   <div class="card border-0">
                       <div class="row g-0">
                           <div class="col-md-6">
                               <div class="card-img-wrapper">
                                   <img src="${article.image}" class="img-fluid h-100 w-100 object-fit-cover" alt="${article.headline}">
                               </div>
                           </div>
                           <div class="col-md-6">
                               <div class="card-body p-4 p-lg-5">
                                   <div class="badge mb-3">
                                       <i class="fas ${article.icon}"></i>
                                   </div>
                                   <h3 class="card-title mb-3">${article.headline}</h3>
                                   <p class="card-text">${article.blurb}</p>
                                   <a href="${article.url}" class="btn btn-primary mt-3">Read More</a>
                               </div>
                           </div>
                       </div>
                   </div>
               </div>
           `;

           indicatorsHTML += `
               <button type="button" ${index === 0 ? 'class="active" aria-current="true"' : ''} 
                   data-bs-target="#exploreCarousel" 
                   data-bs-slide-to="${index}" 
                   aria-label="Slide ${index + 1}">
               </button>
           `;
       });

       carousel.innerHTML = carouselHTML;
       indicators.innerHTML = indicatorsHTML;

       if (bsCarousel) {
           bsCarousel.dispose();
       }
       
       bsCarousel = new bootstrap.Carousel(carouselElement, {
           interval: 5000,
           ride: 'carousel',
           wrap: true
       });
   }

   function filterArticles(category) {
       let filtered = category === 'all' 
           ? blogArticles 
           : blogArticles.filter(article => 
               article.keywords.some(keyword => keyword.toLowerCase() === category.toLowerCase())
             );
       renderCarousel(filtered);
   }

   buttons.forEach(button => {
       button.addEventListener('click', () => {
           buttons.forEach(btn => btn.classList.remove('active'));
           button.classList.add('active');
           filterArticles(button.dataset.filter);
       });
   });

   filterArticles('all');
});
</script>
</body>
</html>
