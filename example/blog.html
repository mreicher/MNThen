<!DOCTYPE html>
<html lang="en">
<head>

  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="keywords" content="Minnesota, history, walking tours, interactive, landmarks, neighborhoods">
  <title>Minnesota Then | Blpg</title>
<link rel="shortcut icon" type="image/x-icon" href="https://www.mnthen.com/images/mnthenfav.ico">

  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
         <link rel="stylesheet" href="https://mnthen.com/css/footer.css"> 
          <link rel="stylesheet" href="/css/index_page.css">
          <link rel="stylesheet" href="/css/new_header.css">
          <link rel="stylesheet" href="/css/navbar.css">
          
   
    <style>
    
    body {
    font-family: 'Roboto', sans-serif;
    background-color: #fafafa;
}

.justify-content-end {
  justify-content: flex-end !important;
}

.dropdown-menu {
  position: absolute;
  top: 100%;
  left: 90%;
  transform: translateX(-50%);
  width: 350px;
  background-color: #6c757d;
  box-shadow: 0 4px 10px rgba(0, 0, 0, 0.025);
  border-radius: 10px;
  padding: 10px;
  z-index: 1000;
  display: none;
}

/* Search bar */
.search-bar-container {
    background-image: url('https://www.mnthen.com/images/index_header.png');
    background-size: cover;
    background-position: center;
    background-repeat: no-repeat;
    height: 190px; /* Adjust the height as needed */
    display: flex;
    justify-content: center;
    align-items: center;
    position: relative;
}

.search-bar-container::before {
    content: "";
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background-color: rgba(0, 0, 0, 0.25); /* Adjust the opacity value as needed */
}

.search-bar {
    position: relative;
    z-index: 1; /* Ensure the search bar is above the overlay */
}

.search-bar {
    width: 70vw;
    margin: 0 auto;
    padding: 20px 0;
}

.search-bar .input-group {
    box-shadow: 0 0 10px rgba(0, 0, 0, 0.025);
    border-radius: 30px;
    overflow: hidden;
}

.search-bar .form-control {
    border: none;
    padding: 12px 20px;
    height: auto;
    border-radius: 30px 0 0 30px;
    font-size: 16px;
}

.search-bar .btn {
    border-radius: 0 30px 30px 0;
    padding: 10px 20px;
    font-size: 16px;
    background-color: #004a9a;
    color: #fff;
    border: none;
    cursor: pointer;
    transition: background-color 0.3s ease;
}

.search-bar .btn:hover {
     background-color: #0056b3;
}

.search-bar .btn i {
    margin-right: 5px;
}

.container {
    max-width: 1200px;
}

#mainCarousel {
    margin-bottom: 30px;
    padding: 2px;
    border: 2px solid #007bff;
}

#mainCarousel .carousel-inner {
    border: 4px solid #808080;
}

.carousel-image-container {
    height: 400px;
    overflow: hidden;
}

#mainCarousel .carousel-item img {
    object-fit: cover;
    height: 100%;
    width: 100%;
}

.carousel-caption {
    background-color: rgba(0, 0, 0, 0.7);
    left: 0;
    right: 0;
    bottom: 0;
    padding: 30px;
    text-align: left;
}

.carousel-caption h5 {
    margin: 0;
    font-size: 1.1rem;
    color: #ffffff;
}

.carousel-control-prev,
.carousel-control-next {
    width: 10%;
    opacity: 0.8;
}

.carousel-control-prev-icon,
.carousel-control-next-icon {
    background-color: rgba(0, 0, 0, 0.5);
    border-radius: 55%;
    padding: 15px;
}

@media (max-width: 768px) {
    .carousel-image-container {
        height: 300px;
    }
}

.recent-articles-box {
    border: 4px solid #808080; /* Grey border */
    position: relative;
    height: 418px; /* Match the height of the carousel */
}

.recent-articles-box::before {
    content: '';
    position: absolute;
    top: 0; /* Set top to 0 to remove shadow effect */
    left: 0; /* Set left to 0 to remove shadow effect */
    right: 0; /* Set right to 0 to remove shadow effect */
    bottom: 0; /* Set bottom to 0 to remove shadow effect */
    z-index: -1; /* Ensure the pseudo-element stays behind the box */
}

.recent-articles-header {
    color: #00008B; /* Dark blue */
    font-size: 1.3rem; /* Smaller size */
    margin-left: -15px; /* Move to the left */
}

.media-body h5 a {
    transition: color 0.2s; /* Smooth transition for hover effect */
    text-decoration: none;
}

.media-body h5 a:hover {
    color: #0000FF; /* Change link color on hover */
}

.spotlight-header {
    font-size: 24px;
    font-weight: 700;
    margin-top: -35px;
    margin-bottom: 15px;
    background-color: #007bff;
    color: #fff;
    padding: 10px 15px;
    border-radius: 8px;
    text-align: center;
}

.spotlight-card-link {
    text-decoration: none; /* Remove underline from the entire card link */
    color: inherit; /* Ensure the link inherits the color from its parent */
    display: block;
    border-radius: 10px;
    overflow: hidden;
    transition: box-shadow 0.3s ease, transform 0.3s ease; /* Add transform to transition */
}

.spotlight-card-link:hover {
    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
    transform: translateY(-2px); /* Slight upward movement on hover */
    color: inherit; /* Ensure the color does not change on hover */
    text-decoration: none; /* Ensure no underline on hover */
}

.spotlight-article {
    border: 1px solid #ccc;
    padding: 15px;
    border-radius: 10px;
    display: flex;
    flex-direction: column;
    height: 100%;
    text-decoration: none; /* Remove underline */
}

.spotlight-image {
    border-radius: 10px;
    width: 100%;
    height: auto;
}

.spotlight-title,
.spotlight-description {
    margin-top: 10px;
    color: inherit; /* Ensure the text inherits the color from its parent */
    text-decoration: none; /* Remove underline */
}

.spotlight-title {
    font-size: 20px;
    font-weight: bold;
    text-align: center;
}

.spotlight-description {
    flex-grow: 1;
}


/* Ensure all cards in a row have the same height */
.row {
    display: flex;
    flex-wrap: wrap;
}

.row > .col-md-3 {
    display: flex;
}

/* Today in Minnesota History Section */
.section-title {
    text-align: center;
}

#today-date {
    text-align: center;
    font-size: 18px;
    font-weight: bold;
    margin-top: 10px;
    margin-bottom: 15px;
}

.today-in-history {
    background-color: #d3d3d3;
    padding: 60px 0;
    position: relative;
}

.today-in-history::before {
    content: "";
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    height: 8px; /* Adjusted height for a thinner bar */
    background-color: #0077b6;
}

.today-in-history .container-fluid {
    width: 90%;
    max-width: 1200px; /* Set a maximum width for better control on larger screens */
    margin: 0 auto;
    padding: 0 15px; /* Added padding to align with Bootstrap's grid system */
}

.today-in-history .section-title {
    font-size: 1.75rem; 
    font-weight: 600;
    color: #333;
    margin-bottom: 10px;
    text-transform: uppercase;
    text-align: center;
    letter-spacing: 1px;
}

.today-in-history #today-in-history-content {
    background-color: #fff;
    padding: 30px;
    border-radius: 10px;
    box-shadow: 0 2px 10px rgba(0, 0, 0, 0.025); /* Increased shadow for a more pronounced effect */
    height: 250px;
}

.today-in-history #today-in-history-content p {
    font-size: 1.125rem; 
    line-height: 1.5;
    margin-bottom: 10px;
}

.today-in-history #today-in-history-content p strong {
    font-weight: 700;
    color: #d9534f;
}

.img-fluid {
    display: block;
    margin: 0 auto; /* Center the image */
.section-title {
    text-align: center;
}
#today-date {
    text-align: center;
    font-size: 18px;
    font-weight: bold;
    margin-bottom: 20px;
}

    </style>
</head>
<body>
    
<!-- Header section -->
<header>
  <nav class="navbar">
    <div class="navbar-brand">
      <a href="/index.html">
        <!-- <img src="logo.png" alt="Minnesota Then"> -->
        Minnesota Then
      </a>
    </div>
    <a href="#" class="toggle-button">
      <span class="bar"></span>
      <span class="bar"></span>
      <span class="bar"></span>
    </a>
    <div class="navbar-links">
      <ul>
        <li><a href="/blog.html" class="px-1">Blog</a></li>
        <li><a href="/faq.html" class="px-1">Help Center</a></li>
        <li class="dropdown">
          <a href="#" class="px-1 dropdown-toggle">Sponsor Us</a>
  <div class="dropdown-menu">
  <div class="container">
    <a href="#" class="dropdown-item">
      <h5>Donate to Us</h5>
    </a>
    <hr class="centered-hr">
    <a href="#" class="dropdown-item">
      <h5>Join our Patreon</h5>
    </a>
    <hr class="centered-hr">
    <a href="#" class="dropdown-item">
      <h5>Shop our Online Store</h5>
    </a>
  </div>
</div>
        </li>
        <li><a href="/upcoming_events.html" class="px-1">Upcoming Events</a></li>
        <li><a href="#" class="donate-btn rounded-pill px-3" id="account-link">
            <i class="fas fa-user"></i>
            <span>Log In <span>|</span> Register</span>
          </a>
        </li>
      </ul>
    </div>
  </nav>
</header>
  
<!-- search bar -->  
<div id="search-bar-container" class="search-bar-container">
<div class="search-bar">
    <form action="results.html" method="get">
        <div class="input-group">
            <input type="search" name="query" placeholder="Search blog articles..." class="form-control">
            <div class="input-group-append">
                <button type="submit" class="btn btn-primary">
                    <i class="fas fa-search"></i>
                </button>
            </div>
        </div>
    </form>
</div>
</div>
    
    <!-- Navigation Section -->
  <nav class="headerMenu navbar navbar-expand-lg navbar-light">
    <div class="container-fluid">
      <div id="headerMenuCollapse">
        <ul class="navbar-nav">
          <li class="nav-item">
            <a class="headerMenuItem nav-link" href="#">Home</a>
          </li>
          <li class="nav-item">
            <a class="headerMenuItem nav-link" href="#">Index</a>
          </li>
          <li class="nav-item dropdown">
            <a class="headerMenuItem nav-link dropdown-toggle" href="#" id="headerMenuDropdownLink" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
              Topics
            </a>
            <div class="headerMenuDropdown dropdown-menu" aria-labelledby="headerMenuDropdownLink">
              <div class="clearfix">
                <a href="#" class="headerMenuDropdownItem">Technology</a>
                <a href="#" class="headerMenuDropdownItem">Travel</a>
                <a href="#" class="headerMenuDropdownItem">Food</a>
                <a href="#" class="headerMenuDropdownItem">Health</a>
                <a href="#" class="headerMenuDropdownItem">Fashion</a>
                <a href="#" class="headerMenuDropdownItem">Sports</a>
              </div>
            </div>
          </li>
        </ul>
      </div>
    </div>
  </nav>

<!-- Carousel and Recent Articles Section -->
<div class="container mt-4" style="margin-bottom: -35px">
    <div class="row">
        <div class="col-md-6">
            <div id="mainCarousel" class="carousel slide" data-ride="carousel">
                <div class="carousel-inner">
                    <div class="carousel-item active">
                        <div class="carousel-image-container">
                    <a href="https://mnthen.com/blog/place/stp_hamm_mansion.html" style="text-decoration: none;">
        <img class="d-block w-100" src="https://mnthen.com/tour/hamm/gallery/mansion/hamm_mansion5.jpg" alt="First slide">
    </a>
                        </div>
                        <div class="carousel-caption">
                            <h5>Hamm Mansion (c. 1886 - 1954)</h5>
                        </div>
                    </div>
                    <div class="carousel-item">
                        <div class="carousel-image-container">
    <a href="https://mnthen.com/blog/place/mpls_grain_belt.html" style="text-decoration: none;">
        <img class="d-block w-100" src="https://mnthen.com/locations/gallery/mpls/premium/mpls_grain_belt_1.jpg" alt="First slide">
    </a>
                        </div>
                        <div class="carousel-caption">
                            <h5>Grain Belt Beer Sign</h5>
                        </div>
                    </div>
                    <div class="carousel-item">
                        <div class="carousel-image-container">
                   <a href="https://mnthen.com/blog/place/stp_summit_brewing.html" style="text-decoration: none;">
        <img class="d-block w-100" src="https://mnthen.com/markers/stp/summit/images/stp_summit_1.jpg" alt="First slide">
    </a>
                        </div>
                        <div class="carousel-caption">
                            <h5>Summit Brewing Company (1986 - )</h5>
                        </div>
                    </div>
                    <div class="carousel-item">
                        <div class="carousel-image-container">
               <a href="https://mnthen.com/blog/place/wildwood.html" style="text-decoration: none;">
        <img class="d-block w-100" src="https://mnthen.com/locations/gallery/mahtomedi/wildwood/wildwood_2.jpg" alt="Wildwood Amusemet Park">
    </a>
                        </div>
                        <div class="carousel-caption">
                            <h5>Wildwood Amusement Park</h5>
                        </div>
                    </div>
                </div>
                <a class="carousel-control-prev" href="#mainCarousel" role="button" data-slide="prev">
                    <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                    <span class="sr-only">Previous</span>
                </a>
                <a class="carousel-control-next" href="#mainCarousel" role="button" data-slide="next">
                    <span class="carousel-control-next-icon" aria-hidden="true"></span>
                    <span class="sr-only">Next</span>
                </a>
            </div>
        </div>
        
        <!-- Recent Articles Section --> 
        <div class="col-md-6">
            <div class="card recent-articles-box">
                <div class="card-body">
                    <h3 class="card-title mb-4 recent-articles-header">Recent Articles</h3>
                    <div class="media mb-4">
                        <img src="https://mnthen.com/tour/hamm/gallery/kidnap/hamm_kidnap1.jpg" class="mr-3 rounded" alt="Article 1" style="width: 100px; height: 100px; object-fit: cover;">
                        <div class="media-body">
                            <h5 class="mt-0"><a href="https://mnthen.com/blog/event/hamm_kidnap.html" class="text-dark">Kidnapping of William Hamm Jr. (June 15-19, 1933)</a></h5>
                            <p class="text-muted">Hamm's Brewing Co. President William Hamm Jr., grandson of Theodore Hamm, was abducted near his office in St. Paul on June 15, 1933.</p>
                        </div>
                    </div>
                    <div class="media">
                        <img src="https://mnthen.com/images/gangster/clifford/clifford1.jpg" class="mr-3 rounded" alt="Article 2: Nina Clifford" style="width: 100px; height: 100px; object-fit: cover;">
                        <div class="media-body">
                            <h5 class="mt-0"><a href="https://mnthen.com/blog/people/clifford.html" class="text-dark">Clifford, Nina (1851 - 1929)</a></h5>
                            <p class="text-muted">Nina (NINE-ah) Clifford's story began to unfold years before arriving in St. Paul. But it was here she truly rose to prominence.</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<div class="container mt-1">
        <div class="row">
            <!-- Spotlight Articles Section -->
            <div class="col-12">
                <h3 class="spotlight-header">Spotlight on Saint Paul</h3>

                <!-- First Row of Articles -->
                <div class="row">
                    <div class="col-md-3 mb-4">
                        <a href="https://mnthen.com/blog/people/eyedea_larsen.html" class="spotlight-card-link">
                            <div class="spotlight-article">
                                <img src="https://mnthen.com/images/wsp_eyedea.jpg" alt="Eyedea" class="img-fluid spotlight-image">
                                <h3 class="spotlight-title">Larsen, Michael "Eyedea" (1981 - 2010)</h3>
                                <p class="spotlight-description">In 2001, Eyedea & Abilities unveiled their debut album, "First Born," a project that showcased Larsen's philosophical and introspective lyrical style ...</p>
                            </div>
                        </a>
                    </div>
                    <div class="col-md-3 mb-4">
                        <a href="https://mnthen.com/blog/place/stp_hamm_mansion.html" class="spotlight-card-link">
                            <div class="spotlight-article">
                                <img src="https://mnthen.com/tour/hamm/gallery/mansion/hamm_mansion2.jpg" alt="Hamm Mansion" class="img-fluid spotlight-image">
                                <h3 class="spotlight-title">Hamm Mansion (c. 1886 - 1954)</h3>
                                <p class="spotlight-description">Overlooking Swede Hollow, the picturesque Theodore Hamm mansion was a crown jewel of the east side of St. Paul ...</p>
                            </div>
                        </a>
                    </div>
                    <div class="col-md-3 mb-4">
                        <a href="https://mnthen.com/blog/people/humphrey.html" class="spotlight-card-link">
                            <div class="spotlight-article">
                                <img src="https://mnthen.com/images/humphrey_header.jpg" alt="Hubert H Humphrey" class="img-fluid spotlight-image">
                                <h3 class="spotlight-title">Humphrey, Hubert H. (1911 - 1978)</h3>
                                <p class="spotlight-description">Hubert H. Humphrey, a towering figure in American politics during the mid-20th century, left an indelible mark on history...</p>
                            </div>
                        </a>
                    </div>
                    <div class="col-md-3 mb-4">
                        <a href="https://mnthen.com/blog/new_article.html" class="spotlight-card-link">
                            <div class="spotlight-article">
                                <img src="https://mnthen.com/images/new_image.jpg" alt="New Image" class="img-fluid spotlight-image">
                                <h3 class="spotlight-title">New Article Title</h3>
                                <p class="spotlight-description">This is a new article that we are adding to see how it fits into the layout...</p>
                            </div>
                        </a>
                    </div>
                </div>

                <!-- Second Row of Articles -->
                <div class="row">
                    <div class="col-md-3 mb-4">
                        <a href="https://mnthen.com/blog/new_article2.html" class="spotlight-card-link">
                            <div class="spotlight-article">
                                <img src="https://mnthen.com/images/new_image2.jpg" alt="New Image 2" class="img-fluid spotlight-image">
                                <h3 class="spotlight-title">New Article Title 2</h3>
                                <p class="spotlight-description">This is another new article for the second row...</p>
                            </div>
                        </a>
                    </div>
                    <div class="col-md-3 mb-4">
                        <a href="https://mnthen.com/blog/new_article3.html" class="spotlight-card-link">
                            <div class="spotlight-article">
                                <img src="https://mnthen.com/images/new_image3.jpg" alt="New Image 3" class="img-fluid spotlight-image">
                                <h3 class="spotlight-title">New Article Title 3</h3>
                                <p class="spotlight-description">Yet another article to fill the second row...</p>
                            </div>
                        </a>
                    </div>
                    <div class="col-md-3 mb-4">
                        <a href="https://mnthen.com/blog/new_article4.html" class="spotlight-card-link">
                            <div class="spotlight-article">
                                <img src="https://mnthen.com/images/new_image4.jpg" alt="New Image 4" class="img-fluid spotlight-image">
                                <h3 class="spotlight-title">New Article Title 4</h3>
                                <p class="spotlight-description">The fourth article in the second row...</p>
                            </div>
                        </a>
                    </div>
                    <div class="col-md-3 mb-4">
                        <a href="https://mnthen.com/blog/new_article5.html" class="spotlight-card-link">
                            <div class="spotlight-article">
                                <img src="https://mnthen.com/images/new_image5.jpg" alt="New Image 5" class="img-fluid spotlight-image">
                                <h3 class="spotlight-title">New Article Title 5</h3>
                                <p class="spotlight-description">The fifth article in the second row...</p>
                            </div>
                        </a>
                    </div>
                </div>
            </div>
        </div>
    </div>

<!-- Today in Minnesota History Section -->
<div class="today-in-history" style="background-color: #E6ECF5; padding: 40px 0;">
    <div class="container-fluid">
        <div class="row justify-content-center">
            <div class="col-md-4">
                <img src="/images/otd_blog.png" alt="Historical Image" class="img-fluid">
            </div>
            <div class="col-md-8">
                <h2 class="section-title">Today in Minnesota History</h2>
                <div id="today-date"></div>
                <div id="today-in-history-content">
                    <!-- Content will be loaded dynamically from Firebase -->
                </div>
            </div>
        </div>
    </div>
</div>

  <!-- Footer Section -->
<!-- Footer -->
<footer class="bg-primary text-white py-2">

    <div class="footer-container">

        <div class="row">

            <div class="col-md-4">

            <h3 style="font-family: 'Roboto', sans-serif; margin: 0; font-weight: 800;">

                    <span style="color: white;">Minnesota</span>

                    <span style="color: #132c33;">Then</span>

                </h3>

            </div>

            <div class="col-md-2">

                <h5>Who We Are</h5>

                <ul style="list-style: none; padding: 0;">

            <li><a href="/about.html" style="text-decoration: none; color: white;">About Us</a></li>

            <li><a href="/contact.html" style="text-decoration: none; color: white;">Contact Us</a></li>

            <li><a href="/privacy_terms.html" style="text-decoration: none; color: white;">ToS & Privacy</a></li>

                        <li><a href="#" style="text-decoration: none; color: white;">&nbsp;</a></li>

                </ul>

            </div>

            <div class="col-md-2">

                <h5>What We Do</h5>

                <ul style="list-style: none; padding: 0;">

                                        <li><a href="https://mnthen.com/blog.html" style="text-decoration: none; color: white;">Blog</a></li>

<li><a href="https://www.mnthen.com/article/thesis_project.pdf" target = "_blank" style="text-decoration: none; color: white;">Thesis Project</a></li>

                    <li><a href="#" style="text-decoration: none; color: white;">&nbsp;</a></li>

                    <li><a href="#" style="text-decoration: none; color: white;">&nbsp;</a></li>

                </ul>

            </div>

                       <div class="col-md-2">

                <h5>Resources</h5>

                <ul style="list-style: none; padding: 0;">


                    <li><a href="https://www.mnthen.com/works.html" style="text-decoration: none; color: white;">Learn the App</a></li>

                    <li><a href="https://www.buymeacoffee.com/mnthen" style="text-decoration: none; color: white;">Donations</a></li>

                    <li><a href="/faq.html" style="text-decoration: none; color: white;">Help Center</a></li>

              <li><a href="/resources.html" style="text-decoration: none; color: white;">Research Tools</a></li>


                </ul>

            </div>

            <div class="col-md-2">
                <div class="text-right">

                    <p class="text-white font-weight-bold mb-0 py-1" style="font-size: 32px; font-family: 'Roboto', sans-serif; margin: 0; font-weight: 900">Every Step Has a Story</p>

                </div>
            </div>
        </div>

        <hr class="mt-4">

        <div class="row">

     <div class="col-md-3 text-center mb-4">

                &copy; 2024 Minnesota Then. All rights reserved

            </div>

            <div class="col-md-3 text-center mb-4">

            </div>

            <div class="col-md-3 text-right mb-4 justify-content-end">

                <div class="social-icons">

                    <span class="follow-text">Connect:</span>

                    <a href="https://www.facebook.com/profile.php?id=100090355652945" target="_blank" class="text-white">

                        <i class="fab fa-facebook-f fa-lg"></i>

                    </a>

                    <span class="spacer">|</span>

                    <a href="https://twitter.com/minnesotathen" target="_blank" class="text-white">

                        <i class="fa-brands fa-x-twitter fa-lg"></i>

                    </a>

                    <span class="spacer">|</span>

                    <a href="https://www.linkedin.com/company/mnthen" target="_blank" class="text-white">

                        <i class="fab fa-linkedin-in fa-lg"></i>

                    </a>

                </div>
            </div>
        </div>
    </div>

</footer>

<!-- Include jQuery first -->
<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<!-- Then include Bootstrap JS -->
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.bundle.min.js"></script>

<!-- Firebase Integration (You'll need to set up Firebase and include the necessary scripts) -->
<script src="https://www.gstatic.com/firebasejs/8.6.5/firebase-app.js"></script>
<script src="https://www.gstatic.com/firebasejs/8.6.5/firebase-auth.js"></script>
<script src="https://www.gstatic.com/firebasejs/8.6.5/firebase-database.js"></script>

<script>
const dropdownToggle = document.querySelector('.dropdown-toggle');
const dropdownMenu = document.querySelector('.dropdown-menu');

dropdownToggle.addEventListener('click', function() {
  dropdownMenu.classList.toggle('show');
});

// Add event listener to the entire document
document.addEventListener('click', function(event) {
  // Check if the clicked element is not the dropdown toggle or a child of the dropdown menu
  if (!event.target.matches('.dropdown-toggle') && !event.target.closest('.dropdown-menu')) {
    // If not, close the dropdown menu
    dropdownMenu.classList.remove('show');
  }
});

const toggleButton = document.querySelector('.toggle-button');
const navbarLinks = document.querySelector('.navbar-links');

toggleButton.addEventListener('click', () => {
  navbarLinks.classList.toggle('active');
});

document.addEventListener('click', (event) => {
  const isClickInsideNavbarLinks = navbarLinks.contains(event.target);
  const isClickInsideToggleButton = toggleButton.contains(event.target);

  if (!isClickInsideNavbarLinks && !isClickInsideToggleButton && navbarLinks.classList.contains('active')) {
    navbarLinks.classList.remove('active');
  }
});

  // Your web app's Firebase configuration
  const firebaseConfig = {
    apiKey: "AIzaSyBDUAF3qJGhLYQJPHyWwY0JzonN5l8ERzE",
    authDomain: "mnthen-3151d.firebaseapp.com",
    projectId: "mnthen-3151d",
    storageBucket: "mnthen-3151d.appspot.com",
    messagingSenderId: "416231360428",
    appId: "1:416231360428:web:36f69cc231be2d84a8dc09"
  };

  // Initialize Firebase
  firebase.initializeApp(firebaseConfig);
  const database = firebase.database();
  const auth = firebase.auth();

  // Check if user is authenticated
  firebase.auth().onAuthStateChanged((user) => {
    const accountLink = document.getElementById('account-link');
    if (user) {
      // User is logged in, update the link to point to the account page
      accountLink.href = '/account.html';
      accountLink.innerHTML = '<i class="fas fa-user-circle" style="margin-right: 5px"></i><span> Account Info</span>';
    } else {
      // User is not logged in, revert the link back to Sign In | Register
      accountLink.href = '/login.html';
      accountLink.innerHTML = '<i class="fas fa-user" style="margin-right: 5px"></i><span> Log In <span>|</span> Register</span>';
    }
  });

  // Function to fetch historical events
  function getHistoricalEvents() {
    // Get current date in mm-dd format
    const today = new Date();
    const month = (today.getMonth() + 1).toString().padStart(2, '0');
    const date = today.getDate().toString().padStart(2, '0');
    const formattedDate = `${month}-${date}`;

    // Create a reference to historical events for the current date
    const historicalEventRef = database.ref('date-info/' + formattedDate);

    // Fetch data from Firebase
    historicalEventRef.once('value', (snapshot) => {
      // Callback function handling successful data retrieval
      const historicalEvents = snapshot.val();
      const contentDiv = document.getElementById('today-in-history-content');

      if (historicalEvents) {
        // Clear previous content
        contentDiv.innerHTML = '';

        // Sort events chronologically by key (assuming keys are timestamps or sequentially ordered)
        const sortedKeys = Object.keys(historicalEvents).sort();

        // Array to hold HTML strings
        const htmlStrings = [];

        // Iterate through each historical event and build HTML strings
        sortedKeys.forEach((key) => {
          const event = historicalEvents[key];
          htmlStrings.push(`<p><strong>${event.year}:</strong> ${event.snippet}</p>`);
        });

        // Join all HTML strings and set as innerHTML
        contentDiv.innerHTML = htmlStrings.join('');
      } else {
        // Handle the case when no historical events are found for the current date
        contentDiv.innerHTML = `<p>No historical events found for this date (${formattedDate}).</p>`;
      }
    }, (error) => {
      // Error callback function
      console.error('Error fetching historical events:', error);
      const contentDiv = document.getElementById('today-in-history-content');
      contentDiv.innerHTML = '<p>An error occurred while fetching data. Please try again later.</p>';
    });
  }

  // Call the function to fetch historical events after Firebase initialization
  getHistoricalEvents();
</script>

<script>
    $('.carousel').carousel({
        interval: 10000
    });
</script>

 <script>
        var today = new Date();
        var options = { year: 'numeric', month: 'long', day: 'numeric' };
        var formattedDate = today.toLocaleDateString('en-US', options);
        document.getElementById('today-date').textContent = formattedDate;
    </script>
    
      <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js"></script>
  <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"></script>
  
</body>
</html>
