<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Minnesota Then History Tours</title>
  <link rel="shortcut icon" type="image/jpg" href="/images/mnthenfav.ico">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.0/dist/css/bootstrap.min.css">
</head>

  <style>

    * {

      box-sizing: border-box;

      margin: 0;

      padding: 0;

    }

    body {

      font-family: Arial, sans-serif;

      background-color: #f5f5f5;

    }

    .hero-image {

      width: 100%;

      height: auto;

    }

    .content-section {

      background-color: #f0f0f0;

      text-align: center;

      padding: 40px 0;

    }

    .content-container {

      max-width: 90%;

      margin: 0 auto;

      background-color: #fff;

      padding: 20px;

      border-radius: 4px;

      box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);

    }

    .title {

      font-size: 28px;

      font-weight: bold;

      margin-bottom: 10px;

      margin-top: 10px;

    }

    .author-container {

      display: flex;

      flex-direction: column;

      align-items: center;

      margin-bottom: 5px;

      margin-top: 15px;

    }

    .author-label {

      font-size: 24px;

      color: #000;

      margin-bottom: 5px;

    }

    .author-name {

      font-size: 20px;

      color: #00f;

    }

    .summary {

      font-size: 17px;

      margin-bottom: 25px;

      margin-top: 10px;

      text-align: left;

    }

    .audio-player {

      margin-top: 30px;

    }

    .white-box {

      background-color: #fff;

      padding: 20px;

    }

    .location-sponsor-header {

      font-size: 22px;

      margin-bottom: 10px;

    }

    .vertical-margin {

      margin-bottom: 40px;

    }

    @media (min-width: 768px) {

      .content-container {

        max-width: 800px;

      }

      .title {

        font-size: 32px;

        margin-bottom: 15px;

      }

      .author-label {

        font-size: 20px;

        margin-bottom: 10px;

        margin-top: 15px;

      }

      .author-name {

        font-size: 18px;

        margin-top: 5px;

      }

    }

    @media (min-width: 768px) {

      .white-box {

        padding: 40px;

      }

    }

      .additional-resources {

    padding-top: 40px;

    padding-bottom: 40px;

  }

  .additional-resources .container {

    max-width: 800px;

  }

  .additional-resources h2 {

    font-size: 28px;

    margin-bottom: 20px;

  }

  .additional-resources p {

    font-size: 18px;

    margin-bottom: 20px;

  }

  .additional-resources .row {

    justify-content: center;

  }

  .additional-resources .col-md-4 {

    margin-bottom: 20px;

  }

.btn-custom {

  white-space: nowrap;

  overflow: hidden;

  text-overflow: ellipsis;

}

.row {

  margin-right: -5px;

  margin-left: -5px;

}

.row > .col-md {

  padding-right: 5px;

  padding-left: 5px;

}

  </style>

<body>
  <img class="hero-image" src="https://img.particlenews.com/image.php?type=thumbnail_580x000&url=27rezY_0md1GMqu00" alt="Hero Image">

  <section class="content-section">
    <div class="content-container">
      <h1 class="title">Example Page</h1>
      <div class="author-container">
        <p class="author-name">John Doe</p>
      </div>
      <p class="summary">Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nullam auctor felis eget neque efficitur, id ultricies elit consequat. Maecenas mollis turpis id quam sollicitudin, in pellentesque ipsum fringilla. Nullam tempus arcu ut libero ultrices, ut ultrices orci laoreet. Aliquam id ullamcorper risus. In gravida tellus ac dui consequat, eu interdum elit congue.</p>
      <audio class="audio-player" controls>
        <source src="/audio/mn13.mp3" type="audio/mpeg">
        Your browser does not support the audio element.
      </audio>

      <div class="white-box">
        <section class="white-box">
          <div class="row justify-content-center">
            <div class="col-12 col-md-8 text-center">
              <p class="text-secondary">Latitude:</p>
              <h4 class="text-primary mb-4"><span id="latitude"></span></h4>
              <p class="text-secondary">Longitude:</p>
              <h4 class="text-primary mb-4"><span id="longitude"></span></h4>
              <p class="text-secondary">Distance from the center point:</p>
              <h4 class="text-primary mb-4"><span id="distance"></span></h4>
            </div>
          </div>
        </section>
      </div>
      
      <div class="container mb-5 text-center">
        <a href="/tour_page.html" class="btn btn-primary btn-lg">Exit to the other Available Tours</a>
      </div>

      <section class="additional-resources bg-white py-3 mt-3">
        <div class="container">
          <h2 class="text-center mb-4">Additional Resources</h2>
          <p class="text-center mb-4"><strong>Links open in a new page</strong></p>
          <div class="row">
            <div class="col-md-4">
              <div class="mb-3">
                <a href="https://www.11wells.com/spirits/minnesota-13-" target="_blank" class="btn btn-outline-secondary btn-block btn-lg">Eleven Wells</a>
              </div>
            </div>
            <div class="col-md-4">
              <div class="mb-3">
                <a href="#" class="btn btn-outline-secondary btn-block btn-lg">Resource</a>
              </div>
            </div>
            <div class="col-md-4">
              <div class="mb-3">
                <a href="#" class="btn btn-outline-secondary btn-block btn-lg">Resource</a>
              </div>
            </div>
          </div>
        </div>
      </section>

      <!-- Sponsor Box Start -->
      <p></p>
      <div class="container text-center">
        <div>
          <h3 class="location-sponsor-header">Location Sponsor</h3>
          <p></p>
          <img src="/images/sosp_logo.jpg" alt="Sponsor Logo" width="200" id="sponsorLogo">
        </div>
      </div>


      <div id="sponsorPopup" class="sponsor-popup">
        <div class="sponsor-content">
          <span class="close">&times;</span>
          <h3>About the Streets of St. Paul</h3>
          <p>Address:</p>
          <p>123 Main Street, Anytown, USA</p>
          <p>About Usr:</p>
          <p>Sponsor pages will offer a short summery to highlight the sponsor organization and include the address. Sponsorships can be purchased for $30/mo (3 mo minimum) or $300/yr.</p>
        </div>
      </div>

      <style>
        /* Sponsor Popup Styles */
        .sponsor-popup {
          display: none;
          position: fixed;
          z-index: 9999;
          left: 0;
          top: 0;
          width: 100%;
          height: 100%;
          overflow: auto;
          background-color: rgba(0, 0, 0, 0.4);
          justify-content: center;
          align-items: center;
        }

        .sponsor-content {
          background-color: #fff;
          padding: 20px;
          border-radius: 5px;
          max-width: 90%;
          max-height: 90%;
          position: relative;
        }

        .sponsor-content h3 {
          font-size: 28px;
          margin-bottom: 10px;
        }

        .sponsor-content p {
          font-size: 22px;
          line-height: 1.5;
          margin-bottom: 15px;
        }

        .sponsor-content .close {
          color: #aaa;
          font-size: 28px;
          font-weight: bold;
          cursor: pointer;
          position: absolute;
          top: 10px;
          right: 10px;
        }

        .sponsor-content .close:hover,
        .sponsor-content .close:focus {
          color: #000;
          text-decoration: none;
          cursor: pointer;
        }

        /* Mobile-friendly Styles */
        @media (max-width: 576px) {
          .sponsor-popup {
            position: fixed;
            width: 100%;
            height: 100%;
            top: 0;
            left: 0;
          }

          .sponsor-content {
            width: 90%;
            height: auto;
            max-height: 80%;
            overflow-y: auto;
          }

          .sponsor-content h3 {
            font-size: 24px;
          }

          .sponsor-content p {
            font-size: 18px;
          }
        }
      </style>

      <script>
        // Open the sponsor popup when the logo is clicked
        document.getElementById("sponsorLogo").addEventListener("click", function(event) {
          event.preventDefault();
          document.getElementById("sponsorPopup").style.display = "flex";
        });

        // Close the sponsor popup when the close button is clicked
        document.getElementsByClassName("close")[0].addEventListener("click", function() {
          document.getElementById("sponsorPopup").style.display = "none";
        });

        // Close the sponsor popup when clicking outside the popup area
        window.addEventListener("click", function(event) {
          var sponsorPopup = document.getElementById("sponsorPopup");
          if (event.target === sponsorPopup) {
            sponsorPopup.style.display = "none";
          }
        });
      </script>

     <!-- Sponsor box end -->
    </div>
  </section>

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.0/dist/js/bootstrap.min.js"></script>
  
<script>
  function getDistanceFromLatLonInFeet(lat1, lon1, lat2, lon2) {
    const R = 20908800; // Radius of the earth in feet
    const dLat = deg2rad(lat2 - lat1); // deg2rad below
    const dLon = deg2rad(lon2 - lon1);
    const a = Math.sin(dLat / 2) * Math.sin(dLat / 2) +
      Math.cos(deg2rad(lat1)) * Math.cos(deg2rad(lat2)) *
      Math.sin(dLon / 2) * Math.sin(dLon / 2);
    const c = 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1 - a));
    const d = R * c; // Distance in feet
    return d;
  }

  function deg2rad(deg) {
    return deg * (Math.PI / 180);
  }

  function updateDistance(latitude, longitude) {
    const centerLat = 45.14434636233414; // Center latitude
    const centerLong = -93.00422779506928; // Center longitude
    const distance = getDistanceFromLatLonInFeet(latitude, longitude, centerLat, centerLong);
    document.getElementById("latitude").textContent = latitude.toFixed(6);
    document.getElementById("longitude").textContent = longitude.toFixed(6);
    document.getElementById("distance").textContent = distance.toFixed(2) + " ft";
    if (distance === 15) {
      setTimeout(() => {
        window.location.href = "map.html";
      }, 3000); // Redirect after 3 seconds
    }
  }

  function getLocation() {
    if (navigator.geolocation) {
      navigator.geolocation.watchPosition(
        (position) => {
          const latitude = position.coords.latitude;
          const longitude = position.coords.longitude;
          updateDistance(latitude, longitude);
        },
        () => {
          alert("Unable to retrieve location."); // Error handling
        }
      );
    } else {
      alert("Geolocation is not supported by this browser."); // Error handling
    }
  }

  getLocation();
</script>
</body>
</html>
