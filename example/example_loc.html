<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Minnesota Then History Tours</title>
  <link rel="shortcut icon" type="image/jpg" href="/images/mnthenfav.ico"/>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.0/dist/css/bootstrap.min.css">
  <link rel="stylesheet" href="tour_styles.css">

  <style>
    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }

    body {
      font-family: Arial, sans-serif;
      background-color: #f5f5f5;
    }

    .hero-image {
      width: 100%;
      height: auto;
    }

    .content-section {
      background-color: #f0f0f0;
      text-align: center;
      padding: 40px 0;
    }

    .content-container {
      max-width: 90%;
      margin: 0 auto;
      background-color: #fff;
      padding: 20px;
      border-radius: 4px;
      box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
    }

    .title {
      font-size: 24px;
      font-weight: bold;
      margin-bottom: 10px;
    }

    .author-container {
      display: flex;
      flex-direction: column;
      align-items: center;
      margin-bottom: 5px;
      margin-top: 15px;
    }

  .author-label {
      font-size: 24px; /* Updated font size */
      color: #000;
      margin-bottom: 5px;
    }

    .author-name {
      font-size: 22px; /* Updated font size */
      color: #00f;
    }

    .summary {
      font-size: 18px;
      margin-bottom: 25px;
      margin-top: 10px;
      text-align: left;
    }

    .audio-player {
      margin-bottom: 15px;
    }

    .white-box {
      background-color: #fff;
      padding: 20px;
    }

    @media (min-width: 768px) {
      .content-container {
        max-width: 800px;
      }

      .title {
        font-size: 32px;
        margin-bottom: 15px;
      }

     @media (min-width: 768px) {
      .author-label {
        font-size: 20px;
        margin-bottom: 10px;
        margin-top: 15px;
      }

      .author-name {
        font-size: 18px;
        margin-top: 5px;
      }
    }

      .white-box {
        padding: 40px;
      }
      
      .location-sponsor-header {
  font-size: 22px;
  margin-bottom: 10px;
}

  .vertical-margin {
    margin-bottom: 40px;
  }
    }
  </style>
</head>
<body>
  <img class="hero-image" src="https://img.particlenews.com/image.php?type=thumbnail_580x000&url=3SpjTK_0kManQoA00" alt="Hero Image">

  <section class="content-section">
    <div class="content-container">
      <h1 class="title">Example Page</h1>
      <div class="summary">
        <p>This tour page exemplifies a captivating hero image, a concise summary, MP3 audio commentary, and relevant resources. Additionally, it offers sponsorship opportunities for interested parties.</p>
      </div>
      <div class="audio-player">
        <audio controls>
          <source src="test/rath.mp3" type="audio/mpeg">
          Your browser does not support the audio element.
        </audio>
      </div>
      <div class="author-container">
        <p class="author-label">Author:</p>
        <p class="author-name">Matt Reicher</p>
      </div>
    </div>
  </section>

  <section class="white-box">
    <div class="row justify-content-center">
      <div class="col-12 col-md-8 text-center">
        <p class="text-secondary">Latitude:</p>
        <h4 class="text-primary mb-4"><span id="latitude"></span></h4>
        <p class="text-secondary">Longitude:</p>
        <h4 class="text-primary mb-4"><span id="longitude"></span></h4>
        <p class="text-secondary">Distance from the location:</p>
        <h4 class="text-primary mb-4"><span id="distance"></span></h4>
      </div>
      <div class="container mt-5 text-center">
        <a href="/tour_page.html" class="btn btn-primary btn-lg">Return to the Available Tours</a>
      </div>
    </div>
  </section>

  <section class="additional-resources bg-light py-5">
    <div class="container">
      <h2 class="text-center mb-5">Additional Resources</h2>
      <div class="row">
        <div class="col-md-4 mb-3">
          <a href="https://heavytable.com/the-rathskeller-at-the-minnesota-capitol/" target="_blank" class="btn btn-outline-secondary btn-block btn-lg">Heavy Table</a>
        </div>
        <div class="col-md-4 mb-3">
          <a href="#" class="btn btn-outline-secondary btn-block btn-lg">Resource 2</a>
        </div>
        <div class="col-md-4 mb-3">
          <a href="#" class="btn btn-outline-secondary btn-block btn-lg">Resource 3</a>
          </div>
      </div>
      <p class="text-center"><strong>Please note that the links above will open in a new page.</strong></p>
    </div>
 
   <div class="vertical-margin"></div>
<!-- Sponsor info -->
<div class="container text-center">
  <div>
    <h3 class="location-sponsor-header">Location Sponsor</h3>
    <p></p>
    <img src="/images/sosp_logo.jpg" alt="Sponsor Logo" width="200" id="sponsorLogo">
  </div>
</div>

<!-- Sponsor Popup Box -->
<div id="sponsorPopup" class="sponsor-popup">
  <div class="sponsor-content">
    <span class="close">&times;</span>
    <h3>About the Streets of St. Paul</h3>
    <p>Address:</p>
    <p>123 Main Street, Anytown, USA</p>
    <p>Offer:</p>
    <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nulla pretium lobortis sapien at dignissim. Sed eget nisl auctor, accumsan purus ac, lobortis odio.</p>
  </div>
</div>

<style>
  /* Sponsor Popup Styles */
  .sponsor-popup {
    display: none; /* Hide the popup by default */
    position: fixed;
    z-index: 9999;
    left: 0;
    top: 0;
    width: 100%;
    height: 100%;
    overflow: auto;
    background-color: rgba(0, 0, 0, 0.4);
    display: none;
    justify-content: center;
    align-items: center;
  }

  .sponsor-content {
    background-color: #fff;
    padding: 20px;
    border-radius: 5px;
    max-width: 90%;
    max-height: 90%;
    position: relative;
  }

  .sponsor-content h3 {
    font-size: 24px;
    margin-bottom: 10px;
  }

  .sponsor-content p {
    font-size: 18px;
    line-height: 1.5;
    margin-bottom: 15px;
  }

  .sponsor-content .close {
    color: #aaa;
    font-size: 28px;
    font-weight: bold;
    cursor: pointer;
    position: absolute;
    top: 10px;
    right: 10px;
  }

  .sponsor-content .close:hover,
  .sponsor-content .close:focus {
    color: #000;
    text-decoration: none;
    cursor: pointer;
  }

  /* Mobile-friendly Styles */
  @media (max-width: 576px) {
    .sponsor-popup {
      position: fixed;
      width: 100%;
      height: 100%;
      top: 0;
      left: 0;
    }

    .sponsor-content {
      width: 90%;
      height: auto;
      max-height: 80%;
      overflow-y: auto;
    }

    .sponsor-content h3 {
      font-size: 20px;
    }

    .sponsor-content p {
      font-size: 16px;
    }
  }
</style>

<script>
  // Open the sponsor popup when the logo is clicked
  document.getElementById("sponsorLogo").addEventListener("click", function(event) {
    event.preventDefault();
    document.getElementById("sponsorPopup").style.display = "flex";
  });

  // Close the sponsor popup when the close button is clicked
  document.getElementsByClassName("close")[0].addEventListener("click", function() {
    document.getElementById("sponsorPopup").style.display = "none";
  });

  // Close the sponsor popup when clicking outside the popup area
  window.addEventListener("click", function(event) {
    var sponsorPopup = document.getElementById("sponsorPopup");
    if (event.target === sponsorPopup) {
      sponsorPopup.style.display = "none";
    }
  });
</script>

<!-- Sponsor box end -->

<script>
  function getDistanceFromLatLonInFeet(lat1, lon1, lat2, lon2) {
    const R = 20908800; // Radius of the earth in feet
    const dLat = deg2rad(lat2 - lat1); // deg2rad below
    const dLon = deg2rad(lon2 - lon1);
    const a = Math.sin(dLat / 2) * Math.sin(dLat / 2) +
      Math.cos(deg2rad(lat1)) * Math.cos(deg2rad(lat2)) *
      Math.sin(dLon / 2) * Math.sin(dLon / 2);
    const c = 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1 - a));
    const d = R * c; // Distance in feet
    return d;
  }

  function deg2rad(deg) {
    return deg * (Math.PI / 180);
  }

  function updateDistance(latitude, longitude) {
    const centerLat = 45.14443858883663; // Center latitude
    const centerLong = -93.00451478892819; // Center longitude
    const distance = getDistanceFromLatLonInFeet(latitude, longitude, centerLat, centerLong);
    document.getElementById("latitude").textContent = latitude.toFixed(6);
    document.getElementById("longitude").textContent = longitude.toFixed(6);
    document.getElementById("distance").textContent = distance.toFixed(2) + " ft";
    if (distance === 15) {
      setTimeout(() => {
        window.location.href = "map_test.html";
      }, 3000); // Redirect after 3 seconds
    }
  }

  function getLocation() {
    if (navigator.geolocation) {
      navigator.geolocation.watchPosition(
        (position) => {
          const latitude = position.coords.latitude;
          const longitude = position.coords.longitude;
          updateDistance(latitude, longitude);
        },
        () => {
          alert("Unable to retrieve location."); // Error handling
        }
      );
    } else {
      alert("Geolocation is not supported by this browser."); // Error handling
    }
  }

  getLocation();
</script>
</section>
</body>
</html>
